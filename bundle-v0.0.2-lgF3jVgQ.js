var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function a(t){t.forEach(n)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e){return e&&o(e.destroy)?e.destroy:t}function s(t,e){t.appendChild(e)}function u(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!r.getElementById(e)){const t=d("style");t.id=e,t.textContent=n,function(t,e){s(t.head||t,e),e.sheet}(r,t)}}function c(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function p(){return g(" ")}function v(){return g("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function x(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function $(t,e,n){t.classList.toggle(e,!!n)}function A(t,e){return new t(e)}let S;function j(t){S=t}function B(){if(!S)throw new Error("Function called outside component initialization");return S}function G(t){B().$$.on_mount.push(t)}function O(){const t=B();return(e,n,{cancelable:r=!1}={})=>{const a=t.$$.callbacks[e];if(a){const o=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return a.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}function M(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const k=[],T=[];let D=[];const P=[],L=Promise.resolve();let E=!1;function Y(){E||(E=!0,L.then(F))}function C(){return Y(),L}function N(t){D.push(t)}const q=new Set;let z=0;function F(){if(0!==z)return;const t=S;do{try{for(;z<k.length;){const t=k[z];z++,j(t),H(t.$$)}}catch(t){throw k.length=0,z=0,t}for(j(null),k.length=0,z=0;T.length;)T.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];q.has(e)||(q.add(e),e())}D.length=0}while(k.length);for(;P.length;)P.pop()();E=!1,q.clear(),j(t)}function H(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const I=new Set;let R;function U(){R={r:0,c:[],p:R}}function W(){R.r||a(R.c),R=R.p}function V(t,e){t&&t.i&&(I.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(I.has(t))return;I.add(t),R.c.push(()=>{I.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Z(t){return void 0!==t?.length?t:Array.from(t)}function J(t,e){t.d(1),e.delete(t.key)}function Q(t,e,n,r,o,l,i,s,u,c,f,h){let d=t.length,g=l.length,p=d;const v={};for(;p--;)v[t[p].key]=p;const y=[],m=new Map,b=new Map,w=[];for(p=g;p--;){const t=h(o,l,p),r=n(t);let a=i.get(r);a?w.push(()=>a.p(t,e)):(a=c(r,t),a.c()),m.set(r,y[p]=a),r in v&&b.set(r,Math.abs(p-v[r]))}const _=new Set,x=new Set;function $(t){V(t,1),t.m(s,f),i.set(t.key,t),f=t.first,g--}for(;d&&g;){const e=y[g-1],n=t[d-1],r=e.key,a=n.key;e===n?(f=e.first,d--,g--):m.has(a)?!i.has(r)||_.has(r)?$(e):x.has(a)?d--:b.get(r)>b.get(a)?(x.add(r),$(e)):(_.add(a),d--):(u(n,i),d--)}for(;d--;){const e=t[d];m.has(e.key)||u(e,i)}for(;g;)$(y[g-1]);return a(w),y}function K(t,e){const n={},r={},a={$$scope:1};let o=t.length;for(;o--;){const l=t[o],i=e[o];if(i){for(const t in l)t in i||(r[t]=1);for(const t in i)a[t]||(n[t]=i[t],a[t]=1);t[o]=i}else for(const t in l)a[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function tt(t){return"object"==typeof t&&null!==t?t:{}}function et(t){t&&t.c()}function nt(t,e,r){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,r),N(()=>{const e=t.$$.on_mount.map(n).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...e):a(e),t.$$.on_mount=[]}),i.forEach(N)}function rt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];D.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),D=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(e,n,o,l,i,s,u=null,c=[-1]){const h=S;j(e);const d=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||h.$$.root};u&&u(d.root);let g=!1;if(d.ctx=o?o(e,n.props||{},(t,n,...r)=>{const a=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=a)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](a),g&&function(t,e){-1===t.$$.dirty[0]&&(k.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],d.update(),g=!0,a(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();n.intro&&V(e.$$.fragment),nt(e,n.target,n.anchor),F()}j(h)}class ot{$$=void 0;$$set=void 0;$destroy(){rt(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}('body{font-family:Arial,sans-serif;margin:0;padding:0}body:before{background:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAO9aS0IQabDi4xnNumPfZ_6WekeLmYAAjoLaxtiyGlVHhY-IWu4taoBAAMCAAN5AAM2BA.jpeg);background-position:center 40%;background-repeat:no-repeat;background-size:cover;content:"";height:100%;left:0;opacity:.4;position:fixed;top:0;width:100%;z-index:-1}@keyframes bgChange{0%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAO9aS0IQabDi4xnNumPfZ_6WekeLmYAAjoLaxtiyGlVHhY-IWu4taoBAAMCAAN5AAM2BA.jpeg)}10%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAO5aS0IGLFkvkwshbnYM0X2nnrn7ZQAAjgLaxtiyGlVlPdy_5yBohgBAAMCAAN5AAM2BA.jpeg)}20%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAO3aS0IGCVJeVDGen1Z7Ftti7wWSosAAjYLaxtiyGlVvQ1E6FXem-8BAAMCAAN5AAM2BA.jpeg)}30%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAO1aS0H-g1fJawP4hBJkmJZN6hWF8MAAjQLaxtiyGlVRqB57zAIcnMBAAMCAAN5AAM2BA.jpeg)}40%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAANFaSwz5_X3iZTbFSZ7wMsahm8HH_4AAvULaxtiyGFVCVMm85gh4R0BAAMCAAN5AAM2BA.jpeg)}50%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAM6aSwz2XQitn2eqzURNAHfyIXeS0oAAuoLaxtiyGFVCcWTOHShpQABAQADAgADeQADNgQ.jpeg)}60%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAOWaSw4UZC5x-LOedeUG0Tz244p6MYAAj0MaxtiyGFVnBi1mFI0ou0BAAMCAAN4AAM2BA.jpeg)}70%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAOUaSw4LgABK85InyZf-JEHhokbTUBFAAI7DGsbYshhVfzRPLzMay8zAQADAgADeQADNgQ.jpeg)}80%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAOGaSw37AWRJq5jVrnxlr9R0utocSsAAjEMaxtiyGFVF7nX2YkjwQQBAAMCAAN5AAM2BA.jpeg)}90%{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAN8aSw3rcZqJX2NjeqqEAx4U59rg6kAAiwMaxtiyGFVxo5T2KKACRsBAAMCAAN5AAM2BA.jpeg)}to{background-image:url(https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAO9aS0IQabDi4xnNumPfZ_6WekeLmYAAjoLaxtiyGlVHhY-IWu4taoBAAMCAAN5AAM2BA.jpeg)}}:global(body){background:#fff;box-sizing:border-box;color:#333;font-family:-apple-system,BlinkMacSystemFont,PingFang SC,Microsoft YaHei,sans-serif;font-size:16px;line-height:1.6;margin:0}:global(*){box-sizing:border-box}.container{margin:0 auto;max-width:1200px;padding:0 20px}@media (max-width:768px){.container{padding:0 15px}}.main{min-height:calc(100vh - 231px);padding:40px 0}');const lt=[];function it(t,e){return{subscribe:st(t,e).subscribe}}function st(e,n=t){let r;const a=new Set;function o(t){if(l(e,t)&&(e=t,r)){const t=!lt.length;for(const t of a)t[1](),lt.push(t,e);if(t){for(let t=0;t<lt.length;t+=2)lt[t][0](lt[t+1]);lt.length=0}}}function i(t){o(t(e))}return{set:o,update:i,subscribe:function(l,s=t){const u=[l,s];return a.add(u),1===a.size&&(r=n(o,i)||t),l(e),()=>{a.delete(u),0===a.size&&r&&(r(),r=null)}}}}function ut(e,n,r){const l=!Array.isArray(e),i=l?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=n.length<2;return it(r,(e,r)=>{let u=!1;const c=[];let f=0,h=t;const d=()=>{if(f)return;h();const a=n(l?c[0]:c,e,r);s?e(a):h=o(a)?a:t},g=i.map((e,n)=>function(e,...n){if(null==e){for(const t of n)t(void 0);return t}const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(e,t=>{c[n]=t,f&=~(1<<n),u&&d()},()=>{f|=1<<n}));return u=!0,d(),function(){a(g),h(),u=!1}})}function ct(t){let n,r,a;const o=[t[2]];var l=t[0];function i(t,n){let r={};for(let t=0;t<o.length;t+=1)r=e(r,o[t]);return void 0!==n&&4&n&&(r=e(r,K(o,[tt(t[2])]))),{props:r}}return l&&(n=A(l,i(t)),n.$on("routeEvent",t[7])),{c(){n&&et(n.$$.fragment),r=v()},m(t,e){n&&nt(n,t,e),c(t,r,e),a=!0},p(t,e){if(1&e&&l!==(l=t[0])){if(n){U();const t=n;X(t.$$.fragment,1,0,()=>{rt(t,1)}),W()}l?(n=A(l,i(t,e)),n.$on("routeEvent",t[7]),et(n.$$.fragment),V(n.$$.fragment,1),nt(n,r.parentNode,r)):n=null}else if(l){const r=4&e?K(o,[tt(t[2])]):{};n.$set(r)}},i(t){a||(n&&V(n.$$.fragment,t),a=!0)},o(t){n&&X(n.$$.fragment,t),a=!1},d(t){t&&f(r),n&&rt(n,t)}}}function ft(t){let n,r,a;const o=[{params:t[1]},t[2]];var l=t[0];function i(t,n){let r={};for(let t=0;t<o.length;t+=1)r=e(r,o[t]);return void 0!==n&&6&n&&(r=e(r,K(o,[2&n&&{params:t[1]},4&n&&tt(t[2])]))),{props:r}}return l&&(n=A(l,i(t)),n.$on("routeEvent",t[6])),{c(){n&&et(n.$$.fragment),r=v()},m(t,e){n&&nt(n,t,e),c(t,r,e),a=!0},p(t,e){if(1&e&&l!==(l=t[0])){if(n){U();const t=n;X(t.$$.fragment,1,0,()=>{rt(t,1)}),W()}l?(n=A(l,i(t,e)),n.$on("routeEvent",t[6]),et(n.$$.fragment),V(n.$$.fragment,1),nt(n,r.parentNode,r)):n=null}else if(l){const r=6&e?K(o,[2&e&&{params:t[1]},4&e&&tt(t[2])]):{};n.$set(r)}},i(t){a||(n&&V(n.$$.fragment,t),a=!0)},o(t){n&&X(n.$$.fragment,t),a=!1},d(t){t&&f(r),n&&rt(n,t)}}}function ht(t){let e,n,r,a;const o=[ft,ct],l=[];function i(t,e){return t[1]?0:1}return e=i(t),n=l[e]=o[e](t),{c(){n.c(),r=v()},m(t,n){l[e].m(t,n),c(t,r,n),a=!0},p(t,[a]){let s=e;e=i(t),e===s?l[e].p(t,a):(U(),X(l[s],1,1,()=>{l[s]=null}),W(),n=l[e],n?n.p(t,a):(n=l[e]=o[e](t),n.c()),V(n,1),n.m(r.parentNode,r))},i(t){a||(V(n),a=!0)},o(t){X(n),a=!1},d(t){t&&f(r),l[e].d(t)}}}function dt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const gt=it(null,function(t){t(dt());const e=()=>{t(dt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}});ut(gt,t=>t.location),ut(gt,t=>t.querystring);const pt=st(void 0);function vt(t,e){if(e=mt(e),!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return yt(t,e),{update(e){e=mt(e),yt(t,e)}}}function yt(t,e){let n=e.href||t.getAttribute("href");if(n&&"/"==n.charAt(0))n="#"+n;else if(!n||n.length<2||"#/"!=n.slice(0,2))throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",t=>{t.preventDefault(),e.disabled||function(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}(t.currentTarget.getAttribute("href"))})}function mt(t){return t&&"string"==typeof t?{href:t}:t||{}}function bt(t,e,n){let{routes:r={}}=e,{prefix:a=""}=e,{restoreScrollState:o=!1}=e;class l{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(t){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,n,r,a,o=[],l="",i=t.split("/");for(i[0]||i.shift();r=i.shift();)"*"===(e=r[0])?(o.push("wild"),l+="/(.*)"):":"===e?(n=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~n?n:~a?a:r.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+r.substring(a))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+"/?$","i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(t){if(a)if("string"==typeof a){if(!t.startsWith(a))return null;t=t.substr(a.length)||"/"}else if(a instanceof RegExp){const e=t.match(a);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(e[r+1]||"")||null}catch(t){n[this._keys[r]]=null}r++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const i=[];r instanceof Map?r.forEach((t,e)=>{i.push(new l(e,t))}):Object.keys(r).forEach(t=>{i.push(new l(t,r[t]))});let s=null,u=null,c={};const f=O();async function h(t,e){await C(),f(t,e)}let d=null,g=null;var p;o&&(g=t=>{d=t.state&&(t.state.__svelte_spa_router_scrollY||t.state.__svelte_spa_router_scrollX)?t.state:null},window.addEventListener("popstate",g),p=()=>{var t;(t=d)?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)},B().$$.after_update.push(p));let v=null,y=null;const m=gt.subscribe(async t=>{v=t;let e=0;for(;e<i.length;){const r=i[e].match(t.location);if(!r){e++;continue}const a={route:i[e].path,location:t.location,querystring:t.querystring,userData:i[e].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await i[e].checkConditions(a))return n(0,s=null),y=null,void h("conditionsFailed",a);h("routeLoading",Object.assign({},a));const o=i[e].component;if(y!=o){o.loading?(n(0,s=o.loading),y=o,n(1,u=o.loadingParams),n(2,c={}),h("routeLoaded",Object.assign({},a,{component:s,name:s.name,params:u}))):(n(0,s=null),y=null);const e=await o();if(t!=v)return;n(0,s=e&&e.default||e),y=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,u=r):n(1,u=null),n(2,c=i[e].props),void h("routeLoaded",Object.assign({},a,{component:s,name:s.name,params:u})).then(()=>{pt.set(u)})}n(0,s=null),y=null,pt.set(void 0)});return function(t){B().$$.on_destroy.push(t)}(()=>{m(),g&&window.removeEventListener("popstate",g)}),t.$$set=t=>{"routes"in t&&n(3,r=t.routes),"prefix"in t&&n(4,a=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[s,u,c,r,a,o,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)}]}class wt extends ot{constructor(t){super(),at(this,t,bt,ht,l,{routes:3,prefix:4,restoreScrollState:5})}}function _t(t){u(t,"svelte-3j5j87",".header.svelte-3j5j87.svelte-3j5j87{background:rgba(255, 255, 255, 0.3);border-bottom:1px solid #eee;position:sticky;top:0;z-index:10;padding:15px 0}.header.svelte-3j5j87 .container.svelte-3j5j87{display:flex;justify-content:space-between;align-items:center}.logo.svelte-3j5j87.svelte-3j5j87{font-size:24px;font-weight:bold;color:#333;text-decoration:none}.nav.svelte-3j5j87 ul.svelte-3j5j87{list-style:none;display:flex;gap:30px;margin:0;padding:0}.nav.svelte-3j5j87 a.svelte-3j5j87{text-decoration:none;color:#333;font-size:16px;transition:color 0.3s ease}.nav.svelte-3j5j87 a.svelte-3j5j87:hover{color:#007acc}@media(max-width: 768px){.header.svelte-3j5j87 .container.svelte-3j5j87{flex-direction:column;gap:10px}.nav.svelte-3j5j87 ul.svelte-3j5j87{gap:20px;flex-wrap:wrap;justify-content:center}}")}function xt(e){let n,r,o,l,u,h,g,v,y,m,w,_,x,$,A,S,j,B,G,O,M;return{c(){n=d("header"),r=d("div"),o=d("a"),o.textContent="博·客 - Why128",l=p(),u=d("nav"),h=d("ul"),g=d("li"),g.innerHTML='<a href="/" class="svelte-3j5j87">首页</a>',v=p(),y=d("li"),m=d("a"),m.textContent="关于",w=p(),_=d("li"),x=d("a"),x.textContent="八字",$=p(),A=d("li"),S=d("a"),S.textContent="八卦",j=p(),B=d("li"),G=d("a"),G.textContent="订阅",b(o,"href","/"),b(o,"class","logo svelte-3j5j87"),b(m,"href","/about"),b(m,"class","svelte-3j5j87"),b(x,"href","/eightcharacters"),b(x,"class","svelte-3j5j87"),b(S,"href","/gossip"),b(S,"class","svelte-3j5j87"),b(G,"href","/subscribe"),b(G,"class","svelte-3j5j87"),b(h,"class","svelte-3j5j87"),b(u,"class","nav svelte-3j5j87"),b(r,"class","container svelte-3j5j87"),b(n,"class","header svelte-3j5j87")},m(t,e){c(t,n,e),s(n,r),s(r,o),s(r,l),s(r,u),s(u,h),s(h,g),s(h,v),s(h,y),s(y,m),s(h,w),s(h,_),s(_,x),s(h,$),s(h,A),s(A,S),s(h,j),s(h,B),s(B,G),O||(M=[i(vt.call(null,m)),i(vt.call(null,x)),i(vt.call(null,S)),i(vt.call(null,G))],O=!0)},p:t,i:t,o:t,d(t){t&&f(n),O=!1,a(M)}}}let $t=class extends ot{constructor(t){super(),at(this,t,null,xt,l,{},_t)}};function At(t){u(t,"svelte-zxbile",".footer.svelte-zxbile.svelte-zxbile{background:rgba(248, 249, 250, 0.3);border-top:1px solid #eee;padding:20px 0;text-align:center;font-size:14px;color:#999}.footer.svelte-zxbile a.svelte-zxbile{color:#007acc;text-decoration:none}.footer.svelte-zxbile a.svelte-zxbile:hover{text-decoration:underline}")}function St(e){let n,r,a,o,l,u,h,p,v;return{c(){n=d("footer"),r=d("div"),a=d("p"),o=g("© 2025 MintYouth. Powered by Typecho. "),l=d("a"),l.textContent="RSS",u=g("\n            |\n            "),h=d("a"),h.textContent="GitHub",b(l,"href","/subscribe"),b(l,"class","svelte-zxbile"),b(h,"target","_blank"),b(h,"href","https://github.com/why128"),b(h,"class","svelte-zxbile"),b(r,"class","container"),b(n,"class","footer svelte-zxbile")},m(t,e){c(t,n,e),s(n,r),s(r,a),s(a,o),s(a,l),s(a,u),s(a,h),p||(v=i(vt.call(null,l)),p=!0)},p:t,i:t,o:t,d(t){t&&f(n),p=!1,v()}}}let jt=class extends ot{constructor(t){super(),at(this,t,null,St,l,{},At)}};const Bt="DUMMY_KEY";const Gt=new class{url;token;constructor(t,e){this.url=t,this.token=e}from(t){const e=this,n={table:t,selectCols:"*",orders:[],limit:null,offset:null,filters:[],body:null},r=async(t,r)=>{const a=(()=>{const t=new URLSearchParams;if(t.set("select",n.selectCols),n.orders.length>0){const e=n.orders.map(t=>`${t.column}.${t.ascending?"asc":"desc"}`).join(",");t.set("order",e)}return null!==n.limit&&t.set("limit",n.limit.toString()),null!==n.offset&&t.set("offset",n.offset.toString()),n.filters.length>0&&n.filters.forEach(e=>{const n=e.operator||"eq",r=Array.isArray(e.value)&&"in"===n?`{${e.value.join(",")}}`:e.value;t.append(e.column,`${n}.${r}`)}),`${e.url.endsWith("/")?e.url.slice(0,-1):e.url}/rest/v1/${n.table}?${t.toString()}`})(),o={"X-API-Token":e.token,Authorization:`Bearer ${Bt}`,apikey:Bt,"Content-Type":"application/json","accept-profile":"public"};r&&(o.Prefer=r);const l=await fetch(a,{method:t,headers:o,body:["GET","HEAD"].includes(t)?void 0:JSON.stringify(n.body)});try{if(!l.ok){const t=await l.text();let e=null;try{e=JSON.parse(t)}catch{}const n=e?.message||e?.error||t;return{data:null,error:{message:`[${l.status} ${l.statusText}] ${n}`,status:l.status}}}if(204===l.status)return{data:[],error:null,count:null};const t=await l.text();if(0===t.length)return{data:[],error:null,count:null};const e=JSON.parse(t);return{data:e,error:null,count:r?.includes("count=exact")?parseInt(l.headers.get("content-range")?.split("/")[1]||"0"):null}}catch(t){return{data:null,error:{message:`Client Error: Failed to process response. ${t.message||t}`,status:l.status}}}};return{select(t="*"){return n.selectCols=t,this},get({count:t=null}={}){let e="";return"exact"===t&&(e="count=exact"),r("GET",e)},insert(t,{returning:e="representation"}={}){n.body=Array.isArray(t)?t:[t];return r("POST",`return=${e}`)},update(t,{returning:e="representation"}={}){n.body=t;return r("PATCH",`return=${e}`)},delete:({returning:t="minimal"}={})=>r("DELETE",`return=${t}`),order(t,{ascending:e=!0}={}){return n.orders.push({column:t,ascending:e}),this},limit(t){return n.limit=t,this},range(t,e){return n.offset=t,n.limit=e-t+1,this},eq(t,e){return n.filters.push({column:t,value:e,operator:"eq"}),this},neq(t,e){return n.filters.push({column:t,value:e,operator:"neq"}),this},gt(t,e){return n.filters.push({column:t,value:e,operator:"gt"}),this},gte(t,e){return n.filters.push({column:t,value:e,operator:"gte"}),this},lt(t,e){return n.filters.push({column:t,value:e,operator:"lt"}),this},lte(t,e){return n.filters.push({column:t,value:e,operator:"lte"}),this},like(t,e){return n.filters.push({column:t,value:e,operator:"like"}),this},ilike(t,e){return n.filters.push({column:t,value:e,operator:"ilike"}),this},in(t,e){return n.filters.push({column:t,value:e,operator:"in"}),this},match(t){return Object.entries(t).forEach(([t,e])=>n.filters.push({column:t,value:e,operator:"eq"})),this}}}}("https://githubio.wattley.top/","123456789"),Ot=t=>String(t).padStart(2,"0");function Mt(t){const e=new Date(t);return`${((t=new Date)=>`${t.getFullYear()}-${Ot(t.getMonth()+1)}-${Ot(t.getDate())}`)(new Date(e.toLocaleDateString()))} ${e.toLocaleTimeString()}`}function kt(t){u(t,"svelte-6cae60",".diago.svelte-6cae60.svelte-6cae60{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99;background:rgba(0, 0, 0, 0.8);display:flex;justify-content:center;align-items:center;flex-direction:column}.diago.svelte-6cae60 img.svelte-6cae60{display:block;border-radius:50%;width:200px;height:200px;opacity:0.5}.diago.svelte-6cae60 p.svelte-6cae60{font-size:20px;color:#eee;letter-spacing:0.2em}")}function Tt(t){let e;return{c(){e=d("div"),e.innerHTML='<img src="1f5b9489ee2cf574.gif" alt="" class="svelte-6cae60"/> <p class="svelte-6cae60">加载中...</p>',b(e,"class","diago svelte-6cae60")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function Dt(e){let n,r=e[0]&&Tt();return{c(){r&&r.c(),n=v()},m(t,e){r&&r.m(t,e),c(t,n,e)},p(t,[e]){t[0]?r||(r=Tt(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&f(n),r&&r.d(t)}}}function Pt(t,e,n){let{diago:r=!0}=e;return t.$$set=t=>{"diago"in t&&n(0,r=t.diago)},[r]}class Lt extends ot{constructor(t){super(),at(this,t,Pt,Dt,l,{diago:0},kt)}}function Et(t){u(t,"svelte-15xtqs2",".posts.svelte-15xtqs2.svelte-15xtqs2{display:flex;flex-direction:column;gap:30px}.post-item.svelte-15xtqs2.svelte-15xtqs2{background:rgba(255, 255, 255, 0.6);border:1px solid #eee;border-radius:8px;padding:25px;box-shadow:0 2px 8px rgba(0, 0, 0, 0.05);transition:box-shadow 0.3s ease}.post-item.svelte-15xtqs2.svelte-15xtqs2:hover{box-shadow:0 4px 12px rgba(0, 0, 0, 0.1)}.post-title.svelte-15xtqs2.svelte-15xtqs2{margin:0 0 10px 0;font-size:20px}.post-title.svelte-15xtqs2 a.svelte-15xtqs2{color:#222;text-decoration:none}.post-title.svelte-15xtqs2 a.svelte-15xtqs2:hover{color:#007acc}.post-meta.svelte-15xtqs2.svelte-15xtqs2{font-size:14px;color:#999;margin-bottom:15px}.post-excerpt.svelte-15xtqs2.svelte-15xtqs2{margin:0 0 15px 0;color:#666}.read-more.svelte-15xtqs2.svelte-15xtqs2{font-size:14px;color:#007acc;text-decoration:none}.read-more.svelte-15xtqs2.svelte-15xtqs2:hover{text-decoration:underline}.pagination.svelte-15xtqs2.svelte-15xtqs2{margin-top:40px;text-align:center}.pagination.svelte-15xtqs2 ul.svelte-15xtqs2{list-style:none;display:flex;justify-content:center;gap:10px;margin:0;padding:0}.pagination.svelte-15xtqs2 li.svelte-15xtqs2{display:inline-block}.pagination.svelte-15xtqs2 a.svelte-15xtqs2{display:block;padding:8px 12px;border:1px solid #ddd;border-radius:4px;text-decoration:none;color:#333;transition:background 0.3s}.pagination.svelte-15xtqs2 a.svelte-15xtqs2:hover{background:#f5f5f5}.pagination.svelte-15xtqs2 .active a.svelte-15xtqs2{background:#007acc;color:#fff;border-color:#007acc}@media(max-width: 768px){.pagination.svelte-15xtqs2 ul.svelte-15xtqs2{flex-wrap:wrap;gap:5px}}")}function Yt(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ct(t,e,n){const r=t.slice();return r[12]=e[n],r}function Nt(t){let e,n,r,o,l,u,h,v,y,m,_,x,$,A,S,j,B,G,O,M,k,T,D,P,L=t[12].title+"",E=t[12].date+"",Y=t[12].readTime+"",C=t[12].excerpt+"";return{c(){e=d("article"),n=d("h2"),r=d("a"),o=g(L),u=p(),h=d("div"),v=d("span"),y=g(E),m=p(),_=d("span"),x=g("· "),$=g(Y),A=g(" 次阅读"),S=p(),j=d("p"),B=g(C),G=p(),O=d("a"),M=g("阅读全文 →"),T=p(),b(r,"href",l=`${t[12].link}/${t[12].id}`),b(r,"class","svelte-15xtqs2"),b(n,"class","post-title svelte-15xtqs2"),b(v,"class","date"),b(_,"class","read-time"),b(h,"class","post-meta svelte-15xtqs2"),b(j,"class","post-excerpt svelte-15xtqs2"),b(O,"href",k=`${t[12].link}/${t[12].id}`),b(O,"class","read-more svelte-15xtqs2"),b(e,"class","post-item svelte-15xtqs2")},m(t,a){c(t,e,a),s(e,n),s(n,r),s(r,o),s(e,u),s(e,h),s(h,v),s(v,y),s(h,m),s(h,_),s(_,x),s(_,$),s(_,A),s(e,S),s(e,j),s(j,B),s(e,G),s(e,O),s(O,M),s(e,T),D||(P=[i(vt.call(null,r)),i(vt.call(null,O))],D=!0)},p(t,e){2&e&&L!==(L=t[12].title+"")&&w(o,L),2&e&&l!==(l=`${t[12].link}/${t[12].id}`)&&b(r,"href",l),2&e&&E!==(E=t[12].date+"")&&w(y,E),2&e&&Y!==(Y=t[12].readTime+"")&&w($,Y),2&e&&C!==(C=t[12].excerpt+"")&&w(B,C),2&e&&k!==(k=`${t[12].link}/${t[12].id}`)&&b(O,"href",k)},d(t){t&&f(e),D=!1,a(P)}}}function qt(t){let e,n,r,a,o=t[2]>1&&zt(t),l=Z(Array.from({length:t[3]},Rt)),i=[];for(let e=0;e<l.length;e+=1)i[e]=Ft(Yt(t,l,e));let u=t[2]<t[3]&&Ht(t);return{c(){e=d("nav"),n=d("ul"),o&&o.c(),r=p();for(let t=0;t<i.length;t+=1)i[t].c();a=p(),u&&u.c(),b(n,"class","svelte-15xtqs2"),b(e,"class","pagination svelte-15xtqs2")},m(t,l){c(t,e,l),s(e,n),o&&o.m(n,null),s(n,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(n,null);s(n,a),u&&u.m(n,null)},p(t,e){if(t[2]>1?o?o.p(t,e):(o=zt(t),o.c(),o.m(n,r)):o&&(o.d(1),o=null),28&e){let r;for(l=Z(Array.from({length:t[3]},Rt)),r=0;r<l.length;r+=1){const o=Yt(t,l,r);i[r]?i[r].p(o,e):(i[r]=Ft(o),i[r].c(),i[r].m(n,a))}for(;r<i.length;r+=1)i[r].d(1);i.length=l.length}t[2]<t[3]?u?u.p(t,e):(u=Ht(t),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d(t){t&&f(e),o&&o.d(),h(i,t),u&&u.d()}}}function zt(e){let n,r,a,o;return{c(){n=d("li"),r=d("a"),r.textContent="上一页",b(r,"href","#"),b(r,"class","svelte-15xtqs2"),b(n,"class","svelte-15xtqs2")},m(t,l){c(t,n,l),s(n,r),a||(o=y(r,"click",m(e[5])),a=!0)},p:t,d(t){t&&f(n),a=!1,o()}}}function Ft(t){let e,n,r,a,o,l=t[9]+"";function i(){return t[6](t[9])}return{c(){e=d("li"),n=d("a"),r=g(l),b(n,"href","#"),b(n,"class","svelte-15xtqs2"),b(e,"class","svelte-15xtqs2"),$(e,"active",t[9]===t[2])},m(t,l){c(t,e,l),s(e,n),s(n,r),a||(o=y(n,"click",m(i)),a=!0)},p(n,a){t=n,8&a&&l!==(l=t[9]+"")&&w(r,l),12&a&&$(e,"active",t[9]===t[2])},d(t){t&&f(e),a=!1,o()}}}function Ht(e){let n,r,a,o;return{c(){n=d("li"),r=d("a"),r.textContent="下一页",b(r,"href","#"),b(r,"class","svelte-15xtqs2"),b(n,"class","svelte-15xtqs2")},m(t,l){c(t,n,l),s(n,r),a||(o=y(r,"click",m(e[7])),a=!0)},p:t,d(t){t&&f(n),a=!1,o()}}}function It(t){let e,n,r,a,o,l,i,u,g,v,y;e=new Lt({props:{diago:t[0]}}),r=new $t({});let m=Z(t[1]),w=[];for(let e=0;e<m.length;e+=1)w[e]=Nt(Ct(t,m,e));let _=t[3]>1&&qt(t);return v=new jt({}),{c(){et(e.$$.fragment),n=p(),et(r.$$.fragment),a=p(),o=d("main"),l=d("div"),i=d("div");for(let t=0;t<w.length;t+=1)w[t].c();u=p(),_&&_.c(),g=p(),et(v.$$.fragment),b(i,"class","posts svelte-15xtqs2"),b(l,"class","container"),b(o,"class","main")},m(t,f){nt(e,t,f),c(t,n,f),nt(r,t,f),c(t,a,f),c(t,o,f),s(o,l),s(l,i);for(let t=0;t<w.length;t+=1)w[t]&&w[t].m(i,null);s(l,u),_&&_.m(l,null),c(t,g,f),nt(v,t,f),y=!0},p(t,[n]){const r={};if(1&n&&(r.diago=t[0]),e.$set(r),2&n){let e;for(m=Z(t[1]),e=0;e<m.length;e+=1){const r=Ct(t,m,e);w[e]?w[e].p(r,n):(w[e]=Nt(r),w[e].c(),w[e].m(i,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=m.length}t[3]>1?_?_.p(t,n):(_=qt(t),_.c(),_.m(l,null)):_&&(_.d(1),_=null)},i(t){y||(V(e.$$.fragment,t),V(r.$$.fragment,t),V(v.$$.fragment,t),y=!0)},o(t){X(e.$$.fragment,t),X(r.$$.fragment,t),X(v.$$.fragment,t),y=!1},d(t){t&&(f(n),f(a),f(o),f(g)),rt(e,t),rt(r,t),h(w,t),_&&_.d(),rt(v,t)}}}const Rt=(t,e)=>e+1;function Ut(t,e,n){let r=!1,a=[],o=1,l=1;async function i(t,e){n(0,r=!0);const{data:o,error:l}=await Gt.from("githubio_list").order("id",{ascending:!1}).range((t-1)*e,t*e-1).select("id,title,date,excerpt,content,link,readTime").get();if(l)return console.error("查询失败 (Error)",l),401===l.status?console.warn("错误类型: 401 Unauthorized - 认证失败，请检查 FRONTEND_TOKEN 或 DUMMY_KEY"):404===l.status?console.warn("错误类型: 404 Not Found - 表 githubio_list 可能不存在"):console.warn(`错误类型: 其他错误 Status ${l.status}`),null;n(1,a=o.map(t=>({id:t.id,title:t.title,date:Mt(t.date),excerpt:t.excerpt,content:t.content,link:t.link,readTime:t.readTime}))),n(0,r=!1)}function s(t){n(2,o=t),i(o,2)}(async()=>{const{data:t,error:e}=await Gt.from("githubio_list").select("id").get({count:"exact"});if(e)return console.error("查询失败 (Error)",e),null;n(3,l=Math.ceil(t.length/2))})(),G(()=>{i(o,2)});return[r,a,o,l,s,()=>s(o-1),t=>s(t),()=>s(o+1)]}function Wt(t){u(t,"svelte-1jzaapv",".item.svelte-1jzaapv.svelte-1jzaapv{height:120px;display:flex;align-items:center;justify-content:flex-start}.item.svelte-1jzaapv p.svelte-1jzaapv{font-size:20px;color:#333;margin-right:50px}.tg.svelte-1jzaapv a.svelte-1jzaapv{font-size:20px;color:#007bff}.avatar.svelte-1jzaapv img.svelte-1jzaapv{width:100px;height:100px;border-radius:50%}")}function Vt(e){let n,r,a,o,l,i;return n=new $t({}),l=new jt({}),{c(){et(n.$$.fragment),r=p(),a=d("div"),a.innerHTML='<div class="container"><div class="item avatar svelte-1jzaapv"><p class="svelte-1jzaapv">头像：</p> <img src="https://image.wattley.top/file/AgACAgUAAyEGAATPGd8VAAPAaTAhW3MoHwz_siovOi_lVpDsWlYAAkoMaxvSYoBVywkOTEoeGvQBAAMCAAN4AAM2BA.jpg" alt="" class="svelte-1jzaapv"/></div> <div class="item avatar svelte-1jzaapv"><p class="svelte-1jzaapv">博客：</p> <p class="svelte-1jzaapv">https://why128.github.io</p></div> <div class="item avatar svelte-1jzaapv"><p class="svelte-1jzaapv">地址：</p> <p class="svelte-1jzaapv">北京市朝阳区</p></div> <div class="item avatar svelte-1jzaapv"><p class="svelte-1jzaapv">合作：</p> <p class="svelte-1jzaapv">+1 571 530 2930 (USA)</p></div> <div class="item tg svelte-1jzaapv"><p class="svelte-1jzaapv">TG：</p> <a target="_blank" href="https://t.me/githubio_why128" class="svelte-1jzaapv">@githubio_why128</a></div></div>',o=p(),et(l.$$.fragment),b(a,"class","main")},m(t,e){nt(n,t,e),c(t,r,e),c(t,a,e),c(t,o,e),nt(l,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),V(l.$$.fragment,t),i=!0)},o(t){X(n.$$.fragment,t),X(l.$$.fragment,t),i=!1},d(t){t&&(f(r),f(a),f(o)),rt(n,t),rt(l,t)}}}function Xt(e){let n;return{c(){n=d("h1"),n.textContent="error 404"},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function Zt(t){u(t,"svelte-1ewgx66",".btn.svelte-1ewgx66.svelte-1ewgx66{padding:0.5rem 1rem;border-radius:0.25rem;border:1px solid #ccc;border-color:none;background-color:#fff;cursor:pointer;display:block;float:right}.btn-primary.svelte-1ewgx66.svelte-1ewgx66{background-color:#007bff;color:#fff}.sub-title.svelte-1ewgx66.svelte-1ewgx66{display:flex}.sub-title.svelte-1ewgx66 .date.svelte-1ewgx66{font-size:14px;color:#666}.sub-title.svelte-1ewgx66 .readtime.svelte-1ewgx66{font-size:14px;color:#666;margin-left:50px}.content-html.svelte-1ewgx66.svelte-1ewgx66{font-size:18px;color:#971701;word-wrap:break-word;white-space:pre-wrap}.content-html.svelte-1ewgx66 *{white-space:pre-wrap;word-wrap:break-word}")}function Jt(t){let e,n,r,a,o,l,i,u,h,v,m,_,x,$,A,S,j,B=t[1]?.title+"",G=Mt(t[1]?.date)+"",O=Number(t[1]?.readTime)+1+"",M=t[1]?.content+"";return{c(){e=d("h2"),n=g(B),r=p(),a=d("button"),a.textContent="返回",o=p(),l=d("div"),i=d("p"),u=g("发布时间: "),h=g(G),v=p(),m=d("p"),_=g("查阅次数: "),x=g(O),$=p(),A=d("div"),b(a,"class","btn btn-primary svelte-1ewgx66"),b(a,"type","button"),b(i,"class","date svelte-1ewgx66"),b(m,"class","readtime svelte-1ewgx66"),b(l,"class","sub-title svelte-1ewgx66"),b(A,"class","content-html svelte-1ewgx66")},m(t,f){c(t,e,f),s(e,n),s(e,r),s(e,a),c(t,o,f),c(t,l,f),s(l,i),s(i,u),s(i,h),s(l,v),s(l,m),s(m,_),s(m,x),c(t,$,f),c(t,A,f),A.innerHTML=M,S||(j=y(a,"click",Kt),S=!0)},p(t,e){2&e&&B!==(B=t[1]?.title+"")&&w(n,B),2&e&&G!==(G=Mt(t[1]?.date)+"")&&w(h,G),2&e&&O!==(O=Number(t[1]?.readTime)+1+"")&&w(x,O),2&e&&M!==(M=t[1]?.content+"")&&(A.innerHTML=M)},d(t){t&&(f(e),f(o),f(l),f($),f(A)),S=!1,j()}}}function Qt(t){let e,n,r,a,o,l,i,u,h;e=new Lt({props:{diago:t[0]}}),r=new $t({});let g=t[1]&&Jt(t);return u=new jt({}),{c(){et(e.$$.fragment),n=p(),et(r.$$.fragment),a=p(),o=d("div"),l=d("div"),g&&g.c(),i=p(),et(u.$$.fragment),b(l,"class","container"),b(o,"class","main")},m(t,f){nt(e,t,f),c(t,n,f),nt(r,t,f),c(t,a,f),c(t,o,f),s(o,l),g&&g.m(l,null),c(t,i,f),nt(u,t,f),h=!0},p(t,[n]){const r={};1&n&&(r.diago=t[0]),e.$set(r),t[1]?g?g.p(t,n):(g=Jt(t),g.c(),g.m(l,null)):g&&(g.d(1),g=null)},i(t){h||(V(e.$$.fragment,t),V(r.$$.fragment,t),V(u.$$.fragment,t),h=!0)},o(t){X(e.$$.fragment,t),X(r.$$.fragment,t),X(u.$$.fragment,t),h=!1},d(t){t&&(f(n),f(a),f(o),f(i)),rt(e,t),rt(r,t),g&&g.d(),rt(u,t)}}}function Kt(){window.location.hash="#/"}function te(t,e,n){let r=!0,{params:a}=e,o=null;return G(()=>{!async function(t){const{data:e,error:a}=await Gt.from("githubio_list").select("id,title,date,excerpt,content,link,readTime").eq("id",t).get();if(a)return console.error("查询失败 (Error)",a),null;n(1,o=e[0]);const l=(o?.readTime||0)+1,{data:i,error:s}=await Gt.from("githubio_list").eq("id",t).update({readTime:l},{returning:"minimal"});s?console.error("递增 readtime 失败:",s):console.log("readtime 递增请求已发送成功。"),n(0,r=!1)}(Number(a.id))}),t.$$set=t=>{"params"in t&&n(2,a=t.params)},[r,o,a]}var ee,ne,re;!function(t){t.IDLE="idle",t.PLAYING="playing",t.WON="won",t.FAILED="failed",t.FINISHED="finished"}(ee||(ee={})),function(t){t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right"}(ne||(ne={})),function(t){t[t.EMPTY=0]="EMPTY",t[t.WALL=1]="WALL",t[t.TARGET=2]="TARGET",t[t.BOX=3]="BOX",t[t.BOX_ON_TARGET=4]="BOX_ON_TARGET",t[t.PLAYER=5]="PLAYER",t[t.PLAYER_ON_TARGET=6]="PLAYER_ON_TARGET"}(re||(re={}));class ae{levelData;currentLevel;grid;playerPos;moves;history;state;maxHistoryLength=100;constructor(t){this.levelData=t,this.currentLevel=0,this.grid=[],this.playerPos={x:0,y:0},this.moves=0,this.history=[],this.state=ee.IDLE,this.loadLevel(this.currentLevel)}loadLevel(t){return t<0||t>=this.levelData.length?(console.error(`Invalid level index: ${t}`),!1):(this.currentLevel=t,this.grid=JSON.parse(JSON.stringify(this.levelData[t].map)),this.moves=0,this.history=[],this.findPlayer(),this.state=ee.PLAYING,console.log(`Loaded level ${t+1}: ${this.levelData[t].name}`),!0)}findPlayer(){for(let t=0;t<this.grid.length;t++)for(let e=0;e<this.grid[t].length;e++)if(this.isPlayer(this.grid[t][e]))return void(this.playerPos={x:e,y:t});console.warn("Player not found in level map")}isPlayer(t){return t===re.PLAYER||t===re.PLAYER_ON_TARGET}isBox(t){return t===re.BOX||t===re.BOX_ON_TARGET}isTarget(t){return t===re.TARGET||t===re.BOX_ON_TARGET||t===re.PLAYER_ON_TARGET}isValidPosition(t,e){return e>=0&&e<this.grid.length&&t>=0&&t<this.grid[e].length}move(t){if(console.log(`Current game state: ${this.state}`),this.state!==ee.PLAYING)return console.warn("Cannot move: game is not in playing state"),!1;const e=this.getDirectionDelta(t),n=this.playerPos.x+e.x,r=this.playerPos.y+e.y,a=n+e.x,o=r+e.y;if(!this.isValidPosition(n,r))return!1;const l=this.grid[r][n],i=this.isValidPosition(a,o)?this.grid[o][a]:null;this.saveState();let s=l,u=i;if(this.isBox(l)){if(null===i||i===re.WALL||this.isBox(i))return this.history.pop(),!1;u=this.isTarget(i)?re.BOX_ON_TARGET:re.BOX,s=this.isTarget(l)?re.TARGET:re.EMPTY}else if(l===re.WALL)return!1;return this.updatePlayerPosition(s),this.grid[r][n]=this.isTarget(s)?re.PLAYER_ON_TARGET:re.PLAYER,null!==u&&(this.grid[o][a]=u),this.playerPos={x:n,y:r},this.moves++,this.checkWin()&&(this.state=ee.WON,console.log(`Level ${this.currentLevel+1} completed in ${this.moves} moves!`)),!0}getDirectionDelta(t){switch(t){case ne.UP:return{x:0,y:-1};case ne.DOWN:return{x:0,y:1};case ne.LEFT:return{x:-1,y:0};case ne.RIGHT:return{x:1,y:0};default:return{x:0,y:0}}}updatePlayerPosition(t){this.isTarget(this.grid[this.playerPos.y][this.playerPos.x])?this.grid[this.playerPos.y][this.playerPos.x]=re.TARGET:this.grid[this.playerPos.y][this.playerPos.x]=re.EMPTY}saveState(){const t={grid:JSON.parse(JSON.stringify(this.grid)),playerPos:{...this.playerPos},moves:this.moves};this.history.push(t),this.history.length>this.maxHistoryLength&&this.history.shift()}undo(){if(0===this.history.length||this.state!==ee.PLAYING)return console.warn("Cannot undo: no history or game not in playing state"),!1;const t=this.history.pop();return!!t&&(this.grid=t.grid,this.playerPos=t.playerPos,this.moves=t.moves,!0)}checkWin(){for(let t=0;t<this.grid.length;t++)for(let e=0;e<this.grid[t].length;e++)if(this.grid[t][e]===re.TARGET||this.grid[t][e]===re.PLAYER_ON_TARGET)return!1;return!0}reset(){this.loadLevel(this.currentLevel)}getHint(){for(let t=0;t<this.grid.length;t++)for(let e=0;e<this.grid[t].length;e++)if(this.grid[t][e]===re.TARGET)return`将箱子推到位置 (${e+1}, ${t+1})`;return"没有找到目标点"}getCurrentLevel(){return this.currentLevel}getTotalLevels(){return this.levelData.length}getMoves(){return this.moves}getState(){return this.state}getGrid(){return this.grid}getPlayerPos(){return{...this.playerPos}}canUndo(){return this.history.length>0&&this.state===ee.PLAYING}isPlaying(){return this.state===ee.PLAYING}hasWon(){return this.state===ee.WON}}function oe(t,e){const n=e.replace(/^\n+|\n+$/g,"").split("\n"),r=Math.max(...n.map(t=>t.length)),a={"#":1," ":0,".":2,$:3,"*":4,"@":5,"+":6};return{name:t,map:n.map(t=>t.padEnd(r," ").split("").map(t=>a[t]??0))}}const le=[oe("1","    #####\n    #   #\n    #$  #\n  ###  $##\n  #  $ $ #\n### # ## #   ######\n#   # ## #####  ..#\n# $  $          ..#\n##### ### #@##  ..#\n    #     #########\n    #######"),oe("2","############\n#..  #     #\n#..  # $  $#\n#..  #$#####\n#..    @   #\n#..  # #   #\n###### ##$ #\n  # $ $ $ $#\n  #    #   #\n  ##########"),oe("3","        ########\n        #     @#\n        # $#$ ##\n        # $  $#\n        ## #  #\n#########  ## #   ######\n#....  ## $  # #  #    #\n#....          ####    #\n#....  ##$  #  #       #\n#########  ##$ #  ######\n        ##    ##\n        ########"),oe("4","##########\n#        #\n#  #######\n#  #..   #\n# $#..   #\n#  #..   #\n# $#######\n# $      #\n#  @     #\n##########"),oe("5","      #######\n      #     #\n      # $ $ #\n      #  @  #\n####### $ $ #######\n#.... # $ $ # ....#\n#....       # ....#\n#.... # $ $ # ....#\n####### $ $ #######\n      #  $  #\n      #     #\n      #######"),oe("6","######  ####\n#    ###   #\n# $$       #\n# @  ###   #\n###### ######\n  #      #\n  #      #\n  #      #\n  #......#\n  #......#\n  ########"),oe("7","#############\n#..#        #\n#..# $ $ $  #\n#..#  $ $   #\n#..# @ $ $  #\n#..#  $ $   #\n#..#        #\n#############"),oe("8","  ####\n###  ####\n#  $    #\n#  $#$  #\n#  $.$  #\n#  $#$  #\n# @$ $  #\n#    ####\n######"),oe("9","      ########\n      #      #\n      #      #\n      #      #\n#######      #######\n#      $ $ $       #\n#      $ @ $       #\n#      $ $ $       #\n#######      #######\n      #      #\n      #......#\n      #......#\n      #......#\n      ########"),oe("10","############\n#          #\n#  $$$$$$  #\n#  $    $  #\n#  $ .. $  #\n#  $ .. $  #\n#  $ @  $  #\n#  $    $  #\n#  $$$$$$  #\n#          #\n############"),oe("11","  #######\n  #     #\n  # $#$ #\n  # $ @ #\n  # $#$ #\n  #     #\n  #######"),oe("12","#######\n#     #\n# $#$ #\n# $.$ #\n# $#$ #\n# @   #\n#######"),oe("13","#######\n#..@..#\n# $#$ #\n#  $  #\n# $#$ #\n#.. ..#\n#######"),oe("14","########\n#      #\n# $#$# #\n# $.$  #\n# $#$# #\n# @    #\n########"),oe("15","#######\n#  .  #\n# $#$ #\n#$.@.$#\n# $#$ #\n#  .  #\n#######"),oe("16","  #####\n###   #\n#  $  #\n# .$. #\n#  $  #\n# @   #\n#######"),oe("17","  #####\n###   #\n# $ $ #\n# .@. #\n# $ $ #\n###   #\n  #####"),oe("18","#######\n#     #\n# .$. #\n# $.$ #\n# .@. #\n#     #\n#######"),oe("19","########\n#  ....#\n#  $$$$#\n#  @   #\n########"),oe("20","########\n#      #\n# $ $ $#\n# . . .#\n# @    #\n########"),oe("21","  #####\n  #   #\n  #$  #\n###  $##\n#  $ $ #\n# $ #  #\n#  ... #\n########"),oe("22","#######\n#     #\n# $ $ #\n# .$. #\n# $ $ #\n#  @  #\n#######"),oe("23","  ####\n###  ####\n#  $    #\n#  $#$  #\n#  $.$  #\n#  $#$  #\n# @$ $  #\n#    ####\n######"),oe("24"," #####\n #   #\n##$#$##\n# .@. #\n#  #  #\n#######"),oe("25","#######\n#     #\n# $.$ #\n# .@. #\n# $.$ #\n#     #\n#######"),oe("26","  ####\n###  #\n#  $ #\n# @#.#\n#  $ #\n###  #\n  ####"),oe("27","#######\n#     #\n# . . #\n# $ $ #\n#  @  #\n#######"),oe("28"," #####\n # . #\n##$#$##\n# .@. #\n#######"),oe("29","#######\n# @   #\n# $ $ #\n# . . #\n#######"),oe("30"," #####\n # . #\n##$#$##\n#  @  #\n#######"),oe("31","#######\n#     #\n# $ $ #\n# . . #\n#  @  #\n#######"),oe("32","  #####\n###   #\n#  $. #\n# @   #\n#######"),oe("33","#######\n#     #\n#  $  #\n# .@  #\n#######"),oe("34","#######\n#     #\n#  .  #\n#  $  #\n#  @  #\n#######"),oe("35","#######\n#  .  #\n#  $  #\n# @   #\n#######"),oe("36","#######\n#     #\n# $   #\n# .   #\n# @   #\n#######"),oe("37","#######\n#     #\n# .   #\n# $   #\n# @   #\n#######"),oe("38","#######\n#     #\n# @   #\n# $   #\n# .   #\n#######"),oe("39","#######\n#     #\n# @   #\n# .   #\n# $   #\n#######"),oe("40","#######\n#     #\n# $   #\n# @   #\n# .   #\n#######"),oe("41","#######\n#     #\n# .   #\n# @   #\n# $   #\n#######"),oe("42","  #####\n###   #\n#  $. #\n#  @  #\n#######"),oe("43","#######\n#     #\n#  $  #\n#  .  #\n#  @  #\n#######"),oe("44","#######\n#     #\n#  .  #\n#  $  #\n#  @  #\n#######"),oe("45","#######\n#     #\n#  @  #\n#  $  #\n#  .  #\n#######"),oe("46","#######\n#     #\n#  @  #\n#  .  #\n#  $  #\n#######"),oe("47","#######\n#     #\n#  $  #\n#  @  #\n#  .  #\n#######"),oe("48","#######\n#     #\n#  .  #\n#  @  #\n#  $  #\n#######"),oe("49","#######\n#     #\n# $ . #\n#  @  #\n#######"),oe("50","#######\n#     #\n# . $ #\n#  @  #\n#######"),oe("51","#######\n#     #\n# @ . #\n#  $  #\n#######"),oe("52","#######\n#     #\n# @ $ #\n#  .  #\n#######"),oe("53","#######\n#     #\n# $ @ #\n#  .  #\n#######"),oe("54","#######\n#     #\n# . @ #\n#  $  #\n#######"),oe("55","  ####\n###  #\n#  $ #\n#@$ .#\n#  . #\n######"),oe("56","#####\n#@  #\n# $ #\n# $ #\n# ..#\n#####"),oe("57","######\n#@   #\n# $$ #\n# .. #\n#    #\n######"),oe("58","#######\n# . . #\n# $ $ #\n#  @  #\n#######"),oe("59","#######\n# $ $ #\n# . . #\n#  @  #\n#######"),oe("60","#######\n# . @ #\n# $ . #\n# $   #\n#######"),oe("61","#######\n#  $  #\n# .@. #\n#  $  #\n#######"),oe("62","#######\n#  .  #\n# $@$ #\n#  .  #\n#######"),oe("63","  ####\n###  ####\n#  $ .  #\n# @$ $ .#\n#  .    #\n#########"),oe("64","#######\n#     #\n# $.$ #\n# @   #\n#######"),oe("65","#######\n#  .  #\n# $#$ #\n#  @  #\n#######"),oe("66","#######\n# @   #\n# $#$ #\n#  .  #\n#######"),oe("67","#######\n# .   #\n# $#$ #\n# @   #\n#######"),oe("68","#######\n# @   #\n# $#$ #\n# .   #\n#######"),oe("69","  #####\n###   #\n#  $#.#\n# @   #\n#######"),oe("70","#######\n#     #\n# $#  #\n# .@  #\n#######"),oe("71","#######\n#     #\n# .#  #\n#  $  #\n#  @  #\n#######"),oe("72","#######\n#     #\n#  @  #\n#  $  #\n#  .#  #\n#######"),oe("73","#######\n#     #\n#  @  #\n#  .#  #\n#  $  #\n#######"),oe("74","#######\n#     #\n#  $  #\n#  @  #\n#  .#  #\n#######"),oe("75","#######\n#     #\n#  .#  #\n#  @  #\n#  $  #\n#######"),oe("76","#######\n#     #\n# $ . #\n#  @# #\n#######"),oe("77","#######\n#     #\n# . $ #\n#  @# #\n#######"),oe("78","#######\n#     #\n# @ . #\n#  $# #\n#######"),oe("79","#######\n#     #\n# @ $ #\n#  .# #\n#######"),oe("80","#######\n#     #\n# $ @ #\n#  .# #\n#######"),oe("81","#######\n#     #\n# . @ #\n#  $# #\n#######"),oe("82","########\n#  . . #\n# #$#$ #\n#@$ .  #\n########"),oe("83","  ####\n###  #\n#  $ #\n#@$ .#\n#  . #\n######"),oe("84","#####\n#@  #\n# $ #\n# $ #\n# ..#\n#####"),oe("85","######\n#@   #\n# $$ #\n# .. #\n#    #\n######"),oe("86","#######\n# . . #\n# $ $ #\n#  @  #\n#######"),oe("87","#######\n# $ $ #\n# . . #\n#  @  #\n#######"),oe("88","#######\n# . @ #\n# $ . #\n# $   #\n#######"),oe("89","  ####\n###  #\n#  $ #\n# @$ #\n#  . #\n#  . #\n######"),oe("90","  ####\n###  ####\n#  $$.  #\n#  $@.  #\n#  $$.  #\n###  ####\n  ####")];oe("第1关","####\n# .#\n#  ###\n#*@  #\n#  $ #\n#  ###\n####"),oe("第2关","###########\n#    #    #\n#  $ . $  #\n#  @ # .  #\n#    #    #\n###########"),oe("第3关","  ####\n###  ####\n# @   . #\n#  $$.  #\n####  ###\n   ####"),oe("第4关","###########\n#  #  #   #\n# $.  $ . #\n# @#  #   #\n############"),oe("第5关","######\n#    #\n# .. #\n# $$ #\n# @  #\n######"),oe("第6关","##########\n#  .  .  #\n#  $  $  #\n#    @   #\n##########"),oe("第7关"," #####\n #   #\n##$#$##\n# .@. #\n#  #  #\n#######"),oe("第8关","#######\n#     #\n# $.$ #\n# .@. #\n# $.$ #\n#     #\n#######"),oe("第9关","  #####\n###   #\n# @$$ #\n#  .. #\n#######"),oe("第10关","#######\n#  .  #\n# $#$ #\n# .@. #\n#######"),oe("第11关","  ####\n###  #\n#  $ #\n# @#.#\n#  $ #\n###  #\n  ####"),oe("第12关","#######\n#     #\n# .$. #\n# $@$ #\n# .$. #\n#     #\n#######"),oe("第13关"," #####\n #   #\n##$#$##\n# .@. #\n#######"),oe("第14关","  ####\n###  #\n#  $ #\n# .#@#\n#  $ #\n###  #\n  ####"),oe("第15关","#######\n#     #\n# . . #\n# $ $ #\n#  @  #\n#######"),oe("第16关","#######\n# @   #\n# $ $ #\n# . . #\n#######"),oe("第17关"," #####\n # . #\n##$#$##\n# .@. #\n#######"),oe("第18关","#######\n#     #\n# $ $ #\n# . . #\n#  @  #\n#######"),oe("第19关"," #####\n # . #\n##$#$##\n#  @  #\n#######"),oe("第20关","#######\n#  .  #\n# $#$ #\n#  @  #\n#######"),oe("第21关","#######\n#     #\n# $ $ #\n# .@. #\n#######"),oe("第22关","#######\n#  .  #\n#  $  #\n#  @  #\n#######"),oe("第23关","#####\n#   #\n# @ #\n# $ #\n# . #\n#####"),oe("第24关","#####\n# . #\n# $ #\n# @ #\n#   #\n#####"),oe("第25关","#####\n#   #\n# $ #\n# . #\n# @ #\n#####"),oe("第26关","#######\n#     #\n# $.$ #\n#  @  #\n#######"),oe("第27关","  #####\n###   #\n#  $. #\n# @   #\n#######"),oe("get28关","#######\n#     #\n#  $  #\n# .@  #\n#######"),oe("第29关","#######\n#     #\n#  .  #\n#  $  #\n#  @  #\n#######"),oe("第30关","#####\n# . #\n# $ #\n# @ #\n#####"),oe("第31关","#######\n#  .  #\n#  $  #\n# @   #\n#######"),oe("第32关","#######\n#     #\n# $   #\n# .   #\n# @   #\n#######"),oe("第33关","#######\n#     #\n# .   #\n# $   #\n# @   #\n#######"),oe("第34关","#######\n#     #\n# @   #\n# $   #\n# .   #\n#######"),oe("第35关","#######\n#     #\n# @   #\n# .   #\n# $   #\n#######"),oe("第36关","#######\n#     #\n# $   #\n# @   #\n# .   #\n#######"),oe("第37关","#######\n#     #\n# .   #\n# @   #\n# $   #\n#######"),oe("第38关","  #####\n###   #\n#  $. #\n#  @  #\n#######"),oe("第39关","#######\n#     #\n#  $  #\n#  .  #\n#  @  #\n#######"),oe("第40关","#######\n#     #\n#  .  #\n#  $  #\n#  @  #\n#######"),oe("第41关","#######\n#     #\n#  @  #\n#  $  #\n#  .  #\n#######"),oe("第42关","#######\n#     #\n#  @  #\n#  .  #\n#  $  #\n#######"),oe("第43关","#######\n#     #\n#  $  #\n#  @  #\n#  .  #\n#######"),oe("第44关","#######\n#     #\n#  .  #\n#  @  #\n#  $  #\n#######"),oe("第45关","#######\n#     #\n# $ . #\n#  @  #\n#######"),oe("第46关","#######\n#     #\n# . $ #\n#  @  #\n#######"),oe("第47关","#######\n#     #\n# @ . #\n#  $  #\n#######"),oe("第48关","#######\n#     #\n# @ $ #\n#  .  #\n#######"),oe("第49关","#######\n#     #\n# $ @ #\n#  .  #\n#######"),oe("第50关","#######\n#     #\n# . @ #\n#  $  #\n#######");const ie=le.length;function se(t){return{[re.EMPTY]:"",[re.WALL]:"wall",[re.TARGET]:"target",[re.BOX]:"box",[re.BOX_ON_TARGET]:"box-on-target",[re.PLAYER]:"player",[re.PLAYER_ON_TARGET]:"player-on-target"}[t]||""}function ue(t){return t.toString().padStart(3,"0")}function ce(t,e){return((t+1)/e*100).toFixed(0)}function fe(t){u(t,"svelte-yffwaf",'.sokoban-container.svelte-yffwaf.svelte-yffwaf{min-height:calc(100vh - 200px);background:linear-gradient(\n            135deg,\n            #1a1a2e 0%,\n            #16213e 50%,\n            #0f3460 100%\n        );padding:20px}.game-header.svelte-yffwaf.svelte-yffwaf{text-align:center;margin-bottom:20px}.game-header.svelte-yffwaf h1.svelte-yffwaf{color:#e94560;font-size:2.5rem;text-shadow:2px 2px 4px rgba(0, 0, 0, 0.3);margin:0}.subtitle.svelte-yffwaf.svelte-yffwaf{color:#a0a0a0;font-size:1.1rem;margin-top:10px}.game-info.svelte-yffwaf.svelte-yffwaf{display:flex;justify-content:center;align-items:center;gap:30px;margin-bottom:20px;flex-wrap:wrap}.info-item.svelte-yffwaf.svelte-yffwaf{display:flex;align-items:center;gap:8px;color:#fff;font-size:1.1rem}.info-item.svelte-yffwaf .label.svelte-yffwaf{color:#a0a0a0}.info-item.svelte-yffwaf .value.svelte-yffwaf{color:#e94560;font-weight:bold;font-size:1.3rem}.progress-bar.svelte-yffwaf.svelte-yffwaf{width:200px;height:20px;background:#2a2a4a;border-radius:10px;overflow:hidden}.progress.svelte-yffwaf.svelte-yffwaf{height:100%;background:linear-gradient(90deg, #e94560, #ff6b6b);border-radius:10px;transition:width 0.3s ease}.control-buttons.svelte-yffwaf.svelte-yffwaf{display:flex;justify-content:center;gap:15px;margin-bottom:20px;flex-wrap:wrap}.btn.svelte-yffwaf.svelte-yffwaf{padding:12px 24px;border:none;border-radius:8px;font-size:1rem;font-weight:bold;cursor:pointer;transition:all 0.3s ease;text-transform:uppercase;letter-spacing:1px}.btn.svelte-yffwaf.svelte-yffwaf:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px rgba(0, 0, 0, 0.3)}.btn.svelte-yffwaf.svelte-yffwaf:disabled{opacity:0.5;cursor:not-allowed}.btn-start.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #00b894, #00cec9);color:white}.btn-undo.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #6c5ce7, #a29bfe);color:white}.btn-reset.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #fdcb6e, #f39c12);color:#333}.btn-help.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #74b9ff, #0984e3);color:white}.help-panel.svelte-yffwaf.svelte-yffwaf{background:rgba(255, 255, 255, 0.1);border-radius:12px;padding:20px;margin-bottom:20px;color:#fff}.help-panel.svelte-yffwaf h3.svelte-yffwaf{color:#e94560;margin-top:0}.help-panel.svelte-yffwaf ul.svelte-yffwaf{list-style:none;padding:0}.help-panel.svelte-yffwaf li.svelte-yffwaf{margin-bottom:10px;padding-left:20px;position:relative}.help-panel.svelte-yffwaf li.svelte-yffwaf::before{content:"•";color:#e94560;position:absolute;left:0}.legend.svelte-yffwaf.svelte-yffwaf{display:flex;flex-wrap:wrap;gap:15px;margin-top:15px}.legend-item.svelte-yffwaf.svelte-yffwaf{display:flex;align-items:center;gap:8px}.legend-icon.svelte-yffwaf.svelte-yffwaf{width:24px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:14px}.legend-icon.wall.svelte-yffwaf.svelte-yffwaf{background:#2a2a4a}.legend-icon.target.svelte-yffwaf.svelte-yffwaf{background:#00b894}.legend-icon.box.svelte-yffwaf.svelte-yffwaf{background:#e17055}.legend-icon.box-on-target.svelte-yffwaf.svelte-yffwaf{background:#00b894}.legend-icon.player.svelte-yffwaf.svelte-yffwaf{background:#74b9ff}.game-board.svelte-yffwaf.svelte-yffwaf{display:flex;justify-content:center;margin-bottom:20px}.grid.svelte-yffwaf.svelte-yffwaf{display:inline-block;background:#1a1a2e;padding:10px;border-radius:12px;box-shadow:0 10px 30px rgba(0, 0, 0, 0.5)}.row.svelte-yffwaf.svelte-yffwaf{display:flex}.cell.svelte-yffwaf.svelte-yffwaf{width:50px;height:50px;display:flex;align-items:center;justify-content:center;font-size:24px;border-radius:4px;transition:all 0.2s ease}.cell.wall.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #2a2a4a, #1a1a2e);box-shadow:inset 2px 2px 5px rgba(0, 0, 0, 0.5)}.cell.svelte-yffwaf.svelte-yffwaf:not(.wall){background:#0f3460}.cell.target.svelte-yffwaf.svelte-yffwaf{background:#0f3460}.target-marker.svelte-yffwaf.svelte-yffwaf{color:#00b894;font-size:16px;animation:svelte-yffwaf-pulse 2s infinite}@keyframes svelte-yffwaf-pulse{0%,100%{opacity:0.5;transform:scale(0.8)}50%{opacity:1;transform:scale(1.2)}}.box-icon.svelte-yffwaf.svelte-yffwaf,.box-on-target-icon.svelte-yffwaf.svelte-yffwaf{font-size:28px}.box-on-target-icon.svelte-yffwaf.svelte-yffwaf{filter:drop-shadow(0 0 5px #00b894)}.player-icon.svelte-yffwaf.svelte-yffwaf,.player-on-target-icon.svelte-yffwaf.svelte-yffwaf{font-size:32px}.player-on-target-icon.svelte-yffwaf.svelte-yffwaf{filter:drop-shadow(0 0 5px #00b894)}.mobile-controls.svelte-yffwaf.svelte-yffwaf{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:20px}.control-row.svelte-yffwaf.svelte-yffwaf{display:flex;gap:10px}.control-btn.svelte-yffwaf.svelte-yffwaf{width:60px;height:60px;border:none;border-radius:12px;background:linear-gradient(135deg, #2a2a4a, #1a1a2e);color:#fff;font-size:24px;cursor:pointer;transition:all 0.2s ease;box-shadow:0 4px 10px rgba(0, 0, 0, 0.3)}.control-btn.svelte-yffwaf.svelte-yffwaf:hover:not(:disabled){transform:scale(1.1)}.control-btn.svelte-yffwaf.svelte-yffwaf:active:not(:disabled){transform:scale(0.95)}.control-btn.svelte-yffwaf.svelte-yffwaf:disabled{opacity:0.5;cursor:not-allowed}.level-navigation.svelte-yffwaf.svelte-yffwaf{display:flex;justify-content:center;align-items:center;gap:20px}.btn-level.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #6c5ce7, #a29bfe);color:white}.level-indicator.svelte-yffwaf.svelte-yffwaf{color:#fff;font-size:1.2rem;font-weight:bold}.modal-overlay.svelte-yffwaf.svelte-yffwaf{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:1000;animation:svelte-yffwaf-fadeIn 0.3s ease}@keyframes svelte-yffwaf-fadeIn{from{opacity:0}to{opacity:1}}.modal-content.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #1a1a2e, #16213e);border-radius:20px;padding:30px;max-width:400px;width:90%;text-align:center;box-shadow:0 20px 50px rgba(0, 0, 0, 0.5);animation:svelte-yffwaf-slideIn 0.3s ease}@keyframes svelte-yffwaf-slideIn{from{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header.svelte-yffwaf h2.svelte-yffwaf{color:#e94560;margin:0 0 20px 0;font-size:1.8rem}.modal-body.svelte-yffwaf p.svelte-yffwaf{color:#fff;font-size:1.1rem;margin:10px 0}.modal-subtitle.svelte-yffwaf.svelte-yffwaf{color:#a0a0a0 !important;font-size:0.9rem !important}.modal-footer.svelte-yffwaf.svelte-yffwaf{display:flex;gap:15px;justify-content:center;margin-top:25px}.btn-restart.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #fdcb6e, #f39c12);color:#333}.btn-next.svelte-yffwaf.svelte-yffwaf{background:linear-gradient(135deg, #00b894, #00cec9);color:white}@media(max-width: 600px){.game-header.svelte-yffwaf h1.svelte-yffwaf{font-size:1.8rem}.cell.svelte-yffwaf.svelte-yffwaf{width:40px;height:40px;font-size:20px}.control-btn.svelte-yffwaf.svelte-yffwaf{width:50px;height:50px;font-size:20px}.btn.svelte-yffwaf.svelte-yffwaf{padding:10px 18px;font-size:0.9rem}}')}function he(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function de(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function ge(t){let e;return{c(){e=d("div"),e.innerHTML='<h3 class="svelte-yffwaf">🎯 游戏说明</h3> <ul class="svelte-yffwaf"><li class="svelte-yffwaf">🎮 使用 <strong>方向键</strong> 或 <strong>WASD</strong>\n                        控制角色移动</li> <li class="svelte-yffwaf">📦 将箱子 <strong>推</strong> 到目标点（绿色圆点）上</li> <li class="svelte-yffwaf">⚠️ 箱子只能推，不能拉</li> <li class="svelte-yffwaf">↩️ 按 <strong>Ctrl+Z</strong> 或点击撤回按钮可以撤销操作</li> <li class="svelte-yffwaf">🔄 按 <strong>R</strong> 键或点击重置按钮重新开始当前关卡</li></ul> <h3 class="svelte-yffwaf">🎨 图例</h3> <div class="legend svelte-yffwaf"><span class="legend-item svelte-yffwaf"><span class="legend-icon player svelte-yffwaf"></span> 玩家</span> <span class="legend-item svelte-yffwaf"><span class="legend-icon box svelte-yffwaf"></span> 箱子</span> <span class="legend-item svelte-yffwaf"><span class="legend-icon target svelte-yffwaf"></span> 目标点</span> <span class="legend-item svelte-yffwaf"><span class="legend-icon box-on-target svelte-yffwaf"></span> 完成</span> <span class="legend-item svelte-yffwaf"><span class="legend-icon wall svelte-yffwaf"></span> 墙壁</span></div>',b(e,"class","help-panel svelte-yffwaf")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function pe(t){let e;return{c(){e=d("span"),e.textContent="🎉",b(e,"class","player-on-target-icon svelte-yffwaf")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function ve(t){let e;return{c(){e=d("span"),e.textContent="😊",b(e,"class","player-icon svelte-yffwaf")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function ye(t){let e;return{c(){e=d("span"),e.textContent="✅",b(e,"class","box-on-target-icon svelte-yffwaf")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function me(t){let e;return{c(){e=d("span"),e.textContent="📦",b(e,"class","box-icon svelte-yffwaf")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function be(t){let e;return{c(){e=d("span"),e.textContent="●",b(e,"class","target-marker svelte-yffwaf")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function we(t){let e;return{c(){e=d("span"),e.textContent="█",b(e,"class","wall-pattern")},m(t,n){c(t,e,n)},d(t){t&&f(e)}}}function _e(t,e){let n,r;function a(t,e){return t[34]===re.WALL?we:t[34]===re.TARGET?be:t[34]===re.BOX?me:t[34]===re.BOX_ON_TARGET?ye:t[34]===re.PLAYER?ve:t[34]===re.PLAYER_ON_TARGET?pe:void 0}let o=a(e),l=o&&o(e);return{key:t,first:null,c(){n=d("div"),l&&l.c(),b(n,"class",r="cell "+se(e[34])+" svelte-yffwaf"),$(n,"wall",e[34]===re.WALL),this.first=n},m(t,e){c(t,n,e),l&&l.m(n,null)},p(t,i){o!==(o=a(e=t))&&(l&&l.d(1),l=o&&o(e),l&&(l.c(),l.m(n,null))),16&i[0]&&r!==(r="cell "+se(e[34])+" svelte-yffwaf")&&b(n,"class",r),16&i[0]&&$(n,"wall",e[34]===re.WALL)},d(t){t&&f(n),l&&l.d()}}}function xe(t,e){let n,r,a=[],o=new Map,l=Z(e[31]);const i=t=>t[36];for(let t=0;t<l.length;t+=1){let n=de(e,l,t),r=i(n);o.set(r,a[t]=_e(r,n))}return{key:t,first:null,c(){n=d("div");for(let t=0;t<a.length;t+=1)a[t].c();r=p(),b(n,"class","row svelte-yffwaf"),this.first=n},m(t,e){c(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);s(n,r)},p(t,s){e=t,16&s[0]&&(l=Z(e[31]),a=Q(a,s,i,0,e,l,o,n,J,_e,r,de))},d(t){t&&f(n);for(let t=0;t<a.length;t+=1)a[t].d()}}}function $e(t){let e,n,r,o,l,i,u,h,v,m,_,x,$,A,S,j,B,G,O,M,k,T,D=t[0]+1+"",P=t[0]<le.length-1?"➡️ 下一关":"🎮 重新开始";return{c(){e=d("div"),n=d("div"),r=d("div"),r.innerHTML='<h2 class="svelte-yffwaf">🎉 恭喜过关！</h2>',o=p(),l=d("div"),i=d("p"),u=g("你用了 "),h=d("strong"),v=g(t[1]),m=g(" 步完成了第 "),_=g(D),x=g(" 关！"),$=p(),A=d("p"),A.textContent="准备好挑战下一关了吗？",S=p(),j=d("div"),B=d("button"),B.textContent="🏠 返回第一关",G=p(),O=d("button"),M=g(P),b(r,"class","modal-header svelte-yffwaf"),b(i,"class","svelte-yffwaf"),b(A,"class","modal-subtitle svelte-yffwaf"),b(l,"class","modal-body svelte-yffwaf"),b(B,"class","btn btn-restart svelte-yffwaf"),b(O,"class","btn btn-next svelte-yffwaf"),b(j,"class","modal-footer svelte-yffwaf"),b(n,"class","modal-content svelte-yffwaf"),b(e,"class","modal-overlay svelte-yffwaf")},m(a,f){c(a,e,f),s(e,n),s(n,r),s(n,o),s(n,l),s(l,i),s(i,u),s(i,h),s(h,v),s(i,m),s(i,_),s(i,x),s(l,$),s(l,A),s(n,S),s(n,j),s(j,B),s(j,G),s(j,O),s(O,M),k||(T=[y(B,"click",t[13]),y(O,"click",t[14]),y(n,"click",je),y(e,"click",t[22])],k=!0)},p(t,e){2&e[0]&&w(v,t[1]),1&e[0]&&D!==(D=t[0]+1+"")&&w(_,D),1&e[0]&&P!==(P=t[0]<le.length-1?"➡️ 下一关":"🎮 重新开始")&&w(M,P)},d(t){t&&f(e),k=!1,a(T)}}}function Ae(t){let e,n,r,o,l,i,u,h,v,m,_,$,A,S,j,B,G,O,M,k,T,D,P,L,E,Y,C,N,q,z,F,H,I,R,U,W,K,tt,at,ot,lt,it,st,ut,ct,ft,ht,dt,gt,pt,vt,yt,mt,bt,wt,_t,xt,At,St,Bt,Gt,Ot,Mt,kt,Tt,Dt,Pt,Lt,Et,Yt,Ct,Nt,qt,zt,Ft,Ht,It=t[0]+1+"",Rt=ue(t[1])+"",Ut=[],Wt=new Map,Vt=t[0]+1+"";e=new $t({});let Xt=t[3]&&ge(),Zt=Z(t[4]);const Jt=t=>t[33];for(let e=0;e<Zt.length;e+=1){let n=he(t,Zt,e),r=Jt(n);Wt.set(r,Ut[e]=xe(r,n))}let Qt=t[2]&&$e(t);return qt=new jt({}),{c(){et(e.$$.fragment),n=p(),r=d("div"),o=d("div"),l=d("div"),l.innerHTML='<h1 class="svelte-yffwaf">🎮 推箱子游戏</h1> <p class="subtitle svelte-yffwaf">将箱子推到目标点上即可过关</p>',i=p(),u=d("div"),h=d("div"),v=d("span"),v.textContent="关卡:",m=p(),_=d("span"),$=g(It),A=g(" / "),S=g(ie),j=p(),B=d("div"),G=d("span"),G.textContent="步数:",O=p(),M=d("span"),k=g(Rt),T=p(),D=d("div"),P=d("div"),L=p(),E=d("div"),Y=d("button"),Y.textContent="▶️ 开始游戏",C=p(),N=d("button"),q=g("↩️ 撤回"),F=p(),H=d("button"),I=g("🔄 重置"),U=p(),W=d("button"),W.textContent="❓ 帮助",K=p(),Xt&&Xt.c(),tt=p(),at=d("div"),ot=d("div");for(let t=0;t<Ut.length;t+=1)Ut[t].c();lt=p(),it=d("div"),st=d("div"),ut=d("button"),ut.textContent="⬆️",ct=p(),ft=d("div"),ht=d("button"),ht.textContent="⬅️",dt=p(),gt=d("button"),pt=g("↩️"),yt=p(),mt=d("button"),mt.textContent="➡️",bt=p(),wt=d("div"),_t=d("button"),_t.textContent="⬇️",xt=p(),At=d("div"),St=d("button"),Bt=g("⬅️ 上一关"),Ot=p(),Mt=d("span"),kt=g("第 "),Tt=g(Vt),Dt=g(" 关"),Pt=p(),Lt=d("button"),Et=g("下一关 ➡️"),Ct=p(),Qt&&Qt.c(),Nt=p(),et(qt.$$.fragment),b(l,"class","game-header svelte-yffwaf"),b(v,"class","label svelte-yffwaf"),b(_,"class","value svelte-yffwaf"),b(h,"class","info-item svelte-yffwaf"),b(G,"class","label svelte-yffwaf"),b(M,"class","value svelte-yffwaf"),b(B,"class","info-item svelte-yffwaf"),b(P,"class","progress svelte-yffwaf"),x(P,"width",ce(t[0],ie)+"%"),b(D,"class","info-item progress-bar svelte-yffwaf"),b(u,"class","game-info svelte-yffwaf"),b(Y,"class","btn btn-start svelte-yffwaf"),b(N,"class","btn btn-undo svelte-yffwaf"),N.disabled=z=!t[5],b(H,"class","btn btn-reset svelte-yffwaf"),H.disabled=R=!t[6],b(W,"class","btn btn-help svelte-yffwaf"),b(E,"class","control-buttons svelte-yffwaf"),b(ot,"class","grid svelte-yffwaf"),b(at,"class","game-board svelte-yffwaf"),b(ut,"class","control-btn svelte-yffwaf"),b(st,"class","control-row svelte-yffwaf"),b(ht,"class","control-btn svelte-yffwaf"),b(gt,"class","control-btn svelte-yffwaf"),gt.disabled=vt=!t[5],b(mt,"class","control-btn svelte-yffwaf"),b(ft,"class","control-row svelte-yffwaf"),b(_t,"class","control-btn svelte-yffwaf"),b(wt,"class","control-row svelte-yffwaf"),b(it,"class","mobile-controls svelte-yffwaf"),b(St,"class","btn btn-level svelte-yffwaf"),St.disabled=Gt=t[0]<=0||!t[6],b(Mt,"class","level-indicator svelte-yffwaf"),b(Lt,"class","btn btn-level svelte-yffwaf"),Lt.disabled=Yt=t[0]>=le.length-1||!t[6],b(At,"class","level-navigation svelte-yffwaf"),b(o,"class","container"),b(r,"class","main sokoban-container svelte-yffwaf")},m(a,f){nt(e,a,f),c(a,n,f),c(a,r,f),s(r,o),s(o,l),s(o,i),s(o,u),s(u,h),s(h,v),s(h,m),s(h,_),s(_,$),s(_,A),s(_,S),s(u,j),s(u,B),s(B,G),s(B,O),s(B,M),s(M,k),s(u,T),s(u,D),s(D,P),s(o,L),s(o,E),s(E,Y),s(E,C),s(E,N),s(N,q),s(E,F),s(E,H),s(H,I),s(E,U),s(E,W),s(o,K),Xt&&Xt.m(o,null),s(o,tt),s(o,at),s(at,ot);for(let t=0;t<Ut.length;t+=1)Ut[t]&&Ut[t].m(ot,null);s(o,lt),s(o,it),s(it,st),s(st,ut),s(it,ct),s(it,ft),s(ft,ht),s(ft,dt),s(ft,gt),s(gt,pt),s(ft,yt),s(ft,mt),s(it,bt),s(it,wt),s(wt,_t),s(o,xt),s(o,At),s(At,St),s(St,Bt),s(At,Ot),s(At,Mt),s(Mt,kt),s(Mt,Tt),s(Mt,Dt),s(At,Pt),s(At,Lt),s(Lt,Et),c(a,Ct,f),Qt&&Qt.m(a,f),c(a,Nt,f),nt(qt,a,f),zt=!0,Ft||(Ht=[y(Y,"click",t[10]),y(N,"click",t[8]),y(H,"click",t[9]),y(W,"click",t[17]),y(ut,"click",t[18]),y(ht,"click",t[19]),y(gt,"click",t[8]),y(mt,"click",t[20]),y(_t,"click",t[21]),y(St,"click",t[11]),y(Lt,"click",t[12])],Ft=!0)},p(t,e){(!zt||1&e[0])&&It!==(It=t[0]+1+"")&&w($,It),(!zt||2&e[0])&&Rt!==(Rt=ue(t[1])+"")&&w(k,Rt),(!zt||1&e[0])&&x(P,"width",ce(t[0],ie)+"%"),(!zt||32&e[0]&&z!==(z=!t[5]))&&(N.disabled=z),(!zt||64&e[0]&&R!==(R=!t[6]))&&(H.disabled=R),t[3]?Xt||(Xt=ge(),Xt.c(),Xt.m(o,tt)):Xt&&(Xt.d(1),Xt=null),16&e[0]&&(Zt=Z(t[4]),Ut=Q(Ut,e,Jt,0,t,Zt,Wt,ot,J,xe,null,he)),(!zt||32&e[0]&&vt!==(vt=!t[5]))&&(gt.disabled=vt),(!zt||65&e[0]&&Gt!==(Gt=t[0]<=0||!t[6]))&&(St.disabled=Gt),(!zt||1&e[0])&&Vt!==(Vt=t[0]+1+"")&&w(Tt,Vt),(!zt||65&e[0]&&Yt!==(Yt=t[0]>=le.length-1||!t[6]))&&(Lt.disabled=Yt),t[2]?Qt?Qt.p(t,e):(Qt=$e(t),Qt.c(),Qt.m(Nt.parentNode,Nt)):Qt&&(Qt.d(1),Qt=null)},i(t){zt||(V(e.$$.fragment,t),V(qt.$$.fragment,t),zt=!0)},o(t){X(e.$$.fragment,t),X(qt.$$.fragment,t),zt=!1},d(t){t&&(f(n),f(r),f(Ct),f(Nt)),rt(e,t),Xt&&Xt.d();for(let t=0;t<Ut.length;t+=1)Ut[t].d();Qt&&Qt.d(t),rt(qt,t),Ft=!1,a(Ht)}}}function Se(t){try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const n=new e,r=n.createOscillator(),a=n.createGain();r.connect(a),a.connect(n.destination);const o={move:{freq:200,dur:.05,type:"sine"},undo:{freq:150,dur:.05,type:"sine"},reset:{freq:100,dur:.1,type:"square"},start:{freq:440,dur:.15,type:"sine"},win:{freq:523.25,dur:.3,type:"triangle"}}[t];r.type=o.type,r.frequency.value=o.freq,a.gain.value=.05,r.start(n.currentTime),r.stop(n.currentTime+o.dur),setTimeout(()=>n.close(),1e3*o.dur+100)}catch(t){console.debug("Audio playback skipped:",t)}}const je=t=>t.stopPropagation();function Be(t,e,n){let r,a,o,l=null,i=ee.IDLE,s=0,u=0,c=!1,f=!1,h=0;function d(t){switch(console.log(`Key pressed: ${t.key}`),t.key){case"ArrowUp":case"w":case"W":t.preventDefault(),p(ne.UP);break;case"ArrowDown":case"s":case"S":t.preventDefault(),p(ne.DOWN);break;case"ArrowLeft":case"a":case"A":t.preventDefault(),p(ne.LEFT);break;case"ArrowRight":case"d":case"D":t.preventDefault(),p(ne.RIGHT);break;case"z":case"Z":t.ctrlKey&&(t.preventDefault(),v());break;case"r":case"R":t.preventDefault(),y()}}function g(){l?(i=l.getState(),n(0,s=l.getCurrentLevel()),n(1,u=l.getMoves()),n(5,a=l.canUndo()),console.log("Game state updated:",{state:i,level:s,moves:u}),function(){l&&l.getState()===ee.WON&&(console.log("Level completed! All boxes on targets."),setTimeout(()=>{n(2,c=!0),Se("win"),i=ee.FINISHED},300));if(!l||i!==ee.PLAYING)return;const t=l.getGrid();let e=!1;for(const n of t){for(const t of n)if(t===re.BOX){e=!0;break}if(e)break}!e&&u>0&&(console.log("Level completed! All boxes on targets."),setTimeout(()=>{n(2,c=!0),Se("win"),i=ee.FINISHED},300))}()):console.warn("Game is null in updateGameState")}function p(t){if(!l||c)return;l.move(t)&&(Se("move"),g(),b())}function v(){if(l)if(l.canUndo()){l.undo()&&(g(),b(),Se("undo"))}else console.warn("无法撤销：没有历史记录")}function y(){console.log("Reset called"),l?(l.reset(),g(),Se("reset")):console.warn("Game is not initialized")}function m(){console.log("Restart from first called"),l?(l.loadLevel(0),C().then(()=>{g(),n(2,c=!1),b()})):console.warn("Game is not initialized")}function b(){n(16,h++,h),console.log("Force rerender, version:",h)}G(()=>(console.log("Initializing game..."),n(15,l=new ae(le)),l.loadLevel(0),g(),console.log("Game initialized, current level:",l.getCurrentLevel()),console.log("Grid:",JSON.stringify(l.getGrid())),w=d,window.addEventListener("keydown",w),()=>{w&&window.removeEventListener("keydown",w)}));let w=null;return t.$$.update=()=>{32768&t.$$.dirty[0]&&(!l||function(t){let e=0,n=0,r=0;for(const a of t)for(const t of a)switch(t){case re.BOX:case re.BOX_ON_TARGET:e++;break;case re.TARGET:case re.BOX_ON_TARGET:case re.PLAYER_ON_TARGET:n++;break;case re.PLAYER:case re.PLAYER_ON_TARGET:r++}}(l.getGrid())),32768&t.$$.dirty[0]&&(!l||function(t){const e=t.length;t.length>0&&Math.max(...t.map(t=>t.length))}(l.getGrid())),32768&t.$$.dirty[0]&&n(6,r=!!l&&l.getState()===ee.PLAYING),32768&t.$$.dirty[0]&&n(5,a=!!l&&l.canUndo()),98304&t.$$.dirty[0]&&n(4,o=l?[...l.getGrid().map(t=>[...t])]:[])},[s,u,c,f,o,a,r,p,v,y,function(){console.log("Start called"),l?(console.log("Loading level 0..."),l.loadLevel(0),C().then(()=>{g(),b(),console.log("After start - Current level:",s),console.log("After start - Grid:",JSON.stringify(l?.getGrid()))}),Se("start")):console.warn("Game is not initialized")},function(){if(console.log("Prev level called"),!l)return void console.warn("Game is not initialized");const t=l.getCurrentLevel();console.log("Current level before prev:",t),t>0?(l.loadLevel(t-1),C().then(()=>{g(),b(),console.log("After prev level - Current level:",s),console.log("After prev level - Grid:",JSON.stringify(l?.getGrid()))})):console.log("Already at first level")},function(){if(console.log("Next level called"),!l)return void console.warn("Game is not initialized");const t=l.getCurrentLevel();console.log("Current level before next:",t),console.log("Total levels:",le.length),t<le.length-1?(l.loadLevel(t+1),C().then(()=>{g(),b(),console.log("After next level - Current level:",s),console.log("After next level - Grid:",JSON.stringify(l?.getGrid()))})):console.log("Already at last level")},m,function(){if(!l)return;const t=l.getCurrentLevel()+1;t<le.length?(l.loadLevel(t),n(2,c=!1),C().then(()=>{g(),b()})):(alert("恭喜通关全部关卡！"),m())},l,h,()=>n(3,f=!f),()=>p(ne.UP),()=>p(ne.LEFT),()=>p(ne.RIGHT),()=>p(ne.DOWN),()=>n(2,c=!1)]}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oe={exports:{}};Oe.exports=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e,n,r){var a,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(l=(o<3?a(l):o>3?a(e,n,l):a(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function r(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var a={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",q:"quarter",y:"year",lh:"lunarhour",ld:"lunarday",lM:"lunarmonth",ly:"lunaryear",ch:"char8hour",cd:"char8day",cM:"char8month",cy:"char8year"},o=new Set(["lunarhour","lunarday","lunarmonth","lunaryear"]),l="Invalid Date",i=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,s=/\[([^\]]+)]|cZ|t|T|lYn|lMn|lDn|lHn|lY|lM|lL|lD|lH|cYsn|cYs|cYbn|cYb|cYn|cY|cMsn|cMs|cMbn|cMb|cMn|cM|cDsn|cDs|cDbn|cDb|cDn|cD|cHsn|cHs|cHbn|cHb|cHn|cH|dRr|dR|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=[[9],[5,9,7],[0,2,4],[1],[4,1,9],[2,6,4],[3,5],[5,3,1],[6,8,4],[7],[4,7,3],[8,0]],c=[2018,12,7],f=[2022,3,12],h={name:"zh",leap:"閏",lunarYearUnit:"年",lunarHourUnit:"時",bigMonth:"大",smallMonth:"小",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["週日","週一","週二","週三","週四","週五","週六"],weekdaysMin:["日","一","二","三","四","五","六"],months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),lunarMonths:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),lunarMonthsAlias:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_冬月_腊月".split("_"),lunarDays:"初一_初二_初三_初四_初五_初六_初七_初八_初九_初十_十一_十二_十三_十四_十五_十六_十七_十八_十九_二十_廿一_廿二_廿三_廿四_廿五_廿六_廿七_廿八_廿九_三十".split("_"),numerals:"〇一二三四五六七八九十".split(""),constellationName:"白羊座_金牛座_雙子座_巨蟹座_狮子座_處女座_天秤座_天蝎座_射手座_摩羯座_水瓶座_雙魚座".split("_"),solarTerm:"小寒_大寒_立春_雨水_驚蟄_春分_清明_穀雨_立夏_小滿_芒種_夏至_小暑_大暑_立秋_處暑_白露_秋分_寒露_霜降_立冬_小雪_大雪_冬至".split("_"),seasonName:"春夏秋冬".split(""),stems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],branchs:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],stemBranchSeparator:"",chineseZodiac:["鼠","牛","虎","兔","龍","蛇","馬","羊","猴","雞","狗","豬"],fiveElements:["木","火","土","金","水"],eightTrigram:"坤震坎兌艮離巽乾".split(""),moonPhase:{"朔":"朔","望":"望","弦":"弦","晦":"晦"},directions:["","北","西南","東","東南","中","西北","西","東北","南"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah點mm分",LLLL:"YYYY年M月D日ddddAh點mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiem:function(t,e){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}},d={isUTC:!1,offset:0,changeAgeTerm:2,locales:{zh:h},lang:"zh"},g=1901,p=2100,v=[1874,3749,43818,1611,2715,39590,1386,2905,19370,1874,52645,2853,2635,47691,685,1387,17845,3497,65170,3730,3365,44333,2646,694,39637,1748,3753,20298,3730,50854,1323,2647,47446,2906,1748,30561,1865,64275,2707,1323,54555,2733,1386,40357,2980,2889,19787,2709,60077,1334,2733,47818,1458,3493,32418,3402,66965,2711,1366,50549,2773,1746,34645,3749,1610,26191,2715,60122,1386,2921,43954,2898,2853,35627,2635,68267,685,1389,54697,3497,3474,36501,3365,85581,2646,694,49909,1749,3753,44882,3730,3366,25902,2647,68310,858,1749,43881,1865,1683,35483,1323,2651,19118,1386,60885,2980,2889,44371,2709,1325,34141,2741,76714,1490,3493,56970,3402,3221,35486,1366,2741,19162,1746,51045,1829,1611,42583,3243,1370,25966,2921,94034,2898,2853,56587,2635,1195,41659,1453,2922,19882,3474,61093,3365,2645,47693,1206,1461,30418,3785,69522,3730,3366,54550,2647,1366,37733,1877,1865,26443,1683,60075,1323,2651,43706,1386,2917,35754,2890,69013,2709,1325,50541,2741,1450,34261,3493,3402,28237,3222,60622,1366,2741,47826,1746,3749,34602,1675,67223,1195,1371,54614,2922,1874,35733,2885,2699,19023,1195],y=[219,208,129,216,204,125,213,202,122,210,130,218,206,126,214,203,123,211,201,220,208,128,216,205,124,213,202,123,210,130,217,206,126,214,204,124,211,131,219,208,127,215,205,125,213,202,122,210,129,217,206,127,214,203,124,212,131,218,208,128,215,205,125,213,202,121,209,130,217,206,127,215,203,123,211,131,218,207,128,216,205,125,213,202,220,209,129,217,206,127,215,204,123,210,131,219,207,128,216,205,124,212,201,122,209,129,218,207,126,214,203,123,210,131,219,208,128,216,205,125,212,201,122,210,129,217,206,126,213,203,123,211,131,219,208,128,215,204,124,212,201,122,210,130,217,206,126,214,202,123,211,201,219,208,128,215,204,124,212,202,121,209,129,217,205,126,214,203,123,211,131,219,207,127,215,205,124,212,202,122,209,129,217,206,126,214,203,124,210,130,218,207,127,215,205,125,212,201,121,209],m=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],b=[0x6aaaa6aa9a5a,0xaaaaaabaaa6a,0xaaabbabbafaa,99670716471979,0xaaaaaaaaaa6a,0x6aaaa6aa9a56,0xaaaaaaaa9a5a,0xaaabaabaaeaa,95203950484138,99671807007318,0x6aaaaaaa9a5a,99671806990934,0xaaabaabaaa6a,93829556755114,99670716471894,93829556689578,95203950484054,0x6aa6a6aa9a56,93829288253866,95203950484053,0x6aa6a6a65a56,93829288252842,93824993285482,93829556755029,93824992236906,93829556689493,0x6aa6a6aa9a5a,93824992232810,93829288254037,99601996995158,0x6aa6a6a69a5a,93824925123930,93829288253781,99671790213718,23456180946266,93824993285461,95203946289749,93824993285397,93824992236821,23439001077082,93824992232725,23439000814938,93824925123861,23439000798550,93824925123845,23437910279510,23456180946181,5845724235094,23439000814853,5777004758358,23439000798469,1378954052950,23437910279425,1378954052949,93824992236885,5845724235009,4564518229,4296017237,5777004758273,23438984021253,1378954052865,23437910279429,1048661,1378954052864,85,4564518144,21,4296082688],w=[0,1,2,3,0,4,2,3,0,4,2,3,5,6,7,8,9,10,7,8,11,10,12,8,11,0,1,13,14,0,1,13,14,0,4,13,14,0,4,13,14,0,4,15,16,17,6,18,19,20,6,18,19,11,0,21,19,14,0,22,23,14,0,22,23,14,0,24,23,14,0,24,25,14,26,27,28,29,30,27,28,16,20,31,32,19,33,34,35,36,14,34,37,23,14,34,38,23,14,34,38,23,14,34,38,28,14,39,40,28,29,41,42,28,16,43,44,32,36,45,46,35,36,47,46,38,23,47,46,38,23,47,46,38,28,47,46,38,28,47,48,40,28,49,50,42,28,51,52,44,35,53,52,44,54,53,55,46,54,56,55,46,38,56,55,46,38,57,55,48,38,57,58,48,42,57,58,59,42,57,60,61,44,62,63,52,44,64,63,55,46,64,65,55,46,66,67,55,46,38],_=function(t){return t?(t=t.trim(),a[t]||(t||"").toLowerCase().replace(/s$/,"")):""},x=function(t,e){if(void 0===e&&(e=!1),void 0===t)return new Date;if(null===t)return new Date(NaN);if("object"==typeof t&&!(t instanceof Date)&&void 0!==t.toDate){var n=t.toDate();if(n instanceof Date)return n}if(t instanceof Date)return new Date(t.valueOf());if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(i);if(r){var a=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)},$=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=M(t,"FullYear",e),a=M(t,"Month",e),o=M(t,"Hours",e),l=M(t,"Date",e),i=n?23===o?" 00:00":" ".concat(String(o).padStart(2,"0"),":00"):"";return x("".concat(r,"/").concat(a+1,"/").concat(l+(23===o?1:0)).concat(i),e)},A=function(t){var e=y[t-g];return x("".concat(t,"/").concat(Math.floor(e/100),"/").concat(e%100))},S=function(t){var e=v[t-g];return[e>>13,1==(e>>12&1)]},j=function(t,e){var n;!function(t,e){var n=d.locales[null!=e?e:d.lang];if("string"==typeof t.year){for(var r="",a=0;a<t.year.length;a++){var o=-1;r+=(o="零"===t.year[a]||"〇"===t.year[a]?0:n.numerals.indexOf(t.year[a]))>=0?o:""}t.year=Number(r)}if("string"==typeof t.month){var l=t.month;l[0]===n.leap&&(t.isLeapMonth=!0,l=t.month.slice(1));var i=n.lunarMonths.indexOf(l);-1===i&&(i=n.lunarMonthsAlias.indexOf(l)),t.month=t.isLeapMonth?i+100+1:i+1}"string"==typeof t.day&&(t.day=n.lunarDays.indexOf(t.day)+1),"string"==typeof t.hour&&(t.hour=n.branchs.indexOf(t.hour))}(t,e);var r=new Date,a=t.year?Number(t.year):r.getFullYear(),o=Number(t.month),l=Number(t.day),i=t.hour?Number(t.hour):0,s=null!==(n=t.isLeapMonth)&&void 0!==n&&n;if(o>100&&(o-=100,s=!0),a<g||a>p)throw new Error("Invalid lunar year: out of range");if(o<1)throw new Error("Invalid lunar month");var u=A(a),c=S(a),f=c[0],h=c[1];if(s&&f!==o)throw new Error("Invalid lunar leap month: no this leap month");for(var y=v[a-g],m=s?h:y>>o-1&1,b=0,w=0;w<o&&(b+=y>>w&1?30:29,w!==o-1||s);w++)w===f-1&&(b+=h?30:29);b-=(m?30:29)-l+1;var _=new Date(u.valueOf()+24*b*60*60*1e3),$=_.getFullYear(),j=_.getMonth()+1,B=_.getDate();return x("".concat($,"/").concat(j,"/").concat(B," ").concat(2*i,":00"))},B=function(t,e,n,r){void 0===r&&(r=!1);var a=n.getDate(),o=M(t,"Month",r),l=e/2|0,i=l<o||0===o&&11===l||a>M(t,"Date",r)&&!(a-1===M(t,"Date",r)&&M(t,"Hours",r)>=23)?-1:0;return((12*(M(t,"FullYear",r)-c[0])+M(t,"Month",r)-c[1]+1)%60+i+60)%60},G={stem:[10,"stems"],branch:[12,"branchs"],trigram8:[8,"eightTrigram"],element5:[5,"fiveElements"]},O=function(t,e,n,r){if("number"==typeof t)t%=G[e][0];else if("string"==typeof t){var a=r.locales[n][G[e][1]].indexOf(t);if(-1===a)throw new Error("Invalid ".concat(e," value"));t=a}return t},M=function(t,e,n){void 0===n&&(n=!1);var r=e.slice(0,1).toUpperCase()+e.slice(1);return n?t["getUTC".concat(r)]():t["get".concat(r)]()},k=function(t,e){var n;t=(n=[x(t),x(e)])[0];var r=12*((e=n[1]).getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()),a=new Date(t).setMonth(t.getMonth()+r),o=a.valueOf()>e.valueOf(),l=new Date(t).setMonth(t.getMonth()+r+(o?-1:1));return r+(e.valueOf()-a.valueOf())/(o?a-l:l-a)||0},T=function(t,e,n){if(t>e)return-T(e,t);for(var r=[t.lunar,e.lunar],a=r[0],o=r[1],l=[a.year,o.year],i=l[0],s=l[1],u=[a.month,o.month],c=u[0],f=u[1],h=i,d=0;h<=s;){var g=[1,12],p=g[0],v=g[1];h===i&&(p=c),h===s&&(v=f),d+=D(h,p,v),h++}if(!n)return d-1;if(d>0)d+=P(t,!0)+P(e,!1)-2;else{var y=a.isBigMonth?30:29;d=(e.valueOf()-t.valueOf())/(864e5*y)}return d},D=function(t,e,n){var r=!1;(e=e||1)>100&&(e-=100,r=!0),(n=n||12)>100&&(n-=100,r=!0);var a=v[t-g]>>13;return e<=a&&a<=n&&(r=!0),n-e+1+(r?1:0)},P=function(t,e){void 0===e&&(e=!1);var n=t.lunar.isBigMonth?30:29,r=t.lunar.day;return e?1-r/n:r/n},L=function(t,e){void 0===e&&(e=!1);var n=t.lunar.leapMonth,r=n>0?13:12,a=!1,o=t.lunar.month;o>100&&(o-=100,a=!0),n>0&&(o>n||o===n&&a)&&o++;var l=P(t,e);return e?1-(o-l)/r:(o+l-1)/r},E=function(t,e){if(e.toUTCString()===l)return l;var n,r,a,o,i=t||"YYYY-MM-DDTHH:mm:ssZ",u=e.year,c=e.month,f=e.day,h=e.dayOfWeek,g=e.hour,p=e.minute,v=e.second,y=(n=-e.utcOffset(),r=Math.abs(n),a=Math.floor(r/60),o=r%60,"".concat(n<=0?"+":"-").concat(String(a).padStart(2,"0"),":").concat(String(o).padStart(2,"0"))),m=function(){return e.lunar},b=function(){return e.char8},w=d.locales[e._config.lang],_=w.weekdays,x=w.months,$=w.meridiem,A=function(t,e,n,r){return t&&t[e]||(n?n[e].slice(0,r):"")},S=g%12||12,j=$||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},B={YY:String(u).slice(-2),YYYY:String(u),M:String(c),MM:String(c).padStart(2,"0"),MMM:A(w.monthsShort,c-1,x,3),MMMM:A(x,c-1),D:String(f),DD:String(f).padStart(2,"0"),d:String(h),dd:A(w.weekdaysMin,h,_,2),ddd:A(w.weekdaysShort,h,_,3),dddd:_[h],H:String(g),HH:String(g).padStart(2,"0"),h:String(S),hh:String(S).padStart(2,"0"),a:j(g,p,!0),A:j(g,p,!1),m:String(p),mm:String(p).padStart(2,"0"),s:String(v),ss:String(v).padStart(2,"0"),SSS:String(e.millis).padStart(3,"0"),Z:y,cZ:function(){return w.chineseZodiac[b().year.branch.value]},t:e.solarTerm?String(e.solarTerm.value+1):"",T:e.solarTerm?e.solarTerm.toString():"",lY:function(){return m().getYearName()},lM:function(){return m().getMonthName()},lD:function(){return m().getDayName()},lH:function(){return m().getHourName()},lL:function(){return m().isBigMonth?w.bigMonth:w.smallMonth},lYn:function(){return String(m().year)},lMn:function(){return String(m().month)},lDn:function(){return String(m().day)},lHn:function(){return String(m().hour+1)},cY:function(){return b().year.toString()},cYs:function(){return b().year.stem.toString()},cYb:function(){return b().year.branch.toString()},cM:function(){return b().month.toString()},cMs:function(){return b().month.stem.toString()},cMb:function(){return b().month.branch.toString()},cD:function(){return b().day.toString()},cDs:function(){return b().day.stem.toString()},cDb:function(){return b().day.branch.toString()},cH:function(){return b().hour.toString()},cHs:function(){return b().hour.stem.toString()},cHb:function(){return b().hour.branch.toString()},cYn:function(){return b().year.value},cYsn:function(){return b().year.stem.value},cYbn:function(){return b().year.branch.value},cMn:function(){return b().month.value},cMsn:function(){return b().month.stem.value},cMbn:function(){return b().month.branch.value},cDn:function(){return b().day.value},cDsn:function(){return b().day.stem.value},cDbn:function(){return b().day.branch.value},cHn:function(){return b().hour.value},cHsn:function(){return b().hour.stem.value},cHbn:function(){return b().hour.branch.value},dR:function(){return String(Math.ceil(f/7))},dRr:function(){var t=e.lunisolar("".concat(u,"-").concat(c+1,"-1 ").concat(g,":").concat(p,":").concat(v),e._config),n=Math.abs(t.diff(e,"day"));return String(Math.ceil(n/7))}};return i.replace(s,function(t,e){var n=B[t];return e||("function"==typeof n?n():void 0!==n?n:y.replace(":",""))})};function Y(t,e){return Math.round((e.valueOf()-t.valueOf())/864e5)}var C=function(){function t(t,e){var n;this._config={lang:d.lang,isUTC:!1},e&&(this._config=Object.assign({},this._config,e));var r=x(t);this._date=r;var a=this._config.isUTC,o=M(r,"FullYear",a),l=M(r,"Month",a),i=M(r,"Hours",a),s=$(r,a),u=s.getDate();if(o<g||o>p)throw new Error("Invalid lunar year: out of range");if(o===g&&l<1||o===g&&1===l&&u<19)this.year=o-1,1===l||l<1&&u>=20?(this.month=12,this.day=1===l?13+u-1:u-20+1):(this.month=11,this.day=11+u-1),this.leapMonth=8,this.leapMonthIsBig=!1;else{var c=Y(A(o),s);c<0&&(c=Y(A(o-=1),s)),this.year=o;var f=S(o),h=f[0],y=f[1];this.leapMonth=h,this.leapMonthIsBig=y,n=function(t,e,n){var r=v[t-g],a=n||S(t),o=a[0],l=a[1],i=1;e+=1;for(var s=!1;e>29;){if(e-=r>>i-1&1?30:29,i===o&&e>0){var u=l?30:29;if(!(e>u)){s=!0;break}e-=u}i++}return s&&(i+=100),0===e&&(e=30,i--),[i,e]}(o,c,[h,y]),this.month=n[0],this.day=n[1]}this.hour=(i+1)%24>>1}return t.fromLunar=function(e,n){return new t(j(e,null==n?void 0:n.lang),n)},Object.defineProperty(t.prototype,"isLeapMonth",{get:function(){return this.month>100},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBigMonth",{get:function(){if(1900===this.year&&11==this.month)return!1;if(1900===this.year&&12==this.month)return!0;var t=v[this.year-g];return this.isLeapMonth?1==(t>>12&1):1==(t>>this.month-1&1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastDayOfMonth",{get:function(){return!(!this.isBigMonth||30!==this.day)||!this.isBigMonth&&29===this.day},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lunarNewYearDay",{get:function(){return A(this.year)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastDayOfYear",{get:function(){var t=A(this.year+1);return new Date(t.valueOf()-864e5)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"phaseOfTheMoon",{get:function(){return function(t,e){var n=t.day;return 1===n?e.moonPhase.朔:[7,8,22,23].includes(n)?e.moonPhase.弦:15===n?e.moonPhase.望:t.isLastDayOfMonth?e.moonPhase.晦:""}(this,d.locales[this._config.lang])},enumerable:!1,configurable:!0}),t.prototype.toDate=function(){return new Date(this._date.valueOf())},t.prototype.getYearName=function(){for(var t="",e=this.year,n=d.locales[this._config.lang].numerals;e;)t=n[e%10]+t,e=Math.floor(e/10);return t},t.prototype.getMonthName=function(){var t=d.locales[this._config.lang].lunarMonths,e=d.locales[this._config.lang].leap;return(this.isLeapMonth?e:"")+t[this.month%100-1]},t.prototype.getDayName=function(){return d.locales[this._config.lang].lunarDays[this.day-1]},t.prototype.getHourName=function(){return d.locales[this._config.lang].branchs[this.hour]},t.prototype.toString=function(){var t=d.locales[this._config.lang];return"".concat(this.getYearName()).concat(t.lunarYearUnit).concat(this.getMonthName()).concat(this.getDayName()).concat(this.getHourName()).concat(t.lunarHourUnit)},t.prototype.valueOf=function(){return this._date.valueOf()},t.getLunarNewYearDay=function(t){return A(t)},t}(),N=function(){function t(e,n){if(this.value=-1,this._config={lang:d.lang,isUTC:!1},n&&(this._config=Object.assign({},this._config,n)),e instanceof t)return e;if("number"==typeof e)this.value=e%24;else if("string"==typeof e){var r=d.locales[this._config.lang].solarTerm.indexOf(e);if(-1===r)throw new Error("Invalid term value");this.value=r}}return Object.defineProperty(t.prototype,"name",{get:function(){return String(d.locales[this._config.lang].solarTerm[this.value])},enumerable:!1,configurable:!0}),t.getNames=function(t){return t=t||d.lang,r([],d.locales[t].solarTerm,!0)},t.getYearTermDayList=function(t){for(var e=[],n=b[w[t-g]].toString(2).padStart(48,"0");e.length<24;){var r=parseInt(n.slice(n.length-2),2),a=m[e.length];e.push(r+a),n=n.slice(0,n.length-2)}return e},t.getMonthTerms=function(t,e){var n=b[w[t-g]].toString(2).padStart(48,"0"),r=4*(e-1),a=parseInt(n.slice(n.length-r-4,n.length-r),2);return[(3&a)+m[2*(e-1)],(a>>2&3)+m[2*(e-1)+1]]},t.findDate=function(e,n,r){var a=r&&r.lang?r.lang:d.lang;return n instanceof t&&(n=n.value),[e,1+((n="string"==typeof n?d.locales[a].solarTerm.indexOf(n):n%24)>>1),t.getYearTermDayList(e)[n]]},t.findNode=function(e,n){var r,a={lang:d.lang,returnValue:!1,nodeFlag:0,isUTC:!1},o=n?Object.assign({},a,n):a,l=o.returnValue,i=o.nodeFlag;if(i>2)throw new Error("Invalid nodeFlag");var s,u={lang:o.lang||d.lang},c=M(e,"FullYear",o.isUTC),f=M(e,"Month",o.isUTC),h=M(e,"Date",o.isUTC),g=M(e,"Hours",o.isUTC),p=(2*f+24)%24,v=t.getMonthTerms(c,f+1),y=v[0],m=v[1],b=!1,w=!1;h<y&&!(h===y-1&&g>=23)?b=!0:h<m&&!(h===m-1&&g>=23)&&(w=!0,1===i&&(b=!0));var _=!1;b?(f-1<0?(c--,f=11):f--,p=(2*f+24)%24,y=(r=t.getMonthTerms(c,f+1))[0],m=r[1],i>0&&(_=!0)):(1===i||2===i&&!w)&&(_=!0),s=_?m:y,p=_?(p+1)%24:p;var $=x("".concat(c,"-").concat(f+1,"-").concat(s));return l?[p,$]:[new t(p,u),$]},t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.name},t}(),q=function(){function t(e,n){if(this.value=-1,this._config={lang:d.lang},e instanceof t)return e;n&&(this._config=Object.assign({},this._config,n)),this.value=O(e,"element5",this._config.lang,d)}return t.getNames=function(t){return t=t||d.lang,r([],d.locales[t].fiveElements,!0)},t.create=function(e,n){if(e instanceof t)return e;var r=(null==n?void 0:n.lang)||d.lang;e=O(e,"element5",r,d);var a="".concat(e,":").concat(r);if(t.instances.has(a))return t.instances.get(a);var o=new t(e,n);return t.instances.set(a,o),o},Object.defineProperty(t.prototype,"name",{get:function(){return-1===this.value?"":d.locales[this._config.lang].fiveElements[this.value]},enumerable:!1,configurable:!0}),t.prototype.generating=function(){var e=(this.value+1)%5;return t.create(e,this._config)},t.prototype.overcoming=function(){var e=(this.value+2)%5;return t.create(e,this._config)},t.prototype.weakening=function(){var e=(this.value+4)%5;return t.create(e,this._config)},t.prototype.counteracting=function(){var e=(this.value+3)%5;return t.create(e,this._config)},t.prototype.toString=function(){return-1===this.value?"Invalid five-element value":this.name},t.prototype.valueOf=function(){return this.value},t.instances=new Map,t}(),z=function(){function t(t,e){this.value=-1,this._config={lang:d.lang},e&&(this._config=Object.assign({},this._config,e)),this.value=t%8}return t.getNames=function(t){return t=t||d.lang,r([],d.locales[t].eightTrigram,!0)},t.create=function(e,n){var r=(null==n?void 0:n.lang)||d.lang;e=O(e,"trigram8",r,d);var a="".concat(e,":").concat(r);if(t.instances.has(a))return t.instances.get(a);var o=new t(e,n);return t.instances.set(a,o),o},Object.defineProperty(t.prototype,"name",{get:function(){return d.locales[this._config.lang].eightTrigram[this.value]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.name},t.prototype.valueOf=function(){return this.value},t.instances=new Map,t}();function F(t,e){return void 0===e&&(e=!1),function(n,a,o){var l=void 0===o.value?o.get:o.value;o[void 0===o.value?"get":"value"]=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length>0&&e){var o=JSON.stringify(n);t+=o}if(this.cache.has(t))return this.cache.get(t);var i=l.call.apply(l,r([this],n,!1));return this.cache.set(t,i),i}}}var H=function(){this.cache=new Map},I=function(t){function a(e,n){var r=t.call(this)||this;return r.value=-1,r._config={lang:d.lang},e instanceof a?e:(n&&(r._config=Object.assign({},r._config,n)),r.value=O(e,"branch",r._config.lang,d),r)}return e(a,t),a.getNames=function(t){return t=t||d.lang,r([],d.locales[t].branchs,!0)},a.create=function(t,e){if(t instanceof a)return t;var n=(null==e?void 0:e.lang)||d.lang;t=O(t,"branch",n,d);var r="".concat(t,":").concat(n);if(a.instances.has(r))return a.instances.get(r);var o=new a(t,e);return a.instances.set(r,o),o},Object.defineProperty(a.prototype,"name",{get:function(){return d.locales[this._config.lang].branchs[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hiddenStems",{get:function(){return u[this.value].map(function(t){return new R(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"e5",{get:function(){var t=Math.floor((this.value+10)/3)%4;return(this.value+10)%3==2?q.create(2,this._config):q.create(t<2?t:t+1,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"meeting",{get:function(){var t=this,e=[[2,3,4],[5,6,7],[8,9,10],[11,0,1]].find(function(e){return e.includes(t.value)}),n=null==e?void 0:e.filter(function(e){return e!==t.value});return[a.create(n[0],this._config),a.create(n[1],this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"meetingE5",{get:function(){return q.create((t=this.value,[0,1,3,4][Math.floor((t-2+12)%12/3)]),this._config);var t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"triad",{get:function(){return[a.create((this.value+4)%12,this._config),a.create((this.value+8)%12,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"triadE5",{get:function(){return q.create([4,0,1,3][this.value%4],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"group6",{get:function(){return a.create((13-this.value)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"group6E5",{get:function(){return q.create((e=[2,0,1,3,4,2],(t=0===(t=this.value)?12:t)<7?e[t-1]:e[12-t]),this._config);var t,e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"punishing",{get:function(){return a.create([3,10,5,0,4,8,6,1,2,9,7,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"punishBy",{get:function(){return a.create([3,7,8,0,4,2,6,10,5,9,1,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"conflict",{get:function(){return a.create((this.value+6)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"destroying",{get:function(){return a.create([9,4,11,6,1,8,3,10,5,0,7,2][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"harming",{get:function(){var t=this.value>7?19-this.value:7-this.value;return a.create(t,this._config)},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return this.name},a.prototype.valueOf=function(){return this.value},a.instances=new Map,n([F("branch:hiddenStems")],a.prototype,"hiddenStems",null),n([F("branch:e5")],a.prototype,"e5",null),n([F("branch:meeting")],a.prototype,"meeting",null),n([F("branch:punishing")],a.prototype,"punishing",null),n([F("branch:punishBy")],a.prototype,"punishBy",null),n([F("branch:conflict")],a.prototype,"conflict",null),n([F("branch:destroying")],a.prototype,"destroying",null),n([F("branch:harming")],a.prototype,"harming",null),a}(H),R=function(t){function a(e,n){var r=t.call(this)||this;return r.value=-1,r._config={lang:d.lang},e instanceof a?e:(n&&(r._config=Object.assign({},r._config,n)),r.value=O(e,"stem",r._config.lang,d),r)}return e(a,t),a.getNames=function(t){return t=t||d.lang,r([],d.locales[t].stems,!0)},a.create=function(t,e){if(t instanceof a)return t;var n=(null==e?void 0:e.lang)||d.lang;t=O(t,"stem",n,d);var r="".concat(t,":").concat(n);if(a.instances.has(r))return a.instances.get(r);var o=new a(t,e);return a.instances.set(r,o),o},Object.defineProperty(a.prototype,"name",{get:function(){return d.locales[this._config.lang].stems[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"branchs",{get:function(){var t=this;return d.locales[this._config.lang].branchs.filter(function(e,n){return n%2==t.value%2}).map(function(e){return I.create(e,t._config)})},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"e5",{get:function(){return q.create(Math.floor(this.value/2),this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"trigram8",{get:function(){return z.create([7,0,4,3,2,5,1,5,7,0][this.value],this._config)},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return this.name},a.prototype.valueOf=function(){return this.value},a.instances=new Map,n([F("stem:branchs")],a.prototype,"branchs",null),n([F("stem:e5")],a.prototype,"e5",null),a}(H),U=function(){function t(t,e,n){if(this.value=-1,this._config={lang:d.lang},n&&(this._config=Object.assign({},this._config,n)),"number"==typeof e||"string"==typeof e||e instanceof I){this.stem=R.create(t,this._config),this.branch=I.create(e,this._config);var r=this.stem.valueOf(),a=this.branch.valueOf();this.value=function(t,e){if((t+e)%2!=0)throw new Error("Invalid SB value");return t%10+(6-(e>>1)+(t>>1))%6*10}(r,a)}else{if("number"!=typeof t)throw new Error("Invalid SB value");this.value=t%60,r=this.value%10,a=this.value%12,this.stem=R.create(r,this._config),this.branch=I.create(a,this._config)}}return t.getNames=function(t){t=t||d.lang;var e=d.locales[t];return new Array(60).fill("").map(function(t,n){var r,a=n%10,o=n%12;return e.stems[a]+(null!==(r=null==e?void 0:e.stemBranchSeparator)&&void 0!==r?r:"")+e.branchs[o]})},t.create=function(e,n){if(e instanceof t)return e;var r=(null==n?void 0:n.lang)||d.lang,a="".concat(e,":").concat(r);if(t.instances.has(a))return t.instances.get(a);var o=new t(e,void 0,n);return t.instances.set(a,o),o},Object.defineProperty(t.prototype,"missing",{get:function(){var t=2*(5-Math.floor(this.value/10));return[I.create(t,this._config),I.create(t+1,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t,e=d.locales[this._config.lang];return"".concat(this.stem).concat(null!==(t=null==e?void 0:e.stemBranchSeparator)&&void 0!==t?t:"").concat(this.branch)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.name},t.prototype.valueOf=function(){return this.value},t.instances=new Map,t}(),W=function(){function t(e,n){if(this.value=-1,this._config={changeAgeTerm:d.changeAgeTerm,isUTC:!1,lang:d.lang,offset:0},n&&(this._config=Object.assign({},this._config,n)),e instanceof Date){var r=this._config.isUTC,a=$(e,r,!0),o=t.computeSBYear(a,this._config),l=t.computeSBMonth(a,this._config),i=t.computeSBDay(a,this._config);e=[o,l,i,t.computeSBHour(a,i,this._config)]}if(!Array.isArray(e))throw new Error("Invalid Char8");this._list=e,this.value=t.computeValue(e)}return t.prototype.getConfig=function(){return Object.assign({},this._config)},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"year",{get:function(){return this._list[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"month",{get:function(){return this._list[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"day",{get:function(){return this._list[2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hour",{get:function(){return this._list[3]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"me",{get:function(){return this._list[2].stem},enumerable:!1,configurable:!0}),t.computeValue=function(t){for(var e=0,n=0;n<4;n++)e+=t[n].valueOf()*Math.pow(10,2*(3-n));return e},t.computeSBYear=function(t,e){var n=e&&void 0!==e.changeAgeTerm?e.changeAgeTerm:d.changeAgeTerm,r=e&&e.isUTC,a="number"!=typeof t?M(t,"FullYear",r):t;if(null!=n&&"number"!=typeof t){var o=(n%=24)<0;n=n>=0?n:24+n;var l=M(t,"FullYear",r);o&&l--;var i=l+1,s=N.findDate(l,n),u=N.findDate(i,n),c=x("".concat(s[0],"-").concat(s[1],"-").concat(s[2]-1," 23:00:00")),f=x("".concat(u[0],"-").concat(u[1],"-").concat(u[2]-1," 23:00:00"));t.valueOf()<c.valueOf()?a--:t.valueOf()>=f.valueOf()&&a++}else if(null===n&&"number"!=typeof t){var h=C.getLunarNewYearDay(a);t.valueOf()<h.valueOf()-36e5&&a--}return new U((a-4)%10,(a-4)%12,e)},t.computeSBMonth=function(t,e){var n,r=e&&void 0!==e.lang?e.lang:d.lang,a=e&&void 0!==e.changeAgeTerm?e.changeAgeTerm:d.changeAgeTerm;a=a||0;var o=null!==(n=null==e?void 0:e.isUTC)&&void 0!==n&&n,l={isUTC:o,lang:r,returnValue:!0,nodeFlag:(a+24)%2},i=N.findNode(t,l),s=i[0],u=i[1],c=B(t,s,u,o);return new U(c,void 0,{lang:r})},t.computeSBDay=function(t,e){var n=(null==e?void 0:e.isUTC)||!1,r=(null==e?void 0:e.offset)||0,a=n?t.valueOf()-60*r*1e3:t.valueOf(),o=x("".concat(f[0],"-").concat(f[1],"-").concat(f[2]-1," 23:00:00")),l=Math.floor((a-o.valueOf())/864e5)%60;return l<0&&(l+=60),new U(l,void 0,e)},t.computeSBHour=function(e,n,r){var a=(null==r?void 0:r.isUTC)||!1;n||(n=t.computeSBDay(e,r));var o,l=(M(e,"Hours",a)+1>>1)%12,i=(void 0===(o=l)&&(o=0),(n.stem.value%5*2+o)%10);return new U(i,l,r)},t.prototype.toString=function(){return"".concat(this.year," ").concat(this.month," ").concat(this.day," ").concat(this.hour)},t.prototype.valueOf=function(){return this.value},t}();function V(t,e,n){for(var r in t){var a=t[r],o=[];if(Array.isArray(a))for(var l=0,i=a;l<i.length;l++){var s=i[l];o.push(X(s,n))}else o.push(X(a,n));e.has(r)?e.set(r,(e.get(r)||[]).concat(o)):e.set(r,o)}return e}function X(t,e){var n=t.tag,r={tag:[],name:t.name};return Array.isArray(n)?r.tag=n.slice():"string"==typeof n&&r.tag.push(n),Array.isArray(e)?r.tag=r.tag.concat(e):"string"==typeof e&&r.tag.push(e),void 0!==t.data&&(r.data=Object.assign({},t.data)),r}function Z(t,e,n){return void 0===n&&(n=!1),t.filter(function(t){if(n){var r=Array.isArray(e)?e:[e];return!nt(t.tag,r)}return Array.isArray(e)?!e.includes(t.name):e!==t.name})}function J(t,e,n,r){void 0===n&&(n=!0);var a=function(e,r){if(!t.has(e))return!1;var a=t.get(e);if(void 0===a)return!1;if(void 0===r)return t.delete(e),!1;var o=Z(a,r,n);return 0===o.length?t.delete(e):o.length<a.length&&t.set(e,o),!0};if(void 0===r)for(var o=0,l=Array.from(t.keys());o<l.length;o++)a(l[o],e);else if(Array.isArray(r))for(var i=0,s=r;i<s.length;i++)a(s[i],e);else a(r,e)}function Q(t,e,n){void 0===n&&(n=!0),function(t,e,n){void 0===n&&(n=!0);for(var r=t.formatList,a=t.formatMap,o=[],l=0,i=r;l<i.length;l++){var s=i[l];K(a,s,e,n)&&o.push(s)}o.length!==r.length&&(t.formatList=o)}(t,e,n),tt(t,e,n)}function K(t,e,n,r,a){if(void 0===r&&(r=!0),t.has(e)){var o=t.get(e);if(void 0===o)return!1;if(J(o,n,r,a),0!==o.size)return!0;t.delete(e)}return!1}function tt(t,e,n,r){void 0===n&&(n=!0);for(var a=t.fnList,o=[],l=0,i=a;l<i.length;l++){var s=i[l],u=s.fn,c=s.markers;J(c,e,n,r),c.size>0&&o.push({fn:u,markers:c})}o.length!==a.length&&(t.fnList=o)}function et(t,e,n){var r=t.formatMap;if(!r.has(e))return null;var a=r.get(e);if(void 0===a)return null;if(!a.has(n))return null;var o=a.get(n);return void 0===o?null:o}function nt(t,e){for(var n=0;n<e.length;n++)if(t.includes(e[n]))return!0;return!1}function rt(t,e){for(var n in t){var r=t[n],a=e[n];if("tag"===n){if(Array.isArray(r)){if(!Array.isArray(a))return!1;if(!nt(r,a))return!1}else if(Array.isArray(a)&&!a.includes(r))return!1}else if("object"==typeof r&&"object"==typeof a){if(!rt(r,a))return!1}else if(r!==a)return!1}return!0}var at=function(){function t(t){this._list=null,this.storeMarkers=[],this.storeMarkersFromGlobal=[],this.lsr=t,this.init()}return t.add=function(e,n){return function(t,e,n){for(var r=0,a=e;r<a.length;r++){var o=a[r],l=o.format,i=o.markers;if("string"==typeof l){var s=void 0;t.formatMap.has(l)?s=t.formatMap.get(l):t.formatList.push(l),void 0===s&&(s=new Map),V(i,s,n),t.formatMap.set(l,s)}else if("function"==typeof l){var u=new Map;V(i,u,n),t.fnList.push({fn:l,markers:u})}}}(t.store,e,n),t},t.clean=function(){return t.store.formatList=[],t.store.formatMap=new Map,t.store.fnList=[],t},t.cleanFnList=function(){return t.store.fnList=[],t},t.remove=function(e,n,r){return function(t,e,n,r){if(!0===e)tt(t,r,!1,n);else{var a=t.formatList,o=t.formatMap;K(o,e,r,!1,n),o.has(e)||(t.formatList=a.filter(function(t,n){return t!==e}))}}(t.store,e,n,r),t},t.removeByTag=function(e){return Q(t.store,e,!0),t},t.removeByName=function(e){return Q(t.store,e,!1),t},t.prototype.init=function(){for(var e,n=[],a=t.store,o=0,l=a.formatList;o<l.length;o++){var i=l[o],s=et(a,i,this.lsr.format(i));s&&n.push(s)}(e=this.storeMarkersFromGlobal).splice.apply(e,r([0,this.storeMarkersFromGlobal.length],n.flat(),!1))},t.prototype.add=function(t,e){if(this._list=null,Array.isArray(t))for(var n=0,r=t;n<r.length;n++){var a=r[n];this.add(a,e)}else{var o=X(t,e);this.storeMarkers.push(o)}return this},t.prototype.remove=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=0),this._list=null,0!==n&&1!==n||(this.storeMarkersFromGlobal=Z(this.storeMarkersFromGlobal,t,e)),0!==n&&2!==n||(this.storeMarkers=Z(this.storeMarkers,t,e)),this},t.prototype.clean=function(t){return void 0===t&&(t=0),this._list=null,0!==t&&1!==t||(this.storeMarkersFromGlobal=[]),0!==t&&2!==t||(this.storeMarkers=[]),this},t.prototype.reset=function(){return this._list=null,this.clean(0),this.init(),this},t.prototype[Symbol.iterator]=function(){var t=0,e=this.list;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}},Object.defineProperty(t.prototype,"list",{get:function(){return null==this._list&&(this._list=r(r([],this.storeMarkersFromGlobal,!0),this.storeMarkers,!0)),this._list},enumerable:!1,configurable:!0}),t.prototype.filter=function(t){return"function"==typeof t?this.list.filter(t):"object"==typeof t?this.list.filter(function(e){return rt(t,e)}):[]},t.prototype.find=function(t){return"function"==typeof t?this.list.find(t):"object"==typeof t?this.list.find(function(e){return rt(t,e)}):void 0},t.prototype.toString=function(){return this.list.map(function(t){return t.name}).join(",")},t.store={formatList:[],formatMap:new Map,fnList:[]},t}(),ot=function(t){function r(e,n){var r=t.call(this)||this;r._config=Object.assign({extra:{}},d,n);var a=r._config,o=a.isUTC,l=a.offset,i=x(e,o);0!==l&&i.setMinutes(i.getMinutes()+l);var s=-1*x(e).getTimezoneOffset();return r._config.extra.localTimezoneOffset=s,r._date=i,r._offset=l,r}return e(r,t),Object.defineProperty(r.prototype,"lunisolar",{get:function(){return dt},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"year",{get:function(){return M(this._date,"FullYear",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"month",{get:function(){return M(this._date,"Month",this.isUTC())+1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"day",{get:function(){return M(this._date,"Date",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dayOfWeek",{get:function(){return M(this._date,"Day",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hour",{get:function(){return M(this._date,"Hours",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minute",{get:function(){return M(this._date,"Minutes",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"second",{get:function(){return M(this._date,"Seconds",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"millis",{get:function(){return M(this._date,"Milliseconds",this.isUTC())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lunar",{get:function(){return new C(this._date,{lang:this._config.lang,isUTC:this.isUTC()})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"char8",{get:function(){var t={lang:this._config.lang,changeAgeTerm:this._config.changeAgeTerm,isUTC:this.isUTC(),offset:this._offset};return new W(this._date,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"markers",{get:function(){return new at(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"solarTerm",{get:function(){var t=this.year;if(t<g||t>p)throw new Error("".concat(t,"  is not in the allowed time range."));var e=this.month,n=this.day,r=N.getMonthTerms(t,e),a=r[0],o=r[1],l={lang:this._config.lang};return n===a?new N(2*(e-1),l):n===o?new N(2*(e-1)+1,l):null},enumerable:!1,configurable:!0}),r.prototype.recentSolarTerm=function(t){return N.findNode(this._date,{lang:this._config.lang,nodeFlag:t,returnValue:!1})},r.prototype.getMonthBuilder=function(t){void 0===t&&(t=0);var e={lang:this.getConfig("lang")},n=this.recentSolarTerm(t),r=n[0],a=n[1],o=B(this.toDate(),r.value,a);return[new U(o,void 0,e),r,a]},r.prototype.getSeasonIndex=function(){var t=this.recentSolarTerm(0)[0].value;return 2<=t&&t<8?0:8<=t&&t<14?1:14<=t&&t<20?2:3},r.prototype.getSeason=function(t){void 0===t&&(t=!1);var e=this.getSeasonIndex(),n=this.getLocale();return t&&n.seasonShortName?n.seasonShortName[e]:n.seasonName[e]},r.prototype.getLocale=function(t){return d.locales[null!=t?t:this._config.lang]},r.prototype.L=function(t){return function(t,e){for(var n=e.split("."),r=t,a=e,o=function(t){return("string"==typeof t||"number"==typeof t||"function"==typeof t)&&(a=t,!0)};n.length>=0&&!o(r)&&0!==n.length;){var l=n.shift();if(void 0===l)return"";if(Array.isArray(r)){var i=Number(l);if(isNaN(i)||i>=r.length)return"";r=r[i],a=r}else{if(!r.hasOwnProperty(l))return n[n.length-1]||l;r=r[l]}}return a}(this.getLocale(),t)},r.prototype.getConfig=function(t){return void 0===t?this._config:(this._config[t],this._config[t])},r.prototype.toDate=function(){return new Date(this.valueOf())},r.prototype.clone=function(){return new r(this.valueOf(),this._config)},r.prototype.unix=function(){return Math.floor(this.valueOf()/1e3)},r.prototype.valueOf=function(){return this._date.valueOf()-60*this._offset*1e3},r.prototype.local=function(){var t=Object.assign({},this._config,{isUTC:!1,offset:0});return new r(this.toDate(),t)},r.prototype.utc=function(){return this.utcOffset(-this._offset)},r.prototype.isUTC=function(){return this._config.isUTC},r.prototype.utcOffset=function(t){if(void 0===t)return this.isUTC()?this._offset:(e=this._date,15*-Math.round(e.getTimezoneOffset()/15));var e,n=Object.assign({},this._config,{isUTC:!0,offset:Math.abs(t)<=16?60*t:t});return new r(this._date,n)},r.prototype.toISOString=function(){return this._date.toISOString()},r.prototype.toUTCString=function(){return this._date.toUTCString()},r.prototype.toString=function(){return this._date.toUTCString()+" (".concat(this.lunar,")")+" utcOffset: ".concat(this.utcOffset())},r.prototype.format=function(t){return E(t,this)},r.prototype.diff=function(t,e,n){return void 0===n&&(n=!1),e=e?_(e):"millisecond",o.has(e)?function(t,e,n,r){var o=[t.lunar,e.lunar],l=o[1],i=[o[0].year,l.year],s=i[0],u=i[1],c=e.valueOf()-t.valueOf();if((n=_(n))===a.ly){var f=u-s;return r?f-1+L(t,!0)+L(e,!1):f}return n===a.lM?T(t,e,r):(n===a.ld?c/=864e5:n===a.lh&&(c/=72e5),r?c:Math.ceil(c))}(this,t instanceof r?t:new r(t,this._config),e,n):function(t,e,n,r){var o;t=(o=[x(t),x(e)])[0];var l=(e=o[1]).valueOf()-t.valueOf();n=n?_(n):"millisecond";var i=l;return a.s===n?i=l/1e3:a.m===n?i=l/6e4:a.h===n?i=l/36e5:a.d===n?i=l/864e5:a.w===n?i=l/6048e5:a.M===n?i=k(t,e):a.y===n?i=k(t,e)/12:a.q===n&&(i=k(t,e)/3),r?i:parseInt(String(i))}(this._date,t,e,n)},r.prototype.add=function(t,e){var n=function(t,e,n){var r=(t=x(t)).getFullYear(),o=t.getMonth()+1,l=e;if((n=n?_(n):"millisecond")===a.d||n===a.ld)l=24*e*60*60*1e3;else if(n===a.h)l=60*e*60*1e3;else if(n===a.m)l=60*e*1e3;else if(n===a.s)l=1e3*e;else{if(n===a.M)return new Date(t.setMonth(o-1+e));if(n===a.y)return new Date(t.setFullYear(r+e))}return new Date(t.valueOf()+l)}(this.toDate(),t,e);return new r(n,this.getConfig())},n([F("lunisolar:lunar")],r.prototype,"lunar",null),n([F("lunisolar:char8")],r.prototype,"char8",null),n([F("lunisolar:markers")],r.prototype,"markers",null),n([F("lunisolar:solarTerm")],r.prototype,"solarTerm",null),n([F("lunisolar:recentSolarTerm",!0)],r.prototype,"recentSolarTerm",null),n([F("lunisolar:getMonthBuilder",!0)],r.prototype,"getMonthBuilder",null),r}(H),lt=[5,7,11,13,-1,-2,17,19,23,1],it=[4,6,0,7],st=[1,1,8,8,8,3,3,3,4,4,4,9,9,9,2,2,2,7,7,7,6,6,6,1],ut=new Map,ct=function(t){void 0===t&&(t="zh");var e="direction24List:".concat(t);if(ut.has(e))return ut.get(e);var n={lang:t},r=[I.create(0,n),R.create(9,n),I.create(1,n),z.create(4,n),I.create(2,n),R.create(0,n),I.create(3,n),R.create(1,n),I.create(4,n),z.create(6,n),I.create(5,n),R.create(2,n),I.create(6,n),R.create(3,n),I.create(7,n),z.create(0,n),I.create(8,n),R.create(6,n),I.create(9,n),R.create(7,n),I.create(10,n),z.create(7,n),I.create(11,n),R.create(8,n)];return ut.set(e,r),r};function ft(t){if("number"==typeof t)return t;var e=t.constructor.name,n=t.value;if("Stem"===e)t=lt[n];else if("Branch"===e)t=2*n;else{if("Trigram8"!==e)throw new Error("Invalid direction24 value");var r=it.indexOf(n);if(-1===r)throw new Error("Invalid direction24 value");t=3*(2*r+1)}return t}var ht=function(){function t(t,e){this._config={lang:d.lang};var n=ft(t);this.value=n;var r=(null==e?void 0:e.lang)||d.lang,a=ct(r);this._sign=-1===n?R.create(4,e):-1===n?R.create(5,e):a[n%24]}return t.create=function(e,n){var r=ft(e),a=(null==n?void 0:n.lang)||"zh",o="".concat(r,":").concat(a);if(t.instances.has(o))return t.instances.get(o);var l=new t(r,n);return t.instances.set(o,l),l},t.createFromAngle=function(e,n){var r=Math.round(e%360/15);return t.create(r,n)},t.getNames=function(t){return t=t||d.lang,ct(t).map(function(t){return t.name})},Object.defineProperty(t.prototype,"sign",{get:function(){return this._sign},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._sign.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._sign.constructor.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.value>0?15*this.value:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return d.locales[this._config.lang].directions[this.directionIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"directionIndex",{get:function(){return this.value<0?5:st[this.value]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._sign.toString()},t.prototype.valueOf=function(){return this.value},t.instances=new Map,t}();function dt(t,e){return new ot(t,e)}return dt.utc=function(t,e){return new ot(t,Object.assign({},e,{isUTC:!0}))},dt.Lunar=C,dt.SolarTerm=N,dt.Char8=W,dt.SB=U,dt.Stem=R,dt.Branch=I,dt.Element5=q,dt.Lunisolar=ot,dt.Trigram8=z,dt.Direction24=ht,dt.fromLunar=function(t,e){var n=j(t,null==e?void 0:e.lang);return new ot(n,e)},dt.config=function(t){return t?(Object.assign(d,t),dt):dt},dt.extend=function(t,e){return t.$once||(t(e,ot,dt),t.$once=!0),dt},dt.locale=function(t,e){if(void 0===e&&(e=!1),Array.isArray(t)){for(var n=0,r=t;n<r.length;n++){var a=r[n];dt.locale(a,e)}return dt}return t&&t.name?(d.locales[t.name]=Object.assign({},d.locales[t.name],h,t),e||(d.lang=t.name),e&&"zh"!==d.lang&&(d.locales[d.lang]=Object.assign({},d.locales.zh,d.locales[d.lang])),dt):dt},dt.getLocale=function(t){return d.locales[t]},dt.defineLocale=function(t){return t},dt.Markers=at,dt._globalConfig=d,Object.defineProperty(dt,"_globalConfig",{writable:!1}),dt}();var Me=Ge(Oe.exports);!function(t){t.exports=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e,n,r){var a,o=arguments.length,l=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(l=(o<3?a(l):o>3?a(e,n,l):a(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function r(t,e,n,r){return new(n||(n=Promise))(function(e,a){function o(t){try{i(r.next(t))}catch(t){a(t)}}function l(t){try{i(r.throw(t))}catch(t){a(t)}}function i(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,l)}i((r=r.apply(t,[])).next())})}function a(t,e){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function o(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var l,i="year gods",s="month gods",u="day gods",c="hour gods",f="this day gods",h="day of yellow-black god",d="hour of yellow-black god",g="duty god",p="year of long-life god",v="month of long-life god",y="day of long-life god",m="hour of long-life god",b="good act",w="good act 1",_="good act 2",x="good act 3",$="bad act",A="bad act 1",S="bad act 2",j="bad act 3",B=["月德","月德合","天德","天德合"],G=new Set(B),O=["天赦","天願"],M=["相日","月建","時德","六合","天吏","月令長生","官日","除日","執日","開日","滿日","民日","月破","危日","建日","月德","大會","守日","成日","定日","德"],k=["平日","收日","閉日","劫煞","災煞","月煞","月刑","月害","月厭","大時","天吏"],T={"平日":[[0,[11],["相日","時德","六合"]],[1,[6],["相日","六合","月刑"]],[2,[8],["相日","月害"]],[3,[2],["相日","月害","月刑"]],[3,[3,6,9],["天吏"]],[4,[1,4,7,10],["月煞"]],[4,[0],["天吏","月刑"]]],"收日":[[0,[2,8],["月令長生","六合","劫煞"]],[2,[5,11],["月令長生","劫煞"]],[2,[4,7],["月害"]],[3,[0,6,9],["大時"]],[3,[1,10],["月刑"]],[4,[3],["大時"]]],"閉日":[[3,[0,3,6,9],["王日"]],[3,[1,4,7,10],["官日","天吏"]],[4,[2,5,8,11],["月煞"]]],"劫煞":[[0,[2,8],["月令長生","六合","收日"]],[1,[1,4,7,10],["除日","相日"]],[2,[5,11],["月令長生","月害","收日"]],[3,[0,3,6,9],["執日"]]],"災煞":[[1,[2,5,8,10],["開日"]],[2,[1,4,7,10],["滿日","民日"]],[4,[0,6],["月破"]],[5,[0,6],["月厭"]]],"月煞":[[1,[3,9],["六合","危日"]],[3,[0,6],["月害","危日"]],[4,[2,5,8,11],["閉日"]],[4,[1,4,7,10],["平日"]]],"月刑":[[1,[5],["平日","六合","相日"]],[3,[2],["相日","月害","平日"]],[3,[4,9,11],["建日"]],[3,[1,10],["收日"]],[4,[0],["平日","天吏"]],[4,[3],["收日","大時"]],[4,[7,8],["月破"]],[4,[6],["月建","月厭","月德","大會"]]],"月害":[[2,[3,9],["守日","除日"]],[2,[1,7],["執日","大時"]],[2,[5,11],["月令長生","劫煞"]],[2,[8],["相日","平日"]],[3,[0,6],["月煞"]],[3,[4,10],["官日","閉日","天吏"]],[3,[2],["相日","平日","月刑"]]],"月厭":[[2,[2,8],["成日"]],[2,[1,7],["開日"]],[3,[4,10],["定日"]],[3,[5,11],["滿日"]],[4,[0],["月建","德","大會"]],[4,[6],["月建","月刑","德","大會"]],[5,[3,9],["月破","災煞"]]],"大時":[[0,[2,5,8,11],["除日","官日"]],[0,[4,10],["執日","六合"]],[2,[1,7],["執日","月害"]],[3,[0,6,9],["收日"]],[4,[3],["收日","月刑"]]],"天吏":[[2,[2,5,8,11],["危日"]],[3,[1,4,7,10],["閉日"]],[3,[3,6,9],["平日"]],[4,[0],["平日","月刑"]]]},D=new Set(["y","m","d","h"]),P=new Set([24,54,48,18,51,15,27,21,45,57]),L=[2,1,0,11,10,9,8,7,6,5,4,3,2,1],E={name:"zh",theGods:{gods:{},acts:{},queryString:(l={},l[i]="年神",l[s]="月神",l[u]="日神",l[c]="時神",l[f]="本日神煞",l[h]="本日黃黑十二神",l[d]="此時黃黑十二神",l[g]="建除十二神",l[p]="年長生十二神",l[v]="月長生十二神",l[y]="日長生十二神",l[m]="時長生十二神",l[b]="宜",l[w]="宜1",l[_]="宜2",l[x]="宜3",l[$]="忌",l[A]="忌1",l[S]="忌2",l[j]="忌3",l)}},Y=[[9],[5,9,7],[0,2,4],[1],[4,1,9],[2,6,4],[3,5],[5,3,1],[6,8,4],[7],[4,7,3],[8,0]],C={locales:{zh:{name:"zh",leap:"閏",lunarYearUnit:"年",lunarHourUnit:"時",bigMonth:"大",smallMonth:"小",weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["週日","週一","週二","週三","週四","週五","週六"],weekdaysMin:["日","一","二","三","四","五","六"],months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),lunarMonths:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),lunarMonthsAlias:"正月_二月_三月_四月_五月_六月_七月_八月_九月_十月_冬月_腊月".split("_"),lunarDays:"初一_初二_初三_初四_初五_初六_初七_初八_初九_初十_十一_十二_十三_十四_十五_十六_十七_十八_十九_二十_廿一_廿二_廿三_廿四_廿五_廿六_廿七_廿八_廿九_三十".split("_"),numerals:"〇一二三四五六七八九十".split(""),constellationName:"白羊座_金牛座_雙子座_巨蟹座_狮子座_處女座_天秤座_天蝎座_射手座_摩羯座_水瓶座_雙魚座".split("_"),solarTerm:"小寒_大寒_立春_雨水_驚蟄_春分_清明_穀雨_立夏_小滿_芒種_夏至_小暑_大暑_立秋_處暑_白露_秋分_寒露_霜降_立冬_小雪_大雪_冬至".split("_"),seasonName:"春夏秋冬".split(""),stems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],branchs:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],stemBranchSeparator:"",chineseZodiac:["鼠","牛","虎","兔","龍","蛇","馬","羊","猴","雞","狗","豬"],fiveElements:["木","火","土","金","水"],eightTrigram:"坤震坎兌艮離巽乾".split(""),moonPhase:{"朔":"朔","望":"望","弦":"弦","晦":"晦"},directions:["","北","西南","東","東南","中","西北","西","東北","南"],formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah點mm分",LLLL:"YYYY年M月D日ddddAh點mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiem:function(t,e){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}}},lang:"zh"},N=function(t,e,n){return"month"===e?t.getMonthBuilder(n)[0]:t.char8[e]},q=function(t,e,n){var r=N(t,e,0);return n?r.branch.value%n:r.branch.value},z=function(t,e,n){var r=N(t,e,0);return n?r.stem.value%n:r.stem.value},F=function(t,e,n){var r=N(t,e,0).stem.trigram8.valueOf();return n?r%n:r},H=function(t,e){if((t+e)%2!=0)throw new Error("Invalid SB value");return t%10+(6-(e>>1)+(t>>1))%6*10};function I(t){return!isNaN(Number(t))}function R(t,e,n){if(n.has(t))return n.get(t);var r=e();return n.set(t,r),r}var U={stem:[10,"stems"],branch:[12,"branchs"],trigram8:[8,"eightTrigram"],element5:[5,"fiveElements"]},W=function(t,e,n,r){if("number"==typeof t)t%=U[e][0];else if("string"==typeof t){var a=r.locales[n][U[e][1]].indexOf(t);if(-1===a)throw new Error("Invalid ".concat(e," value"));t=a}return t};function V(t,e){void 0===e&&(e=!1),t=t.toLowerCase();var n={year:"y",month:"m",d:"d",h:"h"};return n.hasOwnProperty(t)?n[t]:D.has(t)||!e?t:null}function X(t){return Q(function(e,n){return(q(e,null!=n?n:"month")+t)%12},q)}function Z(t){return Q(function(e,n){return([0,11,10,9,8,7,6,5,4,3,2,1][q(e,null!=n?n:"month")]+t)%12},q)}function J(t){return Q(function(e){return([1,0,11,10,9,8,7,6,5,4,3,2][e.getMonthBuilder(0)[0].branch.value]+t+12)%12},q)}function Q(t,e,n){return void 0===n&&(n="="),function(r,a,o){void 0===o&&(o=null);var l=t(r,a);if(!o)return l;if(null===l||!1===l)return!1;var i=e(r,o);return"includes"===n&&Array.isArray(l)?1===l.length?l[0]===i:l.includes(i):l===i}}function K(t,e,n,r,a){return void 0===r&&(r="month"),Q(function(a,o){return Number(t[e(a,null!=o?o:r,n)])},a||e)}var tt=function(t,e){for(var n=0,r=e;n<r.length;n++){var a=r[n];t.delete(a)}},et={locales:{}},nt=function(t,e,n){void 0===e&&(e="zh");var r=et.locales[e];return r?function(t,e){for(var n=e.split("."),r=t,a=e,o=function(t){return("string"==typeof t||"number"==typeof t||"function"==typeof t)&&(a=t,!0)};n.length>=0&&!o(r)&&0!==n.length;){var l=n.shift();if(void 0===l)return"";if(Array.isArray(r)){var i=Number(l);if(isNaN(i)||i>=r.length)return"";r=r[i],a=r}else{if(!r.hasOwnProperty(l))return n[n.length-1]||l;r=r[l]}}return a}(r,n?"theGods.".concat(n,".").concat(t):t):t},rt=["青龍","明堂","天刑","朱雀","金匱","天德","白虎","玉堂","天牢","玄武","司命","勾陳","寶光"],at={"青龍":[null,null,1],"明堂":[null,null,1],"天刑":[null,null,-1],"朱雀":[null,null,-1],"金匱":[null,null,1],"天德":[null,null,1],"白虎":[null,null,-1],"玉堂":[null,null,1],"天牢":[null,null,-1],"玄武":[null,null,-1],"司命":[null,null,1],"勾陳":[null,null,-1],"寶光":[null,null,1]},ot=[8,10,0,2,4,6],lt=function(t,e){return 5===t&&"hour"===e?"寶光":rt[t]},it=function(t){return at.hasOwnProperty(t)?at[t]:null},st=["建","除","滿","平","定","執","破","危","成","收","開","閉"],ut={"建":["施恩封拜 詔命公卿 招賢 舉正直 行幸 遣使 上官赴任 臨政親民 訓兵 出師".split(" "),["結姻親","開倉庫"],null,-1],"除":["解除 沐浴 整容 剃頭 整手足甲 求醫療病 掃舍宇 施恩封拜 舉正直 行幸 遣使 上官赴任 臨政親民 安撫邊境 選將訓兵 出師".split(" "),null,null,1],"滿":["進人口 裁製 修倉庫 經絡 開市 立券 交易 納財 開倉庫 出貨財 補垣塞穴 祭祀 祈福 上冊進表章 慶賜 賞賀 宴會 修宮室 繕城郭 ".split(" "),"施恩封拜 詔命公卿 招賢 舉正直 上官赴任 臨政親民 結婚姻 納采問名 求醫療病".split(" "),{actsFilter:function(t,e){var n=q(t,"month");return[2,8].includes(n)&&e.has("守日")||[0,3,6,9].includes(n)&&e.has("相日")||["月德","天德合","月德合","月恩","四相"].some(function(t){return e.has(t)})?{replace:{bad:[]}}:null}},-1],"平":[["修飾垣墻","平治道涂"],"祈福 求嗣 上冊進表章 頒詔 施恩封拜 詔命公卿 招賢 舉正直 宣政事 布政事 慶賜 賞賀 宴會 行幸 遣使 安撫邊境 選將訓兵 出師 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 進人口 般移 安床 解除 求醫療病 裁製 營建宮室 修宮室 繕城郭 興造動土 豎柱上梁 修倉庫  鼓鑄 經絡 醞釀 開市 立券 交易 納財 開倉庫 出貨財 修置產室 開渠穿井 栽種 收養 納畜 破土 安葬 啟攢".split(" "),null,-1],"定":[["冠帶","運謀算","畫計策"],["上表章","陳詞訟","戰鬥","征伐","求醫療病","安置產室","經營","栽種"],null,1],"執":[["捕捉"],null,null,1],"破":[["求醫療病","破屋壞垣"],null,null,-1],"危":[["安撫邊境","選將訓兵","安床"],null,null,1],"成":["入學 安撫邊境 般移 筑堤防 開市 施恩封拜 舉正直 慶賜 賞賀 宴會 行幸 遣使 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 求醫療病".split(" "),null,null,1],"收":[["進人口","納財","捕捉","納畜"],"祈福 求嗣 上冊進表章 頒詔 施恩封拜 詔命公卿 招賢 舉正直 宣政事 布政事 慶賜 賞賀 宴會 冠帶 行幸 遣使 安撫邊境 選將訓兵 出師 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 般移 安床 解除 求醫療病 裁製 營建宮室 修宮室 繕城郭 興造動土 豎柱上梁 修倉庫  鼓鑄 經絡 醞釀 開市 立券 交易 開倉庫 出貨財 修置產室 開渠穿井 破土 安葬 啟攢".split(" "),{actsFilter:function(t,e){return["月恩","四相","時德"].some(function(t){return e.has(t)})?{add:{good:["修倉庫"]}}:null}},-1],"開":["祭祀 祈福 求嗣 上冊進表章 頒詔  覃恩 肆赦 施恩封拜 詔命公卿 招賢 舉正直 施恩惠 恤孤煢 宣政事 行惠愛 雪冤枉 緩刑獄 慶賜 賞賀 宴會 入學 行幸 遣使 上官赴任 臨政親民 般移 解除 求醫療病 裁製 修宮室 繕城郭 興造動土 豎柱上梁 開市 修置產室 開渠穿井 安碓磑 栽種 牧養".split(" "),["伐木","畋獵","取魚","破土","安葬","啟攢"],null,1],"閉":[["筑堤防","補垣塞穴"],"上冊進表章 頒詔 施恩封拜 詔命公卿 招賢 舉正直 宣政事 布政事 慶賜 賞賀 宴會 冠帶 行幸 遣使 出師 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 進人口 般移 安床 求醫療病 營建宮室 修宮室 興造動土 豎柱上梁  開市 開倉庫 出貨財 修置產室 開渠穿井 針刺 療目".split(" "),null,-1]},ct=function(t){var e=(q(t,"day")+12-q(t,"month"))%12;return[e,st[e]]},ft=["長生","沐浴","冠帶","臨官","帝旺","衰","病","死","墓","絕","胎","養"],ht=function(t,e){void 0===e&&(e="day");var n=z(t,e),r=q(t,e),a=(12+(n%2==1?12-r:r)+[1,6,10,9,10,9,7,0,4,3][n])%12;return[a,ft[a]]},dt={"日祿":[K([2,3,5,6,5,6,8,9,11,0],z,0,"day",q),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"天乙貴人":[Q(function(t,e){return void 0===e&&(e="day"),[[7,1],[8,0],[9,11],[11,9],[1,7],[0,8],[1,7],[2,6],[3,5],[5,3]][z(t,e)]},q,"includes"),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"喜神":[K([2,10,8,6,4],z,5,"day",q),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"天官貴人":[Q(function(t,e){return void 0===e&&(e="day"),[[9],[8],[0],[11],[3],[2],[6],[5],[7,1],[4,10]][z(t,e)]},q,"includes"),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"福星貴人":[Q(function(t,e){return void 0===e&&(e="day"),[[2],[1,11],[0,10],[9],[8],[7],[6],[5],[4],[3]][z(t,e)]},q,"includes"),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"五不遇":[Q(function(t,e){return void 0===e&&(e="day"),[6,7,8,9,0,1,2,3,4,5][z(t,e)]},z),null,null,-1,{showGB:!0,checkBy:"stem",isDay60HourGod:!0}],"路空":[Q(function(t,e){return void 0===e&&(e="day"),[[8,9],[6,7],[4,5],[2,3],[0,1,10,11]][z(t,e,5)]},q,"includes"),null,null,-1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"日建":[Q(function(t,e){return void 0===e&&(e="day"),q(t,e)},q),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"日合":[Q(function(t,e){return void 0===e&&(e="day"),[1,0,11,10,9,8,7,6,5,4,3,2][q(t,e)]},q),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"日馬":[Q(function(t,e){return void 0===e&&(e="day"),[2,11,8,5][q(t,e,4)]},q),null,null,1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"日破":[Q(function(t,e){return void 0===e&&(e="day"),(q(t,e)+6)%12},q),null,null,-1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"日害":[Q(function(t,e){return void 0===e&&(e="day"),[7,6,5,4,3,2,1,0,11,10,9,8][q(t,e)]},q),null,null,-1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"日刑":[Q(function(t,e){return void 0===e&&(e="day"),[3,10,5,0,4,8,6,1,2,9,7,11][q(t,e)]},q),null,null,-1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}],"貴登天門":[Q(function(t,e){return void 0===e&&(e="day"),[[[5,11],[4,10],[3,9],null,null,null,null,null,[9],[8,2],[7,1],[6,0]],[[4,0],[3,11],[10],[9],null,null,[10],[9],[8],[7,3],[6,2],[5,1]],[[1],[0],[11],[10],null,[10],[9],[8],[7],[6],[5,3],[4,2]],[[3],[2],[1],[0],[9,11],[8],[7],[6],[5],[4],[3],null],[null,null,[9,3],[8,2],[7,1],[6,0],[5,11],[4,10],[3,9],null,null,null],[null,[3],[2],[9,1],[8,0],[7,11],[6,10],[5],[4],[3],null,null],[null,null,[9,3],[8,2],[7,1],[6,0],[5,11],[4,10],[3,9],null,null,null],[null,null,[8],[7,3],[6,2],[5,1],[4,0],[3,11],[10],[9],null,null],[null,[8],[7],[6],[4,2],[3,1],[2,0],[11],[10],[9],null],[[7,9],[6,8],[5],[4],[3],[2],null,[2],[1],[0],[9,11],[8,10]]][z(t,e)][t.getMonthBuilder(1)[0].branch.value]},q,"includes"),null,null,1,{showGB:!0,checkBy:"branch"}],"九醜":[Q(function(t,e){return void 0===e&&(e="day"),P.has(t.char8.day.value)?L[(t.getMonthBuilder(1)[0].branch.value+12-q(t,e))%12]:null},q),null,null,-1,{showGB:!0,checkBy:"branch"}],"旬空":[Q(function(t,e){return void 0===e&&(e="day"),[[10,11],[8,9],[6,7],[4,5],[2,3],[0,1]][N(t,e,0).value/10|0]},q,"includes"),null,null,-1,{showGB:!0,checkBy:"branch",isDay60HourGod:!0}]},gt="祈福 求嗣",pt="祭祀 祈福 求嗣",vt="覃恩 肆赦",yt="施恩封拜 詔命公卿",mt="".concat(pt," 上冊進表章 頒詔 ").concat(vt," ").concat(yt),bt="招賢 舉正直",wt="施恩惠 恤孤煢",_t="宣政事 布政事",xt="雪冤枉 緩刑獄",$t="慶賜 賞賀 宴會",At="".concat(bt," ").concat(wt," ").concat(_t," ").concat(xt," ").concat($t),St="行幸 遣使",jt="安撫邊境 選將訓兵 出師",Bt="上官赴任 臨政親民",Gt="".concat(jt," ").concat(Bt),Ot="結婚姻 納采問名",Mt="結婚姻 納采問名 嫁娶",kt="結婚姻 納采問名 嫁娶 進人口",Tt="般移 安床",Dt="整容 剃頭 整手足甲",Pt="解除 整容 剃頭 整手足甲",Lt="求醫療病",Et="興造動土 豎柱上梁",Yt="營建宮室 修宮室 繕城郭 筑堤防 興造動土 豎柱上梁 修倉庫",Ct="經絡 醞釀",Nt="開倉庫 出貨財",qt="開市 立券 交易 納財 開倉庫 出貨財",zt="修飾垣墻 破屋壞垣",Ft="栽種 牧養 納畜",Ht="破土 安葬 啟攢",It="捕捉 畋獵 取漁",Rt={a001:gt,a001a:pt,a001b:"祈福 求嗣 上冊進表章 施恩封拜 詔命公卿",a002:vt,a003:yt,a003a:mt,a004:bt,a005:wt,a006:_t,a007:xt,a007a:"行惠愛 雪冤枉 緩刑獄",a008:$t,a008a:At,a009:St,a010:jt,a011:Bt,a011a:Gt,a011b:"襲爵受封 ".concat(Bt),a012:Ot,a012a:Mt,a012b:kt,a013:Tt,a013a:"般移 遠回",a014:Dt,a014a:Pt,a015:Lt,a016:"營建宮室 修宮室 繕城郭",a017:Et,a017a:"".concat(Et," 修倉庫"),a017b:Yt,a018:Ct,a019:"開市 立券 交易",a019a:"開市 立券 交易 納財",a020:Nt,a020a:qt,a020b:"修倉庫 開市 立券 交易 納財 開倉庫 出貨財",a021:"修置產室",a022:"破屋壞垣 開渠穿井",a023:zt,a024:Ft,a025:"破土 安葬",a025a:Ht,a026:"取漁 乘船渡水",a027:It},Ut="祭祀 祈福 求嗣 上冊受封 上表章 襲爵受封 會親友 入學 冠帶 出行 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 進人口 移徙 遠回 安床 解除 沐浴 剃頭 整手足甲 求醫療病 療目 針刺 裁衣 筑堤防 修造動土 豎柱上梁 修倉庫 鼓鑄 苫蓋 經絡 醞釀 開市 立券 交易 納財 開倉庫 出貨財 修置產室 開渠穿井 安碓磑 補垣塞穴 掃舍宇 修飾垣墻 平治道涂 破屋壞垣 伐木 捕捉 畋獵 取魚 乘船渡水 栽種 牧養 納畜 破土 安葬 啟攢".split(" "),Wt="祭祀 祈福 求嗣 上刪進表章 頒詔 覃恩 肆赦 施恩封拜 詔命公卿 招賢 舉正直 施恩惠 恤孤煢 宣政事 布政事 行惠愛 雪冤枉 緩刑獄 慶幸 賞賀 宴會 入學 冠帶 行幸 遣使 安撫邊境 選將訓兵 出師 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 進人口 般移 安床 解除 沐浴 剃頭 整手足甲 求醫療病 製裁 營建宮室 修宮室 繕城郭 筑堤防 興造動土 豎柱上梁 經絡 開市 立券 交易 納財 修置產室 開渠穿井 安碓磑 補垣 掃舍宇 修飾垣墻 平治道涂 伐木 捕捉 畋獵 取魚 栽種 牧養 納畜".split(" "),Vt="祭祀 上表章 上官 入學 冠帶 結婚姻 會親友 嫁娶 進人口 出行 移徙 安床 沐浴 剃頭 療病 裁衣 修造動土 豎柱上梁 經絡 開市 立券 交易 納財 修置產室 開渠穿井 安碓磑 掃舍宇 平治道涂 破屋壞垣 伐木 捕捉 畋獵 栽種 牧養 破土 安葬 啟攢".split(" "),Xt="祭祀 祈福 求嗣 上刪進表章 上表章 頒詔 覃恩 肆赦 施恩封拜 詔命公卿 招賢 舉正直 施恩惠 恤孤煢 宣政事 布政事 行惠愛 雪冤枉 緩刑獄 慶幸 賞賀 宴會 入學 冠帶 行幸 遣使 安撫邊境 選將訓兵 出師 上官赴任 臨政親民 結婚姻 納采問名 嫁娶 進人口 般移 遠回 安床 解除 沐浴 整容 剃頭 整手足甲 求醫療病 療目 針刺 製裁 營建宮室 修宮室 繕城郭 筑堤防 興造動土 豎柱上梁 修倉庫 鼓鑄 苫蓋 經絡 醞釀 開市 立券 交易 納財 開倉庫 出貨財 修置產室 開渠穿井 安碓磑 補垣塞穴 掃舍宇 修飾垣墻 平治道涂 伐木 捕捉 畋獵 取魚 乘船渡水 栽種 牧養 納畜 破土 安葬 啟攢",Zt=Xt.split(" ");function Jt(t,e){void 0===e&&(e=!1);for(var n="",r=function(t){var e="a"+(I(t)?("00"+t).slice(-3):t),r=n?" ":"";Rt.hasOwnProperty(e)?n=r+Rt[e]:"number"!=typeof t&&(n=r+t)},a=0,o=t;a<o.length;a++){var l=o[a];if("string"==typeof l&&!I(l)&&l.indexOf("-")){var i=l.split("-");if(2===i.length&&I(i[0])&&I(i[1]))for(var s=Number(i[0]);s<=Number(i[1]);s++)r(s)}else r(l)}return e?n:n.split(" ")}var Qt=Jt(["a003a",4,5,"宣政事","007a","8-11","012a","般移 解除",15,"裁製 營建宮室 繕城郭","017a",24,"栽種"],!1),Kt=Jt(["a003a",4,5,"宣政事","007a","8-11","012b","般移 裁製 營建宮室 繕城郭","017a",18,24,"栽種"],!1),te=("".concat(pt," 施恩封拜 舉正直 ").concat($t," ").concat(St," ")+"".concat(Bt," ").concat(Ot," 般移 解除 ")+"求醫療病 裁製 修宮室 繕城郭 ".concat(Et," 納財 ").concat(Nt," 栽種 牧養")).split(" "),ee="".concat(gt," 上冊進表章 頒詔 ").concat(yt," ")+"".concat(bt," ").concat(_t," ").concat($t," 冠帶 ").concat(St," ")+"".concat(Gt," ").concat(Mt," ").concat(Tt," ")+"".concat(Pt," ")+"".concat(Lt," 裁製 ").concat(Yt," ")+"鼓鑄 ".concat(Ct," ").concat(qt," 修置產室 開渠穿井 ")+"安碓磑 掃舍宇 ".concat(zt," ")+"".concat(Ft," ").concat(Ht),ne=ee.split(" "),re="".concat(ee," 進人口 遠回 平治道涂 伐木 修筑園圃").split(" ").filter(function(t){return"掃舍宇"!=t}),ae=("祈福 求嗣 上冊進表章 施恩封拜 詔命公卿 "+"".concat(bt," 冠帶 ").concat(St," ")+"".concat(Gt," ").concat(kt," ").concat(Tt," ")+"解除 "+"求醫療病 ".concat(Yt," ")+"".concat(qt," 修置產室 ")+"".concat(Ft)).split(" "),oe=Jt(["017b",21,"開渠穿井 安碓磑 補垣塞穴 修飾垣墻 平治道涂 破屋壞垣 栽種 破土"],!1),le="上冊進表章 頒詔 詔命公卿 招賢 宣政事 ".concat(St," ").concat(Gt," 嫁娶 進人口 般移 ").concat(Lt," ").concat(It).split(" "),ie=function(t,e){e=null!=e?e:Xt.split(" ");var n=new Set(t.join(" ").split(" "));return e.filter(function(t){return!n.has(t)})}("祈福 解除 沐浴 ".concat(Dt," 補垣塞穴 掃舍宇 修飾垣墻 平治道涂 破屋壞垣").split(" ")),se=Jt([10],!1),ue=Jt([10,15],!1);function ce(t,e,n){e[0];var r=e[1],a=n.acts,l=n.mdsbActs,i=n.gods,s=n.signGods,u=new Set(l),c=a.good,f=a.bad;if(c.has("宣政事")&&c.has("布政事")&&c.delete("布政事"),c.has("營建宮室")&&c.has("修宮室")&&c.delete("修宮室"),l.length>0)for(var h=0,d=l;h<d.length;h++){var g=d[h];c.delete(g),f.add(g)}o(o(o([],B,!0),O,!0),["月恩","四相","时德"],!1).some(function(t){return i.has(t)})&&["進人口","安床","經絡","醞釀","開市","立券","交易","納財","開倉庫","出貨財"].forEach(function(t){u.has(t)||r>1||!f.has(t)||f.delete(t)});var p=t.lsr.char8.day.branch.value,v=t.lsr.char8.day.stem.value;(i.has("天狗")||2===p)&&(f.add("祭祀"),c.delete("祭祀"),c.delete("祈福"),c.delete("求嗣")),3===p&&(f.add("穿井"),c.delete("穿井"),c.delete("開渠")),8===v&&(f.add("開渠"),c.delete("開渠"),c.delete("穿井")),5===p&&(f.add("出行"),c.delete("出行"),c.delete("出師"),c.delete("遣使")),9===p&&(f.add("宴會"),c.delete("宴會"),c.delete("慶賜"),c.delete("賞賀")),3===v&&(f.add("剃頭"),c.delete("剃頭"),c.delete("整容")),1!==r||f.has("祈福")||u.has("求嗣")||f.delete("求嗣"),["詔命公卿","招賢"].some(function(t){return f.has(t)})&&["施恩封拜","舉正直","襲爵受封"].forEach(function(t){return c.delete(t)}),["施恩封拜","舉正直","襲爵受封"].some(function(t){return f.has(t)})&&["詔命公卿","招賢"].forEach(function(t){return c.delete(t)}),c.has("宣政事")&&i.has("往亡")&&(c.delete("宣政事"),c.add("布政事")),i.has("月厭")&&(["行幸","上官赴任"].forEach(function(t){c.delete(t),f.add(t)}),["頒詔","施恩封拜","詔命公卿","招賢","舉正直"].forEach(function(t){c.delete(t)}),c.has("宣政事")&&(c.delete("宣政事"),c.add("布政事"))),1===r&&(f.has("結婚姻")||["冠帶","納采問名","嫁娶","進人口"].forEach(function(t){u.has(t)||f.delete(t)}),f.has("嫁娶")||["冠帶","結婚姻","納采問名","進人口","般移","安床"].forEach(function(t){u.has(t)||i.has("不將")||f.delete(t)}),(9===v||["厭對","八專","四忌","四窮"].some(function(t){return i.has(t)}))&&f.add("嫁娶"),f.has("般移")||u.has("安床")||f.delete("安床"),f.has("安床")||u.has("般移")||f.delete("般移"),f.has("解除")||Jt([14],!1).forEach(function(t){u.has(t)||f.delete(t)}),f.has("修造動土")||f.has("豎柱上梁")||["修宮室","繕城郭","筑堤防","鼓鑄","苫蓋","修置產室","開渠穿井","安碓磑","補垣塞穴","修鉓垣墻","平治道涂","破屋壞垣"].forEach(function(t){u.has(t)||f.delete(t)}),f.has("開市")&&f.has("納財")&&(f.has("立券")||f.has("交易"))||Jt(["019a"]).forEach(function(t){f.delete(t)}),["開市","立券","交易"].every(function(t){return!f.has(t)})&&["開倉庫","出貨財"].forEach(function(t){f.delete(t)}),f.has("牧養")||f.delete("納畜"),f.has("納畜")||f.delete("牧養"),c.has("安葬")&&f.delete("啟攢"),c.has("啟攢")&&f.delete("安葬")),["土符","土府","地囊"].some(function(t){return c.has(t)})&&f.has("補垣塞穴")&&c.delete("補垣塞穴"),s.has("開日")&&["破土","安葬","啟攢"].forEach(function(t){c.delete(t),i.has("四忌")||f.delete(t)}),(i.has("四忌")||i.has("四窮"))&&(f.add("安葬"),c.delete("安葬"),(i.has("鳴吠")||i.has("鳴吠對"))&&(c.delete("破土"),c.delete("啟攢"))),(i.has("歲薄")||i.has("逐陣"))&&re.forEach(function(t){c.delete(t)}),function(t,e,n){[null,10,null,32,null,0,44,16,27,0,null,0][t.lunar.month]===t.char8.day.value&&(B.some(function(t){return e.has(t)})||O.some(function(t){return e.has}))&&(n.bad=new Set)}(t.lsr,i,a)}var fe={"歲德":[K("06284",z,5,"year"),null,null,8,{showGB:!0}],"歲德合":[K("51739",z,5,"year"),null,null,8,{showGB:!0}],"歲祿":[K([2,3,5,6,5,6,8,9,11,0],z,0,"year",q),null,null,8,{showGB:!0}],"陽貴":[K([7,8,9,11,1,0,1,2,3,5],z,0,"year",q),null,null,8],"陰貴":[K([1,0,11,9,7,8,7,6,5,3],z,0,"year",q),null,null,8],"金神":[Q(function(t,e){return[[6,7,8,9],[4,5],[2,3,6,7,0,1],[2,3,10,11],[8,9,0,1]][z(t,null!=e?e:"year",5)]},q,"includes"),null,Jt(["安撫邊境 出師 上官赴任 嫁娶","013a","16-17"],!1),-8],"破敗五鬼":[Q(function(t,e){return void 0===e&&(e="year"),[6,4,0,1,5,2,3,7,6,4][z(t,e)]},F),null,Jt(["020a"],!1),-8],"陰府太歲":[Q(function(t,e){return void 0===e&&(e="year"),[[2,6],[3,7],[4,0],[7,5],[0,1]][z(t,e,5)]},F,"includes"),null,null,-8],"太歲":[X(0),null,null,-8],"太陽":[X(1),null,null,8],"喪門":[X(2),null,null,-8],"太陰":[X(3),null,Jt(["017b"],!1),-8],"官符":[X(4),null,null,8],"支德":[X(5),Jt(["017b"],!1),null,8],"歲破":[X(6),null,Jt([17,"嫁娶","013a"]),-8,{alias:["大耗"]}],"龍德":[X(7),null,null,8],"白虎":[X(8),null,null,-8],"福德":[X(9),null,null,8],"吊客":[X(10),null,Jt([16,17,"求醫醫療病"]),-8],"病符":[X(11),null,null,-8],"神后":[Z(0),null,null,8],"功曹":[Z(2),null,null,8],"天罡":[Z(4),null,null,-8],"勝光":[Z(6),null,null,8],"傳送":[Z(8),null,null,8],"河魁":[Z(10),null,null,-8],"六害":[Z(7),null,null,-8],"五鬼":[Z(4),null,null,-8],"歲馬":[K([2,11,8,5],q,4,"year"),null,null,8],"歲刑":[K([3,10,5,0,4,8,6,1,2,9,7,11],q,0,"year"),null,null,-8],"歲煞":[K([7,4,1,10],q,4,"year"),null,null,-8],"伏兵":[K([2,0,8,6],q,4,"year",z),null,Jt([10,16,"017a"],!1),-8],"大禍":[K([3,1,9,7],q,4,"year",z),null,Jt([10,16,"017a"],!1),-8],"坐煞":[Q(function(t){return[[2,3],[0,1],[8,9],[6,7]][q(t,"year")%4]},z,"includes"),null,null,-8],"向煞":[Q(function(t){return[[8,9],[6,7],[2,3],[0,1]][q(t,"year")%4]},z,"includes"),null,null,-8],"天官符":[K([11,8,5,2],q,4,"year"),null,null,8],"大煞":[K([0,9,6,3],q,4,"year"),null,Jt([10],!1),-8,{meetDeStillBad:!0,meetWishStillBad:!0}],"黃幡":[K([4,1,10,7],q,4,"year"),null,Jt(["嫁娶","019a"]),-8],"豹尾":[K([10,7,4,1],q,4,"year"),null,Jt(["16-17","嫁娶","納畜"]),8],"灸退":[K([3,0,9,6],q,4,"year"),null,null,-8],"飛廉":[K([8,9,10,5,6,7,2,3,4,11,0,1],q,0,"year"),null,Jt([16,17,"嫁娶 般移 破土"]),-8]},he={"畜官":o([],fe.官符,!0),"死符":[fe.支德[0],null,null,-8],"小耗":[fe.支德[0],null,Jt(["020b"]),-8,{actsFilter:function(t,e){var n=q(t,"month");return B.some(function(t){return e.has(t)})?{replace:{bad:[]}}:[0,3,6,9].includes(n)&&e.has("劫煞")?{meetDeStillBad:!0}:null}}]},de=Object.assign({},fe,he),ge=function(){function t(t,e){this.value=-1,this._config={lang:C.lang},e&&(this._config=Object.assign({},this._config,e)),this.value=t%8}return t.getNames=function(t){return t=t||C.lang,o([],C.locales[t].eightTrigram,!0)},t.create=function(e,n){var r=(null==n?void 0:n.lang)||C.lang;e=W(e,"trigram8",r,C);var a="".concat(e,":").concat(r);if(t.instances.has(a))return t.instances.get(a);var o=new t(e,n);return t.instances.set(a,o),o},Object.defineProperty(t.prototype,"name",{get:function(){return C.locales[this._config.lang].eightTrigram[this.value]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.name},t.prototype.valueOf=function(){return this.value},t.instances=new Map,t}(),pe=function(){function t(e,n){if(this.value=-1,this._config={lang:C.lang},e instanceof t)return e;n&&(this._config=Object.assign({},this._config,n)),this.value=W(e,"element5",this._config.lang,C)}return t.getNames=function(t){return t=t||C.lang,o([],C.locales[t].fiveElements,!0)},t.create=function(e,n){if(e instanceof t)return e;var r=(null==n?void 0:n.lang)||C.lang;e=W(e,"element5",r,C);var a="".concat(e,":").concat(r);if(t.instances.has(a))return t.instances.get(a);var o=new t(e,n);return t.instances.set(a,o),o},Object.defineProperty(t.prototype,"name",{get:function(){return-1===this.value?"":C.locales[this._config.lang].fiveElements[this.value]},enumerable:!1,configurable:!0}),t.prototype.generating=function(){var e=(this.value+1)%5;return t.create(e,this._config)},t.prototype.overcoming=function(){var e=(this.value+2)%5;return t.create(e,this._config)},t.prototype.weakening=function(){var e=(this.value+4)%5;return t.create(e,this._config)},t.prototype.counteracting=function(){var e=(this.value+3)%5;return t.create(e,this._config)},t.prototype.toString=function(){return-1===this.value?"Invalid five-element value":this.name},t.prototype.valueOf=function(){return this.value},t.instances=new Map,t}();function ve(t,e){return void 0===e&&(e=!1),function(n,r,a){var l=void 0===a.value?a.get:a.value;a[void 0===a.value?"get":"value"]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(n.length>0&&e){var a=JSON.stringify(n);t+=a}if(this.cache.has(t))return this.cache.get(t);var i=l.call.apply(l,o([this],n,!1));return this.cache.set(t,i),i}}}var ye=function(){this.cache=new Map},me=function(t){function r(e,n){var a=t.call(this)||this;return a.value=-1,a._config={lang:C.lang},e instanceof r?e:(n&&(a._config=Object.assign({},a._config,n)),a.value=W(e,"branch",a._config.lang,C),a)}return e(r,t),r.getNames=function(t){return t=t||C.lang,o([],C.locales[t].branchs,!0)},r.create=function(t,e){if(t instanceof r)return t;var n=(null==e?void 0:e.lang)||C.lang;t=W(t,"branch",n,C);var a="".concat(t,":").concat(n);if(r.instances.has(a))return r.instances.get(a);var o=new r(t,e);return r.instances.set(a,o),o},Object.defineProperty(r.prototype,"name",{get:function(){return C.locales[this._config.lang].branchs[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hiddenStems",{get:function(){return Y[this.value].map(function(t){return new be(t)})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"e5",{get:function(){var t=Math.floor((this.value+10)/3)%4;return(this.value+10)%3==2?pe.create(2,this._config):pe.create(t<2?t:t+1,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"meeting",{get:function(){var t=this,e=[[2,3,4],[5,6,7],[8,9,10],[11,0,1]].find(function(e){return e.includes(t.value)}),n=null==e?void 0:e.filter(function(e){return e!==t.value});return[r.create(n[0],this._config),r.create(n[1],this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"meetingE5",{get:function(){return pe.create((t=this.value,[0,1,3,4][Math.floor((t-2+12)%12/3)]),this._config);var t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"triad",{get:function(){return[r.create((this.value+4)%12,this._config),r.create((this.value+8)%12,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"triadE5",{get:function(){return pe.create([4,0,1,3][this.value%4],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"group6",{get:function(){return r.create((13-this.value)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"group6E5",{get:function(){return pe.create((e=[2,0,1,3,4,2],(t=0===(t=this.value)?12:t)<7?e[t-1]:e[12-t]),this._config);var t,e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"punishing",{get:function(){return r.create([3,10,5,0,4,8,6,1,2,9,7,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"punishBy",{get:function(){return r.create([3,7,8,0,4,2,6,10,5,9,1,11][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"conflict",{get:function(){return r.create((this.value+6)%12,this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"destroying",{get:function(){return r.create([9,4,11,6,1,8,3,10,5,0,7,2][this.value],this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"harming",{get:function(){var t=this.value>7?19-this.value:7-this.value;return r.create(t,this._config)},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return this.name},r.prototype.valueOf=function(){return this.value},r.instances=new Map,n([ve("branch:hiddenStems")],r.prototype,"hiddenStems",null),n([ve("branch:e5")],r.prototype,"e5",null),n([ve("branch:meeting")],r.prototype,"meeting",null),n([ve("branch:punishing")],r.prototype,"punishing",null),n([ve("branch:punishBy")],r.prototype,"punishBy",null),n([ve("branch:conflict")],r.prototype,"conflict",null),n([ve("branch:destroying")],r.prototype,"destroying",null),n([ve("branch:harming")],r.prototype,"harming",null),r}(ye),be=function(t){function r(e,n){var a=t.call(this)||this;return a.value=-1,a._config={lang:C.lang},e instanceof r?e:(n&&(a._config=Object.assign({},a._config,n)),a.value=W(e,"stem",a._config.lang,C),a)}return e(r,t),r.getNames=function(t){return t=t||C.lang,o([],C.locales[t].stems,!0)},r.create=function(t,e){if(t instanceof r)return t;var n=(null==e?void 0:e.lang)||C.lang;t=W(t,"stem",n,C);var a="".concat(t,":").concat(n);if(r.instances.has(a))return r.instances.get(a);var o=new r(t,e);return r.instances.set(a,o),o},Object.defineProperty(r.prototype,"name",{get:function(){return C.locales[this._config.lang].stems[this.value]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"branchs",{get:function(){var t=this;return C.locales[this._config.lang].branchs.filter(function(e,n){return n%2==t.value%2}).map(function(e){return me.create(e,t._config)})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"e5",{get:function(){return pe.create(Math.floor(this.value/2),this._config)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trigram8",{get:function(){return ge.create([7,0,4,3,2,5,1,5,7,0][this.value],this._config)},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return this.name},r.prototype.valueOf=function(){return this.value},r.instances=new Map,n([ve("stem:branchs")],r.prototype,"branchs",null),n([ve("stem:e5")],r.prototype,"e5",null),r}(ye);!function(){function t(t,e,n){if(this.value=-1,this._config={lang:C.lang},n&&(this._config=Object.assign({},this._config,n)),"number"==typeof e||"string"==typeof e||e instanceof me){this.stem=be.create(t,this._config),this.branch=me.create(e,this._config);var r=this.stem.valueOf(),a=this.branch.valueOf();this.value=H(r,a)}else{if("number"!=typeof t)throw new Error("Invalid SB value");this.value=t%60,r=this.value%10,a=this.value%12,this.stem=be.create(r,this._config),this.branch=me.create(a,this._config)}}t.getNames=function(t){t=t||C.lang;var e=C.locales[t];return new Array(60).fill("").map(function(t,n){var r,a=n%10,o=n%12;return e.stems[a]+(null!==(r=null==e?void 0:e.stemBranchSeparator)&&void 0!==r?r:"")+e.branchs[o]})},t.create=function(e,n){if(e instanceof t)return e;var r=(null==n?void 0:n.lang)||C.lang,a="".concat(e,":").concat(r);if(t.instances.has(a))return t.instances.get(a);var o=new t(e,void 0,n);return t.instances.set(a,o),o},Object.defineProperty(t.prototype,"missing",{get:function(){var t=2*(5-Math.floor(this.value/10));return[me.create(t,this._config),me.create(t+1,this._config)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t,e=C.locales[this._config.lang];return"".concat(this.stem).concat(null!==(t=null==e?void 0:e.stemBranchSeparator)&&void 0!==t?t:"").concat(this.branch)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.name},t.prototype.valueOf=function(){return this.value},t.instances=new Map}();var we=new Map,_e=function(t,e){void 0===e&&(e="zh");for(var n=function(t){return[0,22,20,18,16,14,12,10,8,6,4,2][t]}(t),r=(n+12)%24,a=function(t){void 0===t&&(t="zh");var e="direction24List:".concat(t);if(we.has(e))return we.get(e);var n={lang:t},r=[me.create(0,n),be.create(9,n),me.create(1,n),ge.create(4,n),me.create(2,n),be.create(0,n),me.create(3,n),be.create(1,n),me.create(4,n),ge.create(6,n),me.create(5,n),be.create(2,n),me.create(6,n),be.create(3,n),me.create(7,n),ge.create(0,n),me.create(8,n),be.create(6,n),me.create(9,n),be.create(7,n),me.create(10,n),ge.create(7,n),me.create(11,n),be.create(8,n)];return we.set(e,r),r}(e),o={stem:[],branch:[]},l={stem:[],branch:[]},i=0;i<24;i++)if(i!==n&&i!==r){var s=a[i];n>r&&i<n&&i>r||n<r&&(0<=i&&i<n||r<i&&i<=23)?(s instanceof be&&l.stem.push(s),s instanceof me&&l.branch.push(s)):(s instanceof be&&o.stem.push(s),s instanceof me&&o.branch.push(s))}return[l,o]},xe={"天德":[function(t,e,n){void 0===e&&(e="month");var r=q(t,e),a=[5,6,3,8,8,7,11,0,9,2,2,1][r],o=!(r%3);return n?o?a===z(t,n):a===q(t,n):[a,o]},Qt,["畋獵","取魚"],4],"天德合":[function(t,e,n){void 0===e&&(e="month");var r=[null,1,8,null,3,2,null,5,4,null,7,6][q(t,e)];return n?null!==r&&r===z(t,n):r},Qt,["畋獵","取魚"],4,{showGB:!0}],"月德":[function(t,e,n){var r=[8,6,2,0][q(t,"month")%4];return n?r===z(t,n):r},Qt,["畋獵","取魚"],4,{showGB:!0}],"月德合":[function(t,e,n){var r=[3,1,7,5][q(t,"month")];return n?r===z(t,n):r},Qt,["畋獵","取魚"],4,{showGB:!0}],"月空":[K([2,0,8,6],q,4,"month",z),["上表章"],null,4,{showGB:!0}],"三合":[function(t,e,n){void 0===e&&(e="month");var r=t.char8[e].branch.triad;return n?r.map(function(t){return t.value}).includes(q(t,n)):r},Jt([8,"012b","裁製 修宮室 繕城郭",17,"修倉庫",18,"019a","安碓磑 納畜"],!1),null,4,{showGB:!0}],"五富":[K([5,8,11,2],q,4,"month",q),Jt([18,"020a","牧養 納畜"],!1),null,4,{showGB:!0}],"臨日":[K([4,9,6,11,8,1,10,3,0,5,2,7],q,0,"month"),Jt(["上冊進表章",11,"陳詞訟"],!1),null,4,{showGB:!0}],"驛馬":[K([2,11,8,5],q,4,"month"),Jt([9,"求醫療病"],!1),null,4,{showGB:!0}],"天火":[K([6,3,0,9],q,4,"month"),null,null,-4,{showGB:!0}],"月煞":[K([7,4,1,10],q,4,"month"),null,"".concat(ee," 修倉庫 開倉庫 出貨財").split(" "),-4,{actsFilter:function(t,e){var n=q(t,"month");return[2,8,5,11].includes(n)&&e.has("六合")&&["月德","天願"].some(function(t){return e.has(t)})?{replace:{bad:ue}}:null}}],"大時":[K([9,6,3,0],q,4,"month"),null,o([],ae,!0),-4,{actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return[2,8,5,11].includes(n)&&("除"===r||e.has("官日"))||[4,10].includes(n)&&("執"===r||e.has("六合"))||[1,7].includes(n)&&("執"===r||e.has("六害"))&&["月德","天德"].some(function(t){return e.has(t)})?{replace:{bad:se}}:null}}],"遊禍":[K([11,8,5,2],q,4,"month"),null,["祈福","求嗣","解除","求醫療病"],-4,{meetDeStillBad:!0,meetWishStillBad:!0}],"天吏":[K([3,0,9,6],q,4,"month"),null,ae,-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return[2,8,5,11].includes(n)&&"危"===r&&B.some(function(t){return e.has(t)})?{replace:{bad:ue}}:null}}],"九空":[K([10,7,4,1],q,4,"month"),null,Jt(["進人口","020b"],!1),-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return([2,8].includes(n)&&"滿"===r||[0,3,6,9].includes(n)&&"開"===r)&&["月德","天德合","月德合"].some(function(t){return e.has(t)})?{replace:{bad:[]}}:null}}],"月刑":[K([3,10,5,0,4,8,6,1,2,9,7,11],q,0,"month"),null,"".concat(ee," 進人口").split(" "),-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return 5===n&&("平"===r||["相日","六合"].some(function(t){return e.has(t)}))&&["月德","天德合","天願"].some(function(t){return e.has(t)})?{replace:{bad:ue}}:null}}],"月建":[Q(function(t,e){return void 0===e&&(e="month"),q(t,e)},q),null,Jt([1,"上冊進表章","012a","般移","014a","求醫療病","017b","20-23","安碓磑 補垣 平治道涂 伐木 栽種","025a"],!1),-4,{showGB:!0,actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||["天赦","月恩","四相"].some(function(t){return e.has(t)})?{replace:{bad:Jt([16,"興造動土 修倉庫 修置產室 開渠穿井 安碓磑 補垣 平治道涂",23,"伐木 栽種 破土"],!1)}}:2===q(t,"month")&&2===q(t,"day")?{add:{bad:["出師"]}}:null}}],"兵福":[Q(function(t,e){return void 0===e&&(e="month"),q(t,e)%12},q),Jt([10]),null,4,{showGB:!0}],"小時":[Q(function(t,e){return void 0===e&&(e="month"),q(t,e)%12},q),null,null,4,{showGB:!0}],"土府":[Q(function(t,e){return void 0===e&&(e="month"),q(t,e)%12},q),null,null,4,{showGB:!0}],"兵寶":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+1)%12},q),Jt([10]),null,4,{showGB:!0}],"吉期":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+1)%12},q),Jt(["施恩封拜 舉正直",9,11]),null,4,{showGB:!0}],"天巫":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+2)%12},q),["祭祀","祈福"],null,4,{showGB:!0}],"福德":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+2)%12},q),Jt(["上冊進表章",8,"修宮室 繕城郭"]),null,4,{showGB:!0}],"天罡":[Q(function(t,e){return void 0===e&&(e="month"),[3,10,5,0,7,2,9,4,11,6,1,8][q(t,e)]},q),null,null,-4,{showGB:!0}],"河魁":[Q(function(t,e){return void 0===e&&(e="month"),[9,4,11,6,1,8,3,10,5,0,7,2][q(t,e)]},q),null,null,-4,{showGB:!0}],"死神":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+3)%12},q),null,Jt([10,"進人口 解除 求醫療病 修置產室",24]),-4,{showGB:!0}],"死氣":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+4)%12},q),null,Jt([10,"解除 求醫療病 修置產室 栽種"],!1),-4,{showGB:!0,actsFilter:function(t,e){if(B.some(function(t){return e.has(t)}))return{replace:{bad:ue}};var n=q(t,"month");return[4,10].includes(n)&&e.has("月厭")?{meetDeStillBad:!0}:null}}],"時陰":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+4)%12},q),["運謀算","畫計策"],null,4,{showGB:!0}],"小耗":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+5)%12},q),null,Jt(["020b"],!1),-4,{showGB:!0,actsFilter:function(t,e){if(B.some(function(t){return e.has(t)})||e.has("天願"))return{replace:{bad:[]}};var n=q(t,"month");return[0,3,6,9].includes(n)&&e.has("劫煞")?{meetDeStillBad:!0}:null}}],"月破":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+6)%12},q),null,Jt([1,"上冊進表章 頒詔","3-4",6,"8-11","012b","13-14","裁製","營建宮室 繕城郭","017a","鼓鑄",18,"020a","修置產室",22,"安碓磑 補垣塞穴 修飾垣墻 伐木",24,"025a"],!1),-4,{showGB:!0,meetDeStillBad:!0,alias:["大耗"]}],"大耗":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+6)%12},q),null,Jt(["020b"]),-4,{showGB:!0,meetDeStillBad:!0}],"天喜":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+8)%12},q),Jt(["施恩封拜 舉正直",8,9,11,"012a"]),null,4,{showGB:!0}],"天醫":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+8)%12},q),["求醫療病"],null,4,{showGB:!0}],"時陽":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+10)%12},q),null,null,4,{showGB:!0}],"生氣":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+10)%12},q),null,null,4,{showGB:!0}],"血支":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+11)%12},q),null,["針刺"],-4,{showGB:!0}],"五墓":[K([28,4,31,31,4,22,22,4,37,37,4,28],q,0,"month",function(t,e){return void 0===e&&(e="day"),N(t,e,0).value}),null,Jt(["冠帶",9,"011a","012b",13,"解除 求醫療病","16-17",19,21,24,"25a"]),-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month");return[6,0].includes(n)&&e.has("月德")?{replace:{bad:[]}}:null}}],"九坎":[K([8,5,4,1,10,7,3,0,9,6,2,11],q,0,"month"),null,Jt(["補垣塞穴",26],!1),-4,{showGB:!0,meetDeStillBad:!0}],"土符":[K([8,0,1,5,9,2,6,10,3,7,11,4],q,0,"month"),null,oe,-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"地囊":[Q(function(t,e){return void 0===e&&(e="month"),[[27,57],[51,9],[35,6],[31,49],[0,18],[15,45],[40,58],[52,22],[53,23],[2,31],[37,7],[14,44]][q(t,e)]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),null,oe,-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"陽德":[K([6,8,10,0,2,4],q,6,"month"),Jt([5,"007a"],!1),null,4,{showGB:!0}],"陰德":[K([1,11,9,7,5,3],q,6,"month"),Jt([5,"007a"],!1),null,4,{showGB:!0}],"天馬":[K([2,4,6,8,10,0],q,6,"month"),Jt([9,"般移"],!1),null,4,{showGB:!0}],"兵禁":[K([6,4,2,0,10,8],q,6,"month"),null,Jt([10],!1),-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"大煞":[K([8,9,10,5,6,7,2,3,4,11,0,1],q,0,"month"),null,Jt([10],!1),-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"往亡":[K([10,1,2,5,8,11,3,6,9,0,4,7],q,0,"month"),null,le,-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"歸忌":[K([2,0,1],q,3),null,Jt(["013a"],!1),-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"要安":[K([7,1,2,8,3,9,4,10,5,11,6,0],q,0,"month"),["安神"],null,4,{showGB:!0}],"玉宇":[K([8,2,3,9,4,10,5,11,6,0,7,1],q,0,"month"),["修祠宇"],null,4,{showGB:!0}],"金堂":[K([9,3,4,10,5,11,6,0,7,1,8,2],q,0,"month"),["修祠宇"],null,4,{showGB:!0}],"敬安":[K([0,6,7,1,8,2,9,3,10,4,11,5],q,0,"month"),["安神"],null,4,{showGB:!0}],"普護":[K([1,7,8,2,9,3,10,4,11,5,0,6],q,0,"month"),["祭祀","祈福"],null,4,{showGB:!0}],"福生":[K([2,8,9,3,10,4,11,5,0,6,1,7],q,0,"month"),["祭祀","祈福"],null,4,{showGB:!0}],"聖心":[K([4,10,11,5,0,6,1,7,2,8,9,3],q,0,"month"),["祭祀","祈福"],null,4,{showGB:!0}],"益後":[K([5,11,0,6,1,7,2,8,9,3,4,10],q,0,"month"),Jt(["001a"]),null,4,{showGB:!0}],"續世":[K([0,6,1,7,2,8,9,3,4,10,5,11],q,0,"month"),Jt(["001a"]),null,4,{showGB:!0}],"月厭":[J(-1),null,re,-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return([2,8].includes(n)&&"成"===r||[1,7].includes(n)&&"開"===r)&&["月德","天德合","月德合"].some(function(t){return e.has(t)})?{replace:{bad:Jt(["9-10","012a",15,"013a","栽種"])}}:null}}],"六合":[J(0),Jt(["宴會 結婚姻 嫁娶 進人口",18,"立券 交易 納財 納畜 安葬"],!1),null,4,{showGB:!0,actsFilter:function(t,e){return["月恩","四相","時德"].some(function(t){return e.has(t)})?{add:{good:["修倉庫"]}}:null}}],"天賊":[J(2),null,Jt([9,"修倉庫","納財","出貨財"],!1),-4,{showGB:!0,meetDeStillBad:!0}],"天倉":[J(3),["進人口","納財","納畜"],null,4,{showGB:!0}],"六儀":[J(4),["臨政親民"],null,4],"月害":[J(5),null,Jt([1,"上冊進表章 頒詔",8,10,"012b",18,"020a","修置產室 牧養","025a"],!1),-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return([3,9].includes(n)&&("除"===r||e.has("守日"))||[1,7].includes(n)&&("執"===r||e.has("大時")))&&["月德","天德合","天願"].some(function(t){return e.has(t)})?{replace:{bad:ue}}:null}}],"天願":[Q(function(t){return[49,0,11,10,21,32,43,54,5,16,27,38][t.getMonthBuilder(0)[0].branch.value]},function(t,e){return void 0===e&&(e="day"),t.char8[e].value}),Kt,null,4,{showGB:!0}],"兵吉":[Q(function(t){for(var e=t.getMonthBuilder(0)[0].branch.value,n=[],r=2;r<6;r++)n.push((r+e)%12);return n},q,"includes"),Jt([10],!1),null,4,{showGB:!0}],"解神":[Q(function(t,e){return void 0===e&&(e="month"),[6,6,8,8,10,10,0,0,2,2,4,4][q(t,e)]},q),Jt(["上表章 陳詞訟 沐浴","014a",15],!1),null,4,{showGB:!0}],"月恩":[K([0,7,2,3,6,5,4,7,8,9,6,1],q,0,"month",z),te,null,4,{showGB:!0}],"復日":[K([9,5,0,1,4,2,3,5,6,7,4,8],q,0,"month",z),["裁製"],Jt(["025a"],!1),-4,{showGB:!0,actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||["天赦","六合"].some(function(t){return e.has(t)})?{replace:{bad:[]},gRemove:{good:Jt(["025a"],!1)}}:null}}],"不將":[Q(function(t){var e=_e(t.getMonthBuilder(0)[0].branch.value),n=e[0],r=e[1],a=[],o=t.getSeasonIndex(),l=n.stem.map(function(t){return t.value});0!==o&&3!==o||l.push(5),1!==o&&2!==o||l.push(4);for(var i=0,s=l;i<s.length;i++)for(var u=s[i],c=0,f=r.branch;c<f.length;c++){var h=f[c];(u+h.value)%2==0&&a.push(H(u,h.value))}return a},function(t){return t.char8.day.value},"includes"),["嫁娶"],null,4,{showGB:!0}],"大會":[K([48,59,10,21,null,null,42,null,53,16,27,null],q,0,"month",function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"小會":[K([35,24,null,15,4,5,54,null,null,null,45,34],q,0,"month",function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"行狠":[K([37,null,null,null,20,31,null,null,null,null,null,26],q,0,"month",function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"了戾":[K([49,null,null,null,32,43,null,null,null,null,null,38],q,0,"month",function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"孤辰":[Q(function(t,e){return void 0===e&&(e="month"),[[1,13,25],null,null,null,[32,56,44],[55,7,19],null,null,null,null,null,[50,2,14]][q(t,e)]},function(t){return t.char8.day.value},"includes"),null,null,-4,{showGB:!0}],"單陰":[Q(function(t,e){return void 0===e&&(e="month"),4===q(t,e)?4:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"純陽":[Q(function(t,e){return void 0===e&&(e="month"),5===q(t,e)?5:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"孤陽":[Q(function(t,e){return void 0===e&&(e="month"),11===q(t,e)?34:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"純陰":[Q(function(t,e){return void 0===e&&(e="month"),11===q(t,e)?35:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"歲薄":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 5===n?[42,54]:11===n?[48,24]:null},function(t){return t.char8.day.value},"includes"),null,null,-4,{showGB:!0}],"逐陣":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 1===n?[48,24]:7===n?[42,54]:null},function(t){return t.char8.day.value},"includes"),null,null,-4,{showGB:!0}],"陰陽交破":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 5===n?59:11===n?53:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"陰陽擊沖":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 0===n?42:6===n?48:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"陽破陰沖":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 1===n?43:7===n?49:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"陰位":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 4===n?16:10===n?10:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"陰道沖陽":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 3===n?45:9===n?15:null},function(t){return t.char8.day.value}),null,null,4,{showGB:!0}],"三陰":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 2===n?57:8===n?51:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"陽錯":[Q(function(t,e){return void 0===e&&(e="month"),[null,[49],[50],[51],[40],[53,5],null,[43,55],[56],[57],[46],[59]][q(t,e)]},function(t){return t.char8.day.value},"includes"),null,null,-4,{showGB:!0}],"陰錯":[Q(function(t,e){return void 0===e&&(e="month"),[null,[59],[46],[57],[56],[43,31],null,[53,3],[40],[51],[50],[49]][q(t,e)]},function(t){return t.char8.day.value},"includes"),null,null,-4,{showGB:!0}],"陰陽俱錯":[Q(function(t,e){void 0===e&&(e="month");var n=q(t,e);return 1===n?48:6===n?42:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"絕陰":[Q(function(t,e){return void 0===e&&(e="month"),5===q(t,e)?4:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"絕陽":[Q(function(t,e){return void 0===e&&(e="month"),0===q(t,e)?34:null},function(t){return t.char8.day.value}),null,null,-4,{showGB:!0}],"天狗":[Q(function(t,e){return void 0===e&&(e="month"),(q(t,e)+2)%12==10?10:null},function(t){return t.char8.day.value}),null,["祭祀"],-4,{showGB:!0}]},$e={"天后":o([],xe.驛馬,!0),"大敗":[xe.大時[0],null,null,-4],"咸池":[xe.大時[0],null,["取魚","乘船渡水"],-4,xe.大時[4]],"致死":[xe.天吏[0],null,null,-4],"九焦":[xe.九坎[0],null,Jt(["鼓鑄 栽種 修筑園圃"],!1),-4],"血忌":[xe.續世[0],null,["針刺"],-4,{meetDeStillBad:!0,meetWishStillBad:!0}],"厭對":[xe.六儀[0],null,["嫁娶"],-4,{actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||e.has("天赦")?{replace:{bad:[]}}:null}}],"招搖":[xe.六儀[0],null,["嫁娶"],-4],"地火":o([],xe.月厭,!0)},Ae=Object.assign({},xe,$e),Se={"天赦":[Q(function(t){return[14,30,44,0][t.getSeasonIndex()]},function(t,e){return t.char8[e].value}),Qt,["畋獵","取魚"],4,{showGB:!0}],"母倉":[Q(function(t){return[[11,0],[2,3],[4,7,10,1],[8,9]][t.getSeasonIndex()]},q,"includes"),Jt(["納財",24]),null,4,{showGB:!0}],"四相":[Q(function(t){return[[2,3],[4,5],[8,9],[0,1]][t.getSeasonIndex()]},z,"includes"),te,null,4,{showGB:!0}],"時德":[Q(function(t){return[6,4,0,2][t.getSeasonIndex()]},q),te,null,4,{showGB:!0}],"王日":[Q(function(t){return[2,5,8,11][t.getSeasonIndex()]},q),Jt(["頒詔",2,3,"008a",9,"011a","裁製"],!1),null,4,{showGB:!0}],"官日":[Q(function(t){return[3,6,9,0][t.getSeasonIndex()]},q),Jt(["011b"],!1),null,4,{showGB:!0}],"守日":[Q(function(t){return[4,7,10,1][t.getSeasonIndex()]},q),Jt(["011b","安撫邊境"],!1),null,4,{showGB:!0}],"相日":[Q(function(t){return[5,8,11,2][t.getSeasonIndex()]},q),Jt(["011b"],!1),null,4,{showGB:!0}],"民日":[Q(function(t){return[6,9,0,3][t.getSeasonIndex()]},q),Jt(["宴會",12,"進人口","019a",24],!1),null,4,{showGB:!0}],"四擊":[Q(function(t){return[10,1,4,7][t.getSeasonIndex()]},q),null,Jt([10],!1),-4,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"四忌":[Q(function(t){return[0,12,36,48][t.getSeasonIndex()]},function(t,e){return t.char8[e].value}),null,Jt([10,"012a","安葬"],!1),-4,{showGB:!0,actsFilter:function(t,e){return 2===q(t,"month")&&11===t.char8.day.value&&e.has("天願")?{replace:{bad:se}}:{meetDeStillBad:!0}}}],"四窮":[Q(function(t){return[11,23,47,59][t.getSeasonIndex()]},function(t,e){return t.char8[e].value}),null,Jt([10,"012b","020b","安葬"],!1),-4,{showGB:!0,actsFilter:function(t,e){return 2===q(t,"month")&&11===t.char8.day.value&&e.has("天願")?{replace:{bad:se}}:{meetDeStillBad:!0}}}],"四耗":[Q(function(t){return[48,51,54,57][t.getSeasonIndex()]},function(t,e){return t.char8[e].value}),null,Jt([10,"020b"],!1),-4,{showGB:!0,actsFilter:function(t,e){var n=q(t,"month");return 4===n&&["天德","月德"].some(function(t){return e.has(t)})||5===n&&e.has("月德合")||[1,4,7,10].includes(n)&&e.has("三合")?{replace:{bad:se}}:null}}],"四廢":[Q(function(t){return[[56,57],[48,59],[50,51],[53,42]][t.getSeasonIndex()]},function(t,e){return t.char8[e].value},"includes"),null,Jt([1,"上冊進表章 頒詔",3,4,6,8,"冠帶","9-11","012b",13,"解除 求醫療病 裁製","017b","鼓鑄",18,"020a",21,"開渠穿井 安碓磑 補垣塞穴 修飾垣墻",24,"025a"],!1),-4,{showGB:!0,actsFilter:function(t,e){return e.has("月破")?{isAllBad:!0,meetDeStillBad:!0}:{meetDeStillBad:!0}}}],"五虛":[Q(function(t){return[[5,9,1],[8,0,4],[11,3,7],[2,6,10]][t.getSeasonIndex()]},q,"includes"),null,Jt(["修倉庫",20],!1),-4,{showGB:!0,actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||e.has("六合")?{replace:{bad:[]}}:null}}],"八風":[Q(function(t){return[[13,53],[40,20],[43,23],[10,50]][t.getSeasonIndex()]},function(t,e){return t.char8[e].value},"includes"),null,Jt([26],!1),-4,{showGB:!0,actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||e.has("六合")?{replace:{bad:[]}}:null}}]},je={"天恩":[Q(function(t){return[0,1,2,3,4,15,16,17,18,19,45,46,47,48,49,50,51,52,53,54]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),"覃恩 肆赦 施恩惠 恤孤煢 布政事 行惠愛 雪冤枉 緩刑獄 慶賜 賞賀 宴會 行幸".split(" "),null,2,{showGB:!0}],"五合":[Q(function(t){return[2,3]},function(t,e){return void 0===e&&(e="day"),q(t,e)},"includes"),["宴會","結婚姻","立券","交易"],null,2,{showGB:!0}],"除神":[Q(function(t){return[8,9]},function(t,e){return void 0===e&&(e="day"),q(t,e)},"includes"),["解除","沐浴","整容","剃頭","整手足甲","求醫療病","掃舍宇"],null,2,{showGB:!0}],"五離":[Q(function(t){return[8,9]},function(t,e){return void 0===e&&(e="day"),q(t,e)},"includes"),null,Jt([8,12,"立券 交易"],!1),-2,{showGB:!0,actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||["天赦","六合","三合"].some(function(t){return e.has(t)})?{replace:{bad:[]}}:null}}],"鳴吠":[Q(function(t){return[30,42,6,18,20,32,56,8,21,33,45,57,9]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),["破土","安葬"],null,2,{showGB:!0}],"鳴吠對":[Q(function(t){return[12,36,48,50,2,26,38,51,4,27,39]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),["破土","啟攢"],null,2,{showGB:!0}],"寶日":[Q(function(t){return[13,22,30,36,38,39,41,43,44,45,47,52]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),["安撫邊境","選將訓兵","出師"],null,2,{showGB:!0}],"義日":[Q(function(t){return[0,3,4,5,7,8,9,11,16,37,46,54]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),["安撫邊境","選將訓兵","出師"],null,2,{showGB:!0}],"製日":[Q(function(t){return[1,10,18,24,26,27,29,31,32,33,35,40]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),["安撫邊境","選將訓兵","出師"],null,2,{showGB:!0}],"專日":[Q(function(t){return[4,5,34,42,48,50,51,53,55,56,57,59]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),null,Jt([10],!1),-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"伐日":[Q(function(t){return[6,12,14,15,17,19,20,21,23,28,49,58]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),null,Jt([10],!1),-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"八專":[Q(function(t){return[50,43,55,56,49]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),null,Jt([10,"012a"],!1),-2,{showGB:!0,meetDeStillBad:!0,actsFilter:function(t,e){return e.has("天願")?{replace:{bad:se}}:null}}],"觸水龍":[Q(function(t){return[12,19,49]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),null,Jt([26],!1),-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"無祿":[Q(function(t){return[40,41,32,23,34,25,16,17,8,59]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value},"includes"),null,null,-2,{showGB:!0,actsFilter:function(t,e){var n=Jt(["祭祀 解除 沐浴",14,"掃舍宇 修飾垣墻 平治道涂 破屋壞垣 伐木"],!1),r=q(t,"year"),a=q(t,"month"),o=q(t,"day"),l=z(t,"day"),i="".concat(l,"-").concat(o);if("9-11"===i)return{gOnlySign:n};if(["天德","月德"].some(function(t){return e.has(t)}))return null;for(var s=0,u=[[2,["0-4"]],[3,["1-5"]],[5,["2-8","4-10"]],[6,["3-11","5-1"]],[8,["6-4"]],[9,["7-5"]],[11,["8-8"]]];s<u.length;s++)if((r===(g=u[s])[0]||a===g[0])&&g[1].includes(i))return null;for(var c=0,f=[[[0,5],[11,3,7],"5-1"],[[1,6],[5,9,2],"1-5"],[[2,7],[2,6,10],"7-5"],[[3,8],[8,0,4],"3-11"]];c<f.length;c++)if((g=f[c])[0].includes(r)&&g[1].includes(a)&&i===g[2])return null;for(var h=0,d=[[[1,6],11,"6-4"],[[2,7],5,"2-8"],[[3,8],2,"8-8"],[[4,9],8,"4-10"]];h<d.length;h++){var g;if((g=d[h])[0].includes(r)&&g[1]===a&&i===g[2])return null}return{gOnlySign:n}}}],"重日":[Q(function(t){return 35},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value}),null,Jt(["025a"],!1),-2,{showGB:!0,actsFilter:function(t,e){return B.some(function(t){return e.has(t)})||["天赦","六合"].some(function(t){return e.has(t)})?{replace:{bad:[]},gRemove:{good:Jt(["025a"],!1)}}:null}}],"上朔":[Q(function(t){return[59,5,11,17,23,29,35,41,47,53][z(t,"year")]},function(t,e){return void 0===e&&(e="day"),N(t,e,0).value}),null,ie,-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"長星":[function(t,e,n){var r=[[7],[4],[1],[9],[15],[10],[8],[2,5],[3,4],[1],[12],[9]][t.lunar.month-1];return n?1===r.length?r[0]===t.lunar.day:r.includes(t.lunar.day):r},null,Jt(["進人口 裁製 經絡","019a","納畜"],!1),-2,{showGB:!0}],"短星":[function(t,e,n){var r=[[21],[19],[16],[25],[25],[20],[22],[18,19],[16,17],[15],[22],[25]][t.lunar.month-1];return n?1===r.length?r[0]===t.lunar.day:r.includes(t.lunar.day):r},null,Jt(["進人口 裁製 經絡","019a","納畜"],!1),-2,{showGB:!0}],"反支":[function(t,e,n){var r=t.lunar.day,a=[6,6,5,5,4,4,3,3,2,2,1,1][t.add(1-r,"day").char8.day.branch.value];return n?a===r:a},null,Jt(["上冊進表章","陳詞訟"],!1),-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"四離":[function(t,e,n){var r=t.add(1,"day");return!!r.solarTerm&&[23,11,5,17].includes(r.solarTerm.value)},null,ie,-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"四絕":[function(t,e,n){var r=t.add(1,"day");return!!r.solarTerm&&[2,8,14,20].includes(r.solarTerm.value)},null,ie,-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}],"氣往亡":[function(t,e,n){var r=q(t,"month"),a=[20,30,7,14,21,8,16,24,9,18,27,10][r];if(!n)return a;var o=t.add(1-a,"day");return!!o.solarTerm&&(13+(o.solarTerm.value>>1))%12===r},null,le,-2,{showGB:!0,meetDeStillBad:!0,meetWishStillBad:!0}]};function Be(t,e,n,r){var a=t.data.extra,o={good:new Set(t.data.good),bad:new Set(t.data.bad)},l=a&&a.actsFilter?a.actsFilter(e.lsr,n):null;if(a){var i=function(t){(null==l?void 0:l.replace)&&(null==l?void 0:l.replace[t])?o[t]=new Set(l.replace[t]):((null==l?void 0:l.add)&&(null==l?void 0:l.add[t])&&l.add[t].forEach(function(e){o[t].add(e)}),(null==l?void 0:l.remove)&&(null==l?void 0:l.remove[t])&&l.remove[t].forEach(function(e){o[t].delete(e)})),(null==l?void 0:l.gRemove)&&(l.gRemove[t]||[]).forEach(function(e){r.gRemove[t].push(e)})};i("good"),i("bad"),(null==l?void 0:l.gOnlySign)&&(l.gOnlySign||[]).forEach(function(t){r.gOnlySign.push(t)})}for(var s=Array.from(o.bad.keys()),u=Array.from(o.good.keys()),c=0,f=s;c<f.length;c++){var h=f[c];((null==l?void 0:l.meetDeStillBad)||(null==a?void 0:a.meetDeStillBad))&&r.mdsbActs.push(h),((null==l?void 0:l.meetWishStillBad)||(null==a?void 0:a.meetWishStillBad))&&r.mwsbActs.push(h),h&&r.acts.bad.add(h)}for(var d=0,g=u;d<g.length;d++)(h=g[d])&&r.acts.good.add(h);return o}var Ge=function(t){var e=t.getDuty12God().key+"日",n=t.getLife12God("month").key,r=function(){for(var t=new Set,e=0,n=k;e<n.length;e++){var r=n[e];t.add(r)}for(var a=0,o=M;a<o.length;a++)r=o[a],t.add(r);return t}(),a=new Set,o=new Set,l={gods:o,signGods:a,acts:{good:new Set,bad:new Set},mdsbActs:[],mwsbActs:[],gRemove:{good:[],bad:[]},gOnlySign:[]};r.has(e)&&a.add(e),r.has("月令".concat(n))&&a.add("月令".concat(n));for(var i=t.getGods("MD"),s=0,u=i;s<u.length;s++){var c=u[s];r.has(c.key)&&a.add(c.key),G.has(c.key)&&a.add("德"),o.add(c.key)}for(var f=0,h=i;f<h.length;f++)Be(c=h[f],t,o,l);return Be(t.getDuty12God(),t,o,l),l},Oe=function(t){var e=Ge(t);tt(e.acts.good,e.gRemove.good),tt(e.acts.bad,e.gRemove.bad),e.gOnlySign&&e.gOnlySign.length>0&&function(t,e){for(var n=new Set,r=new Set,a=0,o=e;a<o.length;a++){var l=o[a];t.good.has(l)&&n.add(l),t.bad.has(l)&&r.add(l)}t.good=n,t.bad=r}(e.acts,e.gOnlySign);var n=function(t,e){for(var n=q(t.lsr,"month"),r=null,a=0,o=k;a<o.length;a++){var l=o[a];e.has(l)&&(r=T[l])}if(!r)return[-1,-1];var i=-1;t:for(var s=0,u=r;s<u.length;s++){var c=u[s],f=c[0],h=c[1],d=c[2];if(h.includes(n))for(var g=0,p=d;g<p.length;g++){var v=p[g];if(e.has(v)){i=f;break t}}}var y=1;return 5===i?y=3:4===i?y=e.has("德")?2:3:3===i?y=e.has("德")?1:2:2===i?y=e.has("德")?0:2:1===i?y=e.has("德")?0:1:0===i&&(y=0),[i,y]}(t,e.signGods),r=e.acts;return function(t,e){var n=function(t){return!1};if(3===t){if(n())return;return e.good=new Set(["諸事不宜"]),void(e.bad=new Set(["諸事不宜"]))}for(var r=0,a=Array.from(e.bad.keys());r<a.length;r++){var o=a[r];if(e.good.has(o))if(2===t){if(n())return;e.good.delete(o)}else if(1===t){if(n())return;e.good.delete(o),e.bad.delete(o)}else if(0===t){if(n())return;e.bad.delete(o)}}}(n[1],r),r.good.has("諸事不宜")&&r.bad.has("諸事不宜")?{good:new Set(["諸事不宜"]),bad:new Set(["諸事不宜"])}:(ce(t,n,e),e.acts)},Me=new Array(60).fill(null),ke=new Array(60),Te=new Array(60).fill(0),De=function(t){for(var e,n=t.char8.day,r=function(t,e,n){var r=(12-ot[t%6]+0)%12;return[r,lt(r,n)]}(n.branch.value,0,"hour")[0],a=new Array(12).fill(0),o=0,l=new Array(12),i=0;i<12;i++){var s=new Array,u=lt((r+i)%12,"hour"),c=it(u),f=c&&c[2]>0?1:0;s.push(u);var h=c?c[2]:0;for(var d in dt){var g=dt[d],p=g[4];if(p&&p.isDay60HourGod){var v=(0,g[0])(t,"day");if(null!==v){var y=!1,m=p.checkBy,b=null;if("stem"===m)void 0===(e=i)&&(e=0),b=(n.stem.value%5*2+e)%10;else{if("branch"!==m)continue;b=i}(Array.isArray(v)&&v.includes(b)||"number"==typeof v&&v===b)&&(y=!0),y&&(s.push(d),h+=g[3]>0?1:g[3]<0?-1:0)}}}l[i]=s,a[i]=h,o+=(f>0?1:0)<<i}return Me[n.value]=l,ke[n.value]=a,Te[n.value]=o,l},Pe=function(){function t(t){var e,n=(null===(e=null==t?void 0:t.extra)||void 0===e?void 0:e.alias)||[],r={key:t.key,good:o([],t.good||[],!0),bad:o([],t.bad||[],!0),luckLevel:(null==t?void 0:t.luckLevel)||0,cate:(null==t?void 0:t.cate)||null,extra:(null==t?void 0:t.extra)||null,alias:o([],n,!0)};for(var a in r)Object.defineProperty(r,a,{writable:!1});this.data=r}return Object.defineProperty(t.prototype,"key",{get:function(){return this.data.key},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.key},t}(),Le=new Map,Ee={common:{"劫煞":[K([5,2,11,8],q,4),null,ne,-12,{actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return[2,8,5,11].includes(n)&&0===ht(t,"month")[0]&&"收"===r||[2,8].includes(n)&&e.has("六合")||[5,11].includes(n)&&e.has("月害")&&["月德","天德"].some(function(t){return e.has(t)})||[4,7,10,1].includes(n)&&("除"===r||e.has("相日")&&B.some(function(t){return e.has(t)}))?{replace:{bad:ue}}:null}}],"災煞":[K([6,3,0,9],q,4),null,"".concat(ee," 苫蓋").split(" "),-12,{actsFilter:function(t,e){var n=q(t,"month"),r=ct(t)[1];return([2,8,5,11].includes(n)&&"開"===r||[4,7,10,1].includes(n)&&"滿"===r)&&B.some(function(t){return e.has(t)})?{replace:{bad:ue}}:null}}]},year:de,month:Ae,day:je,hour:dt,monthSeason:Se};function Ye(t,e,n){var r="".concat(t,":").concat(e||0);if(Le.has(r))return Le.get(r);var a,o={key:t,good:[],bad:[],luckLevel:0,cate:e,extra:null};if("blackYellow"===n){var l=it(t);if(!l)return;o.good=l[0],o.bad=l[1],o.luckLevel=l[2],o.extra={showGB:!0}}else if("duty"===n){var i=(a=t,ut.hasOwnProperty(a)?ut[a]:null);if(!i)return;o.good=i[0],o.bad=i[1],o.extra=i[2],o.luckLevel=i[3]}else if("life"===n){if(!ft.includes(t))return}else{var s=void 0;if(n&&Ee.hasOwnProperty(n)?s=Ee[n]:e&&Ee.hasOwnProperty(e)&&(s=Ee[e]),!s||!s.hasOwnProperty(t))return;var u=s[t];u[0];var c=u[1],f=u[2],h=u[3],d=u[4],g=h>0?1:-1;o.good=c,o.bad=f,o.luckLevel=g,o.extra=d||null}var p=new Pe(o);return p&&Le.set(r,p),p}var Ce=function(){function t(t){this.lang="zh",this.supple=new Map;var e,n=t.key,r=t.cate,a=t.fromDict,o=t.lang;if(void 0!==t.godBase?e=t.godBase:void 0!==n&&void 0!==r&&(e=Ye(n,r,a)),!e)throw new Error("no this god");this.godBase=e,o&&(this.lang=o)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.godBase.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.godBase.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alias",{get:function(){var t=this;return this.data.alias.map(function(e){return nt(e,t.lang,"gods")})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return nt(this.godBase.key,this.lang,"gods")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cate",{get:function(){return this.data.cate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"good",{get:function(){var t=this;return this.data.good.map(function(e){return nt(e,t.lang,"acts")})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bad",{get:function(){var t=this;return this.data.bad.map(function(e){return nt(e,t.lang,"acts")})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"luckLevel",{get:function(){return this.data.luckLevel},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.name},t}();function Ne(t,e,n,r,a){return(0,n[e][0])(t,r,a)}function qe(t,e,n,r){return new Ce({key:e,cate:n,fromDict:r,lang:t.getConfig("lang")})}var ze=function(t,e,n,r,a){var o=[],l=function(t){if(Ee.hasOwnProperty(t))return Ee[t]}(e);if(!l)return o;for(var i in l)if(Ne(t,i,l,n,r)){var s=qe(t,i,a,e);s&&o.push(s)}return o},Fe=function(t,e,n){var r=V(e,!0),a="theGods:godsData:".concat(e);if(n&&n.has(a))return n.get(a);var o=[],l=null!==r;return"y"===r?(o=ze(t.lsr,"year","year","day","year")).push.apply(o,ze(t.lsr,"common","year","day","year")):"m"===r?((o=ze(t.lsr,"month","month","day","month")).push.apply(o,ze(t.lsr,"common","month","day","month")),o.push.apply(o,ze(t.lsr,"monthSeason","month","day","month"))):"d"===r?(o=ze(t.lsr,"day",void 0,"day","day")).push(t.getBy12God("day")):"h"===r&&(o=ze(t.lsr,"hour","day","hour","hour")).push(t.getBy12God("hour")),n&&l&&n.set(a,o),o},He=["喜神","福神","財神","陽貴","陰貴"],Ie={"喜神":{rule:[3,21,15,12,9],ruleValueType:"Direction24",ruleIndexType:"Stem",good:Jt(["嫁娶 冠帶 般移","017b"]),extra:{actsFilter:function(t,e){return z(t,"day")%5==2?{remove:{good:["嫁娶"]}}:null}}},"福神":{rule:[0,15,21,9,3],ruleValueType:"Direction24",ruleIndexType:"Stem"},"財神":{rule:[3,3,15,15,0,0,6,6,12,12],ruleValueType:"Direction24",ruleIndexType:"Stem"},"陽貴":{rule:[15,15,18,21,3,0,12,3,6,9],ruleValueType:"Direction24",ruleIndexType:"Stem"},"陰貴":{rule:[3,0,21,18,15,15,3,12,9,6],ruleValueType:"Direction24",ruleIndexType:"Stem"}},Re=function(t,e){var n,r,a,o,l="".concat(t,":day:direction");if(Le.has(l))return o=Le.get(l),new Ce({godBase:o,lang:e});var i=Ie[t];if(!i)throw new Error("Invalid god data");var s={key:t,good:null!==(n=i.good)&&void 0!==n?n:[],bad:null!==(r=i.bad)&&void 0!==r?r:[],luckLevel:1,cate:"day",extra:null!==(a=i.extra)&&void 0!==a?a:null};return o=new Pe(s),new Ce({godBase:o,lang:e})},Ue=function(){function t(t){this._cache=new Map,this.lsr=t}return t.getAllActs=function(t,e){void 0===t&&(t=0),void 0===e&&(e="zh");var n=function(t){return e?nt(t,e,"acts"):t};return 1===t?Ut.map(function(t){return n(t)}):2===t?Wt.map(function(t){return n(t)}):3===t?Vt.map(function(t){return n(t)}):Zt.map(function(t){return n(t)})},Object.defineProperty(t.prototype,"lang",{get:function(){return this.lsr.getConfig("lang")},enumerable:!1,configurable:!0}),t.prototype.getGods=function(t){var e=this;void 0===t&&(t="MD"),t=V(t,!1);var n=new Set(["y","m","d","h"]);return n.has(t)?Fe(this,t,this._cache):R("theGods:getGods:".concat(t),function(){for(var r=[],a=new Set,o=0;o<t.length;o++){var l=t[o];if(!a.has(l)&&n.has(l)){var i=Fe(e,l,e._cache);a.add(l),r.push.apply(r,i)}}return r},this._cache)},t.prototype.getGoodGods=function(t){return void 0===t&&(t="MD"),this.getGods(t).filter(function(t){var e,n=t.data,r=(null===(e=null==n?void 0:n.extra)||void 0===e?void 0:e.showGB)||!1;return n.luckLevel>0&&r})},t.prototype.getBadGods=function(t){return void 0===t&&(t="MD"),this.getGods(t).filter(function(t){var e,n=t.data,r=(null===(e=null==n?void 0:n.extra)||void 0===e?void 0:e.showGB)||!1;return n.luckLevel<0&&r})},t.prototype.getAllDayHourGods=function(){var t="theGods:allDayHourGods";if(this._cache.has(t))return this._cache.get(t);for(var e=function(t){var e=t.char8.day.value,n=Me[e];return n||(n=De(t)),n.slice()}(this.lsr),n=new Array(12),r=(0,dt.貴登天門[0])(this.lsr,"day"),a=(0,dt.九醜[0])(this.lsr,"day"),o=0;o<12;o++){for(var l=e[o]||[],i=[],s=0;s<l.length;s++){var u=l[s];if(u){if(0===s&&it(u)){i.push(qe(this.lsr,u,"hour","blackYellow"));continue}var c=qe(this.lsr,u,"hour","hour");c&&(i.push(c),"天乙貴人"===u&&r.includes(o)&&c.supple.set("貴登天門",!0)),null!==a&&a===o&&i.push(qe(this.lsr,"九醜","hour","hour"))}}n[o]=i}return this._cache.set(t,n),n},t.prototype.getLuckHours=function(t){return void 0===t&&(t=0),function(t,e){void 0===e&&(e=0);var n=t.char8.day.value;if(Me[n]||De(t),0===e){for(var r=[],a=Te[n],o=0;o<12;o++){var l=(a>>o&1)>0?1:-1;r.push(l)}return r}return ke[n].slice()}(this.lsr,t)},t.prototype.getAllLuckDirection=function(){var t=this,e="theGods:allLuckDirection";if(this._cache.has(e))return this._cache.get(e);var n=He.map(function(e){return t.getLuckDirection(e)});return this._cache.set(e,n),n},t.prototype.getLuckDirection=function(t){var e=this,n=He.find(function(n){return n===t||nt(n,e.lang,"gods")===t});if(!n)return null;var r="theGods:luckDirection:".concat(n);if(this._cache.has(r))return this._cache.get(r);var a=this.lsr.char8.day.stem.value,o=Ie[n],l=o.rule.length,i=o.rule[a%l],s=[this.lsr.lunisolar.Direction24.create(i,{lang:this.lang}),Re(n,this.lang)];return this._cache.set(r,s),s},t.prototype.getDuty12God=function(){var t="theGods:duty12God";if(this._cache.has(t))return this._cache.get(t);var e=function(t){var e=ct(t),n=e[0],r=e[1],a=ut[r],o=a[0],l=a[1],i=a[2],s=a[3];return[n,r,o,l,Object.assign({},{showGB:!1},i),s]}(this.lsr),n=e[1],r=qe(this.lsr,n,"day","duty");return this._cache.set(t,r),r},t.prototype.getLife12God=function(t){var e="theGods:live12God:".concat(t);if(this._cache.has(e))return this._cache.get(e);var n=ht(this.lsr,t)[1],r=qe(this.lsr,n,t,"life");return this._cache.set(e,r),r},t.prototype.getBy12God=function(t){var e="day"===t?"month":"day",n="theGods:by12God:".concat(t);if(this._cache.has(n))return this._cache.get(n);var r=function(t,e,n){var r=q(t,e),a=(q(t,n)+(12-ot[r%6]))%12,o=lt(a,n),l=at[o];return[a,o,l[0],l[1],l[2]]}(this.lsr,e,t),a=r[1],o=qe(this.lsr,a,t,"blackYellow");return this._cache.set(n,o),o},t.prototype.getActs=function(t,e,n){var r=this;void 0===t&&(t=0),void 0===e&&(e=!1);var a="theGods:getActs:".concat(t,":").concat(e?1:0,": ").concat(n?function(t){var e="";for(var n in t)e+="".concat(n).concat(t[n]);return e}(n):"null");return R(a,function(){var a=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1);var a,o=function(t){return n?nt(t,n,"acts"):t};if(t.good.has("諸事不宜"))return{good:[o("諸事不宜")],bad:[o("諸事不宜")]};var l={};1===e?(a=Ut,l={"上冊進表章":"上冊受封","興造動土":"修造動土","宴會":"會親友","遣使":"出行","般移":"移徒","製裁":"裁衣","施恩封拜":"襲爵受封"}):2===e?(a=Wt,l={"補垣塞穴":"補垣","襲爵受封":"施恩封拜"}):3===e?(a=Vt,l={"興造動土":"修造動土","宴會":"會親友","遣使":"出行","上官赴任":"上官","般移":"移徒","製裁":"裁衣"}):(a=Zt,l={"襲爵受封":"施恩封拜"}),function(t,e){for(var n in e){var r=e[n];t.good.has(n)&&(t.good.delete(n),t.good.add(r)),t.bad.has(n)&&(t.bad.delete(n),t.bad.add(r))}}(t,Object.assign({},l,null!=r?r:{}));for(var i=[],s=[],u=0,c=a;u<c.length;u++){var f=c[u];t.good.has(f)&&i.push(o(f)),t.bad.has(f)&&s.push(o(f))}return{good:0===i.length?[o("諸事不宜")]:i,bad:s}}(Oe(r),t,!e&&r.lsr.getConfig().lang,n);return a},this._cache)},t.prototype.getGoodActs=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),this.getActs(t,e,n).good},t.prototype.getBadActs=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),this.getActs(t,e,n).bad},t.prototype.query=function(t){var e=this,n=function(n){return function(t,e,n){return t===e||t===nt(e,n,"queryString")}(t,n,e.lang)};return n(i)?this.getGods("Y"):n(s)?this.getGods("M"):n(u)?this.getGods("D"):n(c)?this.getGods("H"):n(f)?this.getGods("MD"):n(h)?this.getBy12God("day"):n(d)?this.getBy12God("hour"):n(g)?this.getDuty12God():n(p)?this.getLife12God("year"):n(v)?this.getLife12God("month"):n(y)?this.getLife12God("day"):n(m)?this.getLife12God("hour"):n(b)?this.getGoodActs(0):n(w)?this.getGoodActs(1):n(_)?this.getGoodActs(2):n(x)?this.getGoodActs(3):n($)?this.getBadActs(0):n(A)?this.getBadActs(1):n(S)?this.getBadActs(2):n(j)?this.getBadActs(3):null},t}(),We=function(t,e,n){return r(void 0,void 0,void 0,function(){var t;return a(this,function(r){var a;return n.locale(E,!0),a=n._globalConfig.locales,et.locales=a,t=e.prototype,Object.defineProperty(t,"theGods",{get:function(){if(this.cache.has("theGods")){var t=this.cache.get("theGods");if(t instanceof Ue)return t}var e=new Ue(this);return this.cache.set("theGods",e),e}}),[2]})})};return We.TheGods=Ue,We.God=Ce,We}()}({exports:{}});const ke={"甲":{"甲":"比肩","乙":"劫财","丙":"食神","丁":"伤官","戊":"偏财","己":"正财","庚":"七杀","辛":"正官","壬":"偏印","癸":"正印"},"乙":{"甲":"劫财","乙":"比肩","丙":"伤官","丁":"食神","戊":"正财","己":"偏财","庚":"正官","辛":"七杀","壬":"正印","癸":"偏印"},"丙":{"甲":"偏印","乙":"正印","丙":"比肩","丁":"劫财","戊":"食神","己":"伤官","庚":"偏财","辛":"正财","壬":"七杀","癸":"正官"},"丁":{"甲":"正印","乙":"偏印","丙":"劫财","丁":"比肩","戊":"伤官","己":"食神","庚":"正财","辛":"偏财","壬":"正官","癸":"七杀"},"戊":{"甲":"七杀","乙":"正官","丙":"偏印","丁":"正印","戊":"比肩","己":"劫财","庚":"食神","辛":"伤官","壬":"偏财","癸":"正财"},"己":{"甲":"正官","乙":"七杀","丙":"正印","丁":"偏印","戊":"劫财","己":"比肩","庚":"伤官","辛":"食神","壬":"正财","癸":"偏财"},"庚":{"甲":"偏财","乙":"正财","丙":"七杀","丁":"正官","戊":"偏印","己":"正印","庚":"比肩","辛":"劫财","壬":"食神","癸":"伤官"},"辛":{"甲":"正财","乙":"偏财","丙":"正官","丁":"七杀","戊":"正印","己":"偏印","庚":"劫财","辛":"比肩","壬":"伤官","癸":"食神"},"壬":{"甲":"食神","乙":"伤官","丙":"偏财","丁":"正财","戊":"七杀","己":"正官","庚":"偏印","辛":"正印","壬":"比肩","癸":"劫财"},"癸":{"甲":"伤官","乙":"食神","丙":"正财","丁":"偏财","戊":"正官","己":"七杀","庚":"正印","辛":"偏印","壬":"劫财","癸":"比肩"}},Te={"甲":"#00FF00","乙":"#00FF00","丙":"#FF0000","丁":"#FF0000","戊":"#808000","己":"#808000","庚":"#FFA500","辛":"#FFA500","壬":"#00FFFF","癸":"#00FFFF"},De={"子":"#00FFFF","丑":"#808000","寅":"#00FF00","卯":"#00FF00","辰":"#808000","巳":"#FF0000","午":"#FF0000","未":"#808000","申":"#FFA500","酉":"#FFA500","戌":"#808000","亥":"#00FFFF"};function Pe(t){u(t,"svelte-1beqj5h",".input-group.svelte-1beqj5h.svelte-1beqj5h{display:grid;grid-template-columns:repeat(4, 1fr);gap:20px;padding:20px;border:1px solid #ccc;border-radius:8px}input.svelte-1beqj5h.svelte-1beqj5h{padding:10px;font-size:16px;border:1px solid #ddd;border-radius:4px}.table-c.svelte-1beqj5h.svelte-1beqj5h{width:100%}.table-c.svelte-1beqj5h th.svelte-1beqj5h{text-align:center;height:100px;font-size:24px;line-height:100px}.table-c.svelte-1beqj5h td.svelte-1beqj5h{text-align:center;height:80px;font-size:20px;line-height:80px}.self.svelte-1beqj5h.svelte-1beqj5h{color:red}.cang-item.svelte-1beqj5h.svelte-1beqj5h{height:100px}.cang-item.svelte-1beqj5h span.svelte-1beqj5h{display:block;height:30px;line-height:30px}.tian-tr.svelte-1beqj5h i.svelte-1beqj5h{display:block;position:absolute;top:-50%;left:50%;transform:translateX(-50%)}.tian-tr.svelte-1beqj5h td.svelte-1beqj5h{position:relative}")}function Le(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ee(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ye(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ce(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ne(t){let e,n,r,a,o,l=t[11]+"",i=t[4][t[11]]+"";return{c(){e=d("span"),n=g(l),r=p(),a=d("i"),o=g(i),x(e,"color",Te[t[11]]),b(e,"class","svelte-1beqj5h")},m(t,l){c(t,e,l),s(e,n),s(e,r),s(e,a),s(a,o)},p(t,r){8&r&&l!==(l=t[11]+"")&&w(n,l),24&r&&i!==(i=t[4][t[11]]+"")&&w(o,i),8&r&&x(e,"color",Te[t[11]])},d(t){t&&f(e)}}}function qe(t){let e,n,r,a,o,l=t[11]+"",i=t[4][t[11]]+"";return{c(){e=d("span"),n=g(l),r=p(),a=d("i"),o=g(i),x(e,"color",Te[t[11]]),b(e,"class","svelte-1beqj5h")},m(t,l){c(t,e,l),s(e,n),s(e,r),s(e,a),s(a,o)},p(t,r){8&r&&l!==(l=t[11]+"")&&w(n,l),24&r&&i!==(i=t[4][t[11]]+"")&&w(o,i),8&r&&x(e,"color",Te[t[11]])},d(t){t&&f(e)}}}function ze(t){let e,n,r,a,o,l=t[11]+"",i=t[4][t[11]]+"";return{c(){e=d("span"),n=g(l),r=p(),a=d("i"),o=g(i),x(e,"color",Te[t[11]]),b(e,"class","svelte-1beqj5h")},m(t,l){c(t,e,l),s(e,n),s(e,r),s(e,a),s(a,o)},p(t,r){8&r&&l!==(l=t[11]+"")&&w(n,l),24&r&&i!==(i=t[4][t[11]]+"")&&w(o,i),8&r&&x(e,"color",Te[t[11]])},d(t){t&&f(e)}}}function Fe(t){let e,n,r,a,o,l=t[11]+"",i=t[4][t[11]]+"";return{c(){e=d("span"),n=g(l),r=p(),a=d("i"),o=g(i),x(e,"color",Te[t[11]]),b(e,"class","svelte-1beqj5h")},m(t,l){c(t,e,l),s(e,n),s(e,r),s(e,a),s(a,o)},p(t,r){8&r&&l!==(l=t[11]+"")&&w(n,l),24&r&&i!==(i=t[4][t[11]]+"")&&w(o,i),8&r&&x(e,"color",Te[t[11]])},d(t){t&&f(e)}}}function He(t){let e,n,r,o,l,i,u,v,m,$,A,S,j,B,G,O,M,k,T,D,P,L,E,Y,C,N,q,z,F,H,I,R,U,W,J,Q,K,tt,at,ot,lt,it,st,ut,ct,ft,ht,dt,gt,pt,vt,yt,mt,bt,wt,_t,xt,At,St,Bt,Gt,Ot,Mt,kt,Tt,Dt,Pt,Lt,Et,Yt,Ct,Nt,qt,zt,Ft,Ht=t[4][t[3].char8.year.stem.toString()]+"",It=t[3].char8.year.stem.toString()+"",Rt=t[4][t[3].char8.month.stem.toString()]+"",Ut=t[3].char8.month.stem.toString()+"",Wt=t[3].char8.day.stem.toString()+"",Vt=t[4][t[3].char8.hour.stem.toString()]+"",Xt=t[3].char8.hour.stem.toString()+"",Zt=t[3].char8.year.branch.toString()+"",Jt=t[3].char8.month.branch.toString()+"",Qt=t[3].char8.day.branch.toString()+"",Kt=t[3].char8.hour.branch.toString()+"";e=new $t({});let te=Z(t[3].char8.year.branch.hiddenStems.toString().split(",")),ee=[];for(let e=0;e<te.length;e+=1)ee[e]=Ne(Ce(t,te,e));let ne=Z(t[3].char8.month.branch.hiddenStems.toString().split(",")),re=[];for(let e=0;e<ne.length;e+=1)re[e]=qe(Ye(t,ne,e));let ae=Z(t[3].char8.day.branch.hiddenStems.toString().split(",")),oe=[];for(let e=0;e<ae.length;e+=1)oe[e]=ze(Ee(t,ae,e));let le=Z(t[3].char8.hour.branch.hiddenStems.toString().split(",")),ie=[];for(let e=0;e<le.length;e+=1)ie[e]=Fe(Le(t,le,e));return Nt=new jt({}),{c(){et(e.$$.fragment),n=p(),r=d("div"),o=d("div"),l=d("div"),i=d("label"),i.textContent="选择日期:",u=p(),v=d("input"),m=p(),$=d("label"),$.textContent="选择时间:",A=p(),S=d("input"),j=p(),B=d("label"),B.textContent="选择出生时间:",G=p(),O=d("input"),M=p(),k=d("button"),k.textContent="查询",T=p(),D=d("div"),P=d("table"),L=d("thead"),L.innerHTML='<tr><th class="svelte-1beqj5h">八字</th> <th class="svelte-1beqj5h">年柱</th> <th class="svelte-1beqj5h">月柱</th> <th class="self svelte-1beqj5h">日柱</th> <th class="svelte-1beqj5h">时柱</th></tr>',E=p(),Y=d("tbody"),C=d("tr"),N=d("td"),N.textContent="天干",q=p(),z=d("td"),F=d("i"),H=g(Ht),I=g(It),R=p(),U=d("td"),W=d("i"),J=g(Rt),Q=g(Ut),K=p(),tt=d("td"),at=g(Wt),ot=p(),lt=d("td"),it=d("i"),st=g(Vt),ut=g(Xt),ct=p(),ft=d("tr"),ht=d("td"),ht.textContent="地支",dt=p(),gt=d("td"),pt=g(Zt),vt=p(),yt=d("td"),mt=g(Jt),bt=p(),wt=d("td"),_t=g(Qt),xt=p(),At=d("td"),St=g(Kt),Bt=p(),Gt=d("tr"),Ot=d("td"),Ot.textContent="藏干",Mt=p(),kt=d("td");for(let t=0;t<ee.length;t+=1)ee[t].c();Tt=p(),Dt=d("td");for(let t=0;t<re.length;t+=1)re[t].c();Pt=p(),Lt=d("td");for(let t=0;t<oe.length;t+=1)oe[t].c();Et=p(),Yt=d("td");for(let t=0;t<ie.length;t+=1)ie[t].c();Ct=p(),et(Nt.$$.fragment),b(i,"for","start"),b(v,"type","date"),b(v,"id","start"),b(v,"name","start-date"),b(v,"min","1900-01-01"),b(v,"max","2100-12-31"),b(v,"class","svelte-1beqj5h"),b($,"for","appt"),b(S,"type","time"),b(S,"id","appt"),b(S,"name","appt-time"),b(S,"min","00:00"),b(S,"max","23:59"),b(S,"step","600"),b(S,"class","svelte-1beqj5h"),b(B,"for","meeting"),b(O,"type","datetime-local"),b(O,"id","meeting"),b(O,"name","meeting-time"),b(O,"class","svelte-1beqj5h"),b(l,"class","choose-box input-group svelte-1beqj5h"),b(N,"class","svelte-1beqj5h"),b(F,"class","svelte-1beqj5h"),x(z,"color",Te[t[3].char8.year.stem.toString()]),b(z,"class","svelte-1beqj5h"),b(W,"class","svelte-1beqj5h"),x(U,"color",Te[t[3].char8.month.stem.toString()]),b(U,"class","svelte-1beqj5h"),b(tt,"class","self-td svelte-1beqj5h"),x(tt,"color",Te[t[3].char8.day.stem.toString()]),b(it,"class","svelte-1beqj5h"),x(lt,"color",Te[t[3].char8.hour.stem.toString()]),b(lt,"class","svelte-1beqj5h"),b(C,"class","tian-tr svelte-1beqj5h"),b(ht,"class","svelte-1beqj5h"),x(gt,"color",De[t[3].char8.year.branch.toString()]),b(gt,"class","svelte-1beqj5h"),x(yt,"color",De[t[3].char8.month.branch.toString()]),b(yt,"class","svelte-1beqj5h"),x(wt,"color",De[t[3].char8.day.branch.toString()]),b(wt,"class","svelte-1beqj5h"),x(At,"color",De[t[3].char8.hour.branch.toString()]),b(At,"class","svelte-1beqj5h"),b(Ot,"class","svelte-1beqj5h"),b(kt,"class","cang-item svelte-1beqj5h"),b(Dt,"class","cang-item svelte-1beqj5h"),b(Lt,"class","cang-item svelte-1beqj5h"),b(Yt,"class","cang-item svelte-1beqj5h"),b(Gt,"class","cang"),b(P,"width","100%"),b(P,"class","table-c svelte-1beqj5h"),b(D,"class","item"),b(o,"class","container"),b(r,"class","main")},m(a,f){nt(e,a,f),c(a,n,f),c(a,r,f),s(r,o),s(o,l),s(l,i),s(l,u),s(l,v),_(v,t[0]),s(l,m),s(l,$),s(l,A),s(l,S),_(S,t[1]),s(l,j),s(l,B),s(l,G),s(l,O),_(O,t[2]),s(l,M),s(l,k),s(o,T),s(o,D),s(D,P),s(P,L),s(P,E),s(P,Y),s(Y,C),s(C,N),s(C,q),s(C,z),s(z,F),s(F,H),s(z,I),s(C,R),s(C,U),s(U,W),s(W,J),s(U,Q),s(C,K),s(C,tt),s(tt,at),s(C,ot),s(C,lt),s(lt,it),s(it,st),s(lt,ut),s(Y,ct),s(Y,ft),s(ft,ht),s(ft,dt),s(ft,gt),s(gt,pt),s(ft,vt),s(ft,yt),s(yt,mt),s(ft,bt),s(ft,wt),s(wt,_t),s(ft,xt),s(ft,At),s(At,St),s(Y,Bt),s(Y,Gt),s(Gt,Ot),s(Gt,Mt),s(Gt,kt);for(let t=0;t<ee.length;t+=1)ee[t]&&ee[t].m(kt,null);s(Gt,Tt),s(Gt,Dt);for(let t=0;t<re.length;t+=1)re[t]&&re[t].m(Dt,null);s(Gt,Pt),s(Gt,Lt);for(let t=0;t<oe.length;t+=1)oe[t]&&oe[t].m(Lt,null);s(Gt,Et),s(Gt,Yt);for(let t=0;t<ie.length;t+=1)ie[t]&&ie[t].m(Yt,null);c(a,Ct,f),nt(Nt,a,f),qt=!0,zt||(Ft=[y(v,"input",t[7]),y(v,"input",t[5]),y(S,"input",t[8]),y(S,"input",t[5]),y(O,"input",t[9]),y(k,"click",t[6])],zt=!0)},p(t,[e]){if(1&e&&_(v,t[0]),2&e&&_(S,t[1]),4&e&&_(O,t[2]),(!qt||24&e)&&Ht!==(Ht=t[4][t[3].char8.year.stem.toString()]+"")&&w(H,Ht),(!qt||8&e)&&It!==(It=t[3].char8.year.stem.toString()+"")&&w(I,It),(!qt||8&e)&&x(z,"color",Te[t[3].char8.year.stem.toString()]),(!qt||24&e)&&Rt!==(Rt=t[4][t[3].char8.month.stem.toString()]+"")&&w(J,Rt),(!qt||8&e)&&Ut!==(Ut=t[3].char8.month.stem.toString()+"")&&w(Q,Ut),(!qt||8&e)&&x(U,"color",Te[t[3].char8.month.stem.toString()]),(!qt||8&e)&&Wt!==(Wt=t[3].char8.day.stem.toString()+"")&&w(at,Wt),(!qt||8&e)&&x(tt,"color",Te[t[3].char8.day.stem.toString()]),(!qt||24&e)&&Vt!==(Vt=t[4][t[3].char8.hour.stem.toString()]+"")&&w(st,Vt),(!qt||8&e)&&Xt!==(Xt=t[3].char8.hour.stem.toString()+"")&&w(ut,Xt),(!qt||8&e)&&x(lt,"color",Te[t[3].char8.hour.stem.toString()]),(!qt||8&e)&&Zt!==(Zt=t[3].char8.year.branch.toString()+"")&&w(pt,Zt),(!qt||8&e)&&x(gt,"color",De[t[3].char8.year.branch.toString()]),(!qt||8&e)&&Jt!==(Jt=t[3].char8.month.branch.toString()+"")&&w(mt,Jt),(!qt||8&e)&&x(yt,"color",De[t[3].char8.month.branch.toString()]),(!qt||8&e)&&Qt!==(Qt=t[3].char8.day.branch.toString()+"")&&w(_t,Qt),(!qt||8&e)&&x(wt,"color",De[t[3].char8.day.branch.toString()]),(!qt||8&e)&&Kt!==(Kt=t[3].char8.hour.branch.toString()+"")&&w(St,Kt),(!qt||8&e)&&x(At,"color",De[t[3].char8.hour.branch.toString()]),24&e){let n;for(te=Z(t[3].char8.year.branch.hiddenStems.toString().split(",")),n=0;n<te.length;n+=1){const r=Ce(t,te,n);ee[n]?ee[n].p(r,e):(ee[n]=Ne(r),ee[n].c(),ee[n].m(kt,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=te.length}if(24&e){let n;for(ne=Z(t[3].char8.month.branch.hiddenStems.toString().split(",")),n=0;n<ne.length;n+=1){const r=Ye(t,ne,n);re[n]?re[n].p(r,e):(re[n]=qe(r),re[n].c(),re[n].m(Dt,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ne.length}if(24&e){let n;for(ae=Z(t[3].char8.day.branch.hiddenStems.toString().split(",")),n=0;n<ae.length;n+=1){const r=Ee(t,ae,n);oe[n]?oe[n].p(r,e):(oe[n]=ze(r),oe[n].c(),oe[n].m(Lt,null))}for(;n<oe.length;n+=1)oe[n].d(1);oe.length=ae.length}if(24&e){let n;for(le=Z(t[3].char8.hour.branch.hiddenStems.toString().split(",")),n=0;n<le.length;n+=1){const r=Le(t,le,n);ie[n]?ie[n].p(r,e):(ie[n]=Fe(r),ie[n].c(),ie[n].m(Yt,null))}for(;n<ie.length;n+=1)ie[n].d(1);ie.length=le.length}},i(t){qt||(V(e.$$.fragment,t),V(Nt.$$.fragment,t),qt=!0)},o(t){X(e.$$.fragment,t),X(Nt.$$.fragment,t),qt=!1},d(t){t&&(f(n),f(r),f(Ct)),rt(e,t),h(ee,t),h(re,t),h(oe,t),h(ie,t),rt(Nt,t),zt=!1,a(Ft)}}}function Ie(t){const e=new Date(t);if(isNaN(e.getTime()))return"Invalid Date";return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}function Re(t,e,n){let r,a=(new Date).toISOString().substring(0,10),o=(new Date).toTimeString().substring(0,5),l=`${a}T${o}`;console.log(666,Ie(l)),r=s(Ie(l));let i=ke[r.char8.day.stem.toString()];function s(t){return Me(t)}return t.$$.update=()=>{if(7&t.$$.dirty&&l&&l.length>=16){const t=l.substring(0,10),e=l.substring(11,16);t!==a&&n(0,a=t),e!==o&&n(1,o=e)}},[a,o,l,r,i,function(){if(a&&o){const t=`${a}T${o}`;t!==l&&n(2,l=t)}},function(){n(3,r=s(Ie(l))),n(4,i=ke[r.char8.day.stem.toString()])},function(){a=this.value,n(0,a),n(2,l),n(1,o)},function(){o=this.value,n(1,o),n(2,l),n(0,a)},function(){l=this.value,n(2,l)}]}function Ue(t){u(t,"svelte-jqam9j",".img.svelte-jqam9j.svelte-jqam9j{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.img.svelte-jqam9j img.svelte-jqam9j{width:100%;max-width:885px;height:auto}.text.svelte-jqam9j.svelte-jqam9j{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:30px}")}function We(e){let n,r,a,o,l,i;return n=new $t({}),l=new jt({}),{c(){et(n.$$.fragment),r=p(),a=d("div"),a.innerHTML='<div class="container"><div class="img svelte-jqam9j"><img src="e872f53081297b92.png" alt="" class="svelte-jqam9j"/></div> <div class="text svelte-jqam9j"><p>乾坤屯蒙需讼师， 比小畜兮履泰否，</p> <p>同人大有谦豫随， 蛊临观兮噬嗑贲，</p> <p>剥复无妄大畜颐， 大过坎离三十备。</p> <p>咸恒遁兮及大壮， 晋与明夷家人睽，</p> <p>蹇解损益夬姤萃， 升困井革鼎震继，</p> <p>艮渐归妹丰旅巽， 兑涣节兮中孚至，</p> <p>小过既济兼未济， 是为下经三十四。</p> <p>注：卦名读音：</p> <p>1．乾卦：读qián——2．坤卦：kūn——3．屯卦：zhūn——4．蒙卦：méng——5．需卦：xū，6．讼卦：sòng——7．师卦：shī——8．比卦：bǐ——9．小畜卦：\n                xiǎo\n                xù——10．履卦：lǚ，11．泰卦：tài——12．否卦：pǐ——13同人卦：tóng\n                rén—14大有卦：dà\n                yǒu—15谦卦：qiān，16．豫卦：yù——17．随卦：suí——18．蛊卦：gǔ——19．临卦：lín——20．观卦：guān，21．噬嗑卦：shì\n                he(二声)—22．贲卦：bì—23剥卦：bō——24．复卦fù——25．无妄卦：wú\n                wàng\n                26．大畜卦：dàxù—27．颐卦：yí—28．大过卦：dàguò—29．坎卦：kǎn——30．离卦：lí\n                31．咸卦：xián——32．恒卦héng——33．遁卦dùn——34大壮卦dà\n                zhuàng——35晋卦：jìn 36．明夷卦míng yí—37家人卦：jiā\n                rén—38睽卦：kuí—39．蹇卦：jiǎn——40．解卦：jiě\n                41．损卦：sǔn——42．益卦：yì——43．夬卦：guài——44．姤卦：gòu——45．萃卦：cuì，46．升卦：shēng——47困卦：kùn——48．井卦：jǐng——49．革卦：gé——50．鼎卦：dǐng，51．震卦：zhèn——52．艮卦gèn——53．渐卦：jiàn——54归妹卦：guī\n                mèi—55．丰卦：fēng\n                56．旅卦：lǚ——57．巽卦：xùn——58．兑卦：duì——59．涣卦：huàn——60．节卦：jié，61．中孚卦：zhōng\n                fú——62．小过卦：xiǎo guò——63．既济卦：jì jì——64．未济卦：wèi jì</p></div></div>',o=p(),et(l.$$.fragment),b(a,"class","")},m(t,e){nt(n,t,e),c(t,r,e),c(t,a,e),c(t,o,e),nt(l,t,e),i=!0},p:t,i(t){i||(V(n.$$.fragment,t),V(l.$$.fragment,t),i=!0)},o(t){X(n.$$.fragment,t),X(l.$$.fragment,t),i=!1},d(t){t&&(f(r),f(a),f(o)),rt(n,t),rt(l,t)}}}const Ve={"/":class extends ot{constructor(t){super(),at(this,t,Ut,It,l,{},Et)}},"/about":class extends ot{constructor(t){super(),at(this,t,null,Vt,l,{},Wt)}},"/gossip":class extends ot{constructor(t){super(),at(this,t,null,We,l,{},Ue)}},"/detail/:id":class extends ot{constructor(t){super(),at(this,t,te,Qt,l,{params:2},Zt)}},"/subscribe":class extends ot{constructor(t){super(),at(this,t,Be,Ae,l,{},fe,[-1,-1])}},"/eightcharacters":class extends ot{constructor(t){super(),at(this,t,Re,He,l,{},Pe)}},"*":class extends ot{constructor(t){super(),at(this,t,null,Xt,l,{})}}};function Xe(e){let n,r;return n=new wt({props:{routes:Ve}}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),r=!0},p:t,i(t){r||(V(n.$$.fragment,t),r=!0)},o(t){X(n.$$.fragment,t),r=!1},d(t){rt(n,t)}}}"object"==typeof window&&(window.Ribbons=function(){var t=window,e=document.body,n=document.documentElement,r=function(){if(1===arguments.length){if(Array.isArray(arguments[0])){var t=Math.round(r(0,arguments[0].length-1));return arguments[0][t]}return r(0,arguments[0])}return 2===arguments.length?Math.random()*(arguments[1]-arguments[0])+arguments[0]:0},a=function(r){var a=Math.max(0,t.innerWidth||n.clientWidth||e.clientWidth||0),o=Math.max(0,t.innerHeight||n.clientHeight||e.clientHeight||0);return{width:a,height:o,ratio:a/o,centerx:a/2,centery:o/2,scrollx:Math.max(0,t.pageXOffset||n.scrollLeft||e.scrollLeft||0)-(n.clientLeft||0),scrolly:Math.max(0,t.pageYOffset||n.scrollTop||e.scrollTop||0)-(n.clientTop||0)}},o=function(t,e){this.x=0,this.y=0,this.set(t,e)};o.prototype={constructor:o,set:function(t,e){this.x=t||0,this.y=e||0},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},multiply:function(t,e){return this.x*=t||1,this.y*=e||1,this},divide:function(t,e){return this.x/=t||1,this.y/=e||1,this},add:function(t,e){return this.x+=t||0,this.y+=e||0,this},subtract:function(t,e){return this.x-=t||0,this.y-=e||0,this},clampX:function(t,e){return this.x=Math.max(t,Math.min(this.x,e)),this},clampY:function(t,e){return this.y=Math.max(t,Math.min(this.y,e)),this},flipX:function(){return this.x*=-1,this},flipY:function(){return this.y*=-1,this}};var l=function(t){this._canvas=null,this._context=null,this._sto=null,this._width=0,this._height=0,this._scroll=0,this._ribbons=[],this._options={colorSaturation:"80%",colorBrightness:"60%",colorAlpha:.65,colorCycleSpeed:6,verticalPosition:"center",horizontalSpeed:150,ribbonCount:3,strokeSize:0,parallaxAmount:-.5,animateSections:!0},this._onDraw=this._onDraw.bind(this),this._onResize=this._onResize.bind(this),this._onScroll=this._onScroll.bind(this),this.setOptions(t),this.init()};return l.prototype={constructor:l,setOptions:function(t){if("object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&(this._options[e]=t[e])},init:function(){try{this._canvas=document.createElement("canvas"),this._canvas.style.display="block",this._canvas.style.position="fixed",this._canvas.style.margin="0",this._canvas.style.padding="0",this._canvas.style.border="0",this._canvas.style.outline="0",this._canvas.style.left="0",this._canvas.style.top="0",this._canvas.style.right="0",this._canvas.style.bottom="0",this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style["z-index"]="-1",this._canvas.id="bgCanvas",this._onResize(),this._context=this._canvas.getContext("2d"),this._context.clearRect(0,0,this._width,this._height),this._context.globalAlpha=this._options.colorAlpha,window.addEventListener("resize",this._onResize),window.addEventListener("scroll",this._onScroll),document.body.appendChild(this._canvas)}catch(t){return void console.warn("Canvas Context Error: "+t.toString())}this._onDraw()},addRibbon:function(){var t=5<Math.round(r(1,9))?"right":"left",e=1e3,n=this._width+200,a=0,l=0,i="right"===t?-200:n,s=Math.round(r(0,this._height));/^(top|min)$/i.test(this._options.verticalPosition)?s=200:/^(middle|center)$/i.test(this._options.verticalPosition)?s=this._height/2:/^(bottom|max)$/i.test(this._options.verticalPosition)&&(s=this._height-200);for(var u=[],c=new o(i,s),f=new o(i,s),h=null,d=Math.round(r(0,360)),g=0;!(e<=0);){if(e--,a=Math.round((1*Math.random()-.2)*this._options.horizontalSpeed),l=Math.round((1*Math.random()-.5)*(.25*this._height)),(h=new o).copy(f),"right"===t){if(h.add(a,l),f.x>=n)break}else if("left"===t&&(h.subtract(a,l),f.x<=-200))break;u.push({point1:new o(c.x,c.y),point2:new o(f.x,f.y),point3:h,color:d,delay:g,dir:t,alpha:0,phase:0}),c.copy(f),f.copy(h),g+=4,d+=this._options.colorCycleSpeed}this._ribbons.push(u)},_drawRibbonSection:function(t){if(t){if(1<=t.phase&&t.alpha<=0)return!0;if(t.delay<=0){if(t.phase+=.02,t.alpha=1*Math.sin(t.phase),t.alpha=t.alpha<=0?0:t.alpha,t.alpha=1<=t.alpha?1:t.alpha,this._options.animateSections){var e=.1*Math.sin(1+t.phase*Math.PI/2);"right"===t.dir?(t.point1.add(e,0),t.point2.add(e,0),t.point3.add(e,0)):(t.point1.subtract(e,0),t.point2.subtract(e,0),t.point3.subtract(e,0)),t.point1.add(0,e),t.point2.add(0,e),t.point3.add(0,e)}}else t.delay-=.5;var n=this._options.colorSaturation,r=this._options.colorBrightness,a="hsla("+t.color+", "+n+", "+r+", "+t.alpha+" )";this._context.save(),0!==this._options.parallaxAmount&&this._context.translate(0,this._scroll*this._options.parallaxAmount),this._context.beginPath(),this._context.moveTo(t.point1.x,t.point1.y),this._context.lineTo(t.point2.x,t.point2.y),this._context.lineTo(t.point3.x,t.point3.y),this._context.fillStyle=a,this._context.fill(),0<this._options.strokeSize&&(this._context.lineWidth=this._options.strokeSize,this._context.strokeStyle=a,this._context.lineCap="round",this._context.stroke()),this._context.restore()}return!1},_onDraw:function(){for(var t=0,e=this._ribbons.length;t<e;++t)this._ribbons[t]||this._ribbons.splice(t,1);this._context.clearRect(0,0,this._width,this._height);for(var n=0;n<this._ribbons.length;++n){for(var r=this._ribbons[n],a=r.length,o=0,l=0;l<a;++l)this._drawRibbonSection(r[l])&&o++;a<=o&&(this._ribbons[n]=null)}this._ribbons.length<this._options.ribbonCount&&this.addRibbon(),requestAnimationFrame(this._onDraw)},_onResize:function(t){var e=a();this._width=e.width,this._height=e.height,this._canvas&&(this._canvas.width=this._width,this._canvas.height=this._height,this._context&&(this._context.globalAlpha=this._options.colorAlpha))},_onScroll:function(t){var e=a();this._scroll=e.scrolly}},l}()),new Ribbons({animateSections:!0,colorAlpha:.5,colorBrightness:"50%",colorCycleSpeed:5,colorSaturation:"60%",horizontalSpeed:200,parallaxAmount:-.2,ribbonCount:3,strokeSize:0,verticalPosition:"random"});return new class extends ot{constructor(t){super(),at(this,t,null,Xe,l,{})}}({target:document.getElementById("app")})}();
//# sourceMappingURL=bundle-v0.0.2-lgF3jVgQ.js.map
